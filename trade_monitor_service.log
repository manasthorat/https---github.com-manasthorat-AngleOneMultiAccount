2025-04-27 00:44:22,763 - __main__ - INFO - Successfully loaded configuration from config.json
2025-04-27 00:44:22,764 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-04-27 00:44:22,777 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 00:44:42,075 - __main__ - INFO - Successfully loaded configuration from config.json
2025-04-27 00:44:42,076 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-04-27 00:44:42,087 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:34:20,628 - __main__ - INFO - Successfully loaded configuration from config.json
2025-04-27 01:34:20,628 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-04-27 01:34:20,639 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:38:32,867 - __main__ - INFO - Successfully loaded configuration from config.json
2025-04-27 01:38:32,868 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-04-27 01:38:32,884 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:38:32,885 - TradeMonitorService - INFO - Successfully loaded 5 trades from option_trades.json
2025-04-27 01:38:32,886 - TradeMonitorService - INFO - TradeMonitorService initialized with 5 active trades
2025-04-27 01:38:32,887 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-04-27 01:38:32,887 - TradeMonitorService - INFO - Trade monitoring thread started
2025-04-27 01:38:32,888 - __main__ - INFO - Initializing 1 client connections
2025-04-27 01:38:32,924 - __main__ - INFO - Attempting login for client: M543167
2025-04-27 01:38:35,368 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-04-27 01:38:35,369 - __main__ - INFO - Login successful for client: M543167
2025-04-27 01:38:35,370 - __main__ - INFO - Client M543167 initialized successfully
2025-04-27 01:38:35,370 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-04-27 01:38:35,370 - options_module - INFO - Verifying client connection
2025-04-27 01:38:35,371 - options_module - INFO - Client connection verified with smart_api structure
2025-04-27 01:38:35,371 - options_module - INFO - Options processor initialized with 1 verified clients
2025-04-27 01:38:35,372 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-04-27 01:38:48,170 - options_module - INFO - Successfully loaded 122847 symbols from OpenAPI
2025-04-27 01:38:48,174 - options_trade_manager - INFO - Successfully loaded 5 trades from option_trades.json
2025-04-27 01:38:48,175 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-04-27 01:38:48,176 - __main__ - INFO - Performing periodic session refresh for all clients
2025-04-27 01:38:48,176 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-04-27 01:38:48,201 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.6:5000
2025-04-27 01:38:48,202 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-04-27 01:38:48,206 - werkzeug - INFO -  * Restarting with stat
2025-04-27 01:38:48,754 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-04-27 01:38:50,401 - __main__ - INFO - Successfully loaded configuration from config.json
2025-04-27 01:38:50,401 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-04-27 01:38:50,417 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:38:50,420 - TradeMonitorService - INFO - Successfully loaded 5 trades from option_trades.json
2025-04-27 01:38:50,421 - TradeMonitorService - INFO - TradeMonitorService initialized with 5 active trades
2025-04-27 01:38:50,422 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-04-27 01:38:50,422 - TradeMonitorService - INFO - Trade monitoring thread started
2025-04-27 01:38:50,423 - __main__ - INFO - Initializing 1 client connections
2025-04-27 01:38:50,464 - __main__ - INFO - Attempting login for client: M543167
2025-04-27 01:38:52,408 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-04-27 01:38:52,409 - __main__ - INFO - Login successful for client: M543167
2025-04-27 01:38:52,409 - __main__ - INFO - Client M543167 initialized successfully
2025-04-27 01:38:52,410 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-04-27 01:38:52,410 - options_module - INFO - Verifying client connection
2025-04-27 01:38:52,411 - options_module - INFO - Client connection verified with smart_api structure
2025-04-27 01:38:52,412 - options_module - INFO - Options processor initialized with 1 verified clients
2025-04-27 01:38:52,412 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-04-27 01:39:02,519 - options_module - INFO - Successfully loaded 122847 symbols from OpenAPI
2025-04-27 01:39:02,526 - options_trade_manager - INFO - Successfully loaded 5 trades from option_trades.json
2025-04-27 01:39:02,527 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-04-27 01:39:02,529 - __main__ - INFO - Performing periodic session refresh for all clients
2025-04-27 01:39:02,529 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-04-27 01:39:02,551 - werkzeug - WARNING -  * Debugger is active!
2025-04-27 01:39:02,559 - werkzeug - INFO -  * Debugger PIN: 208-444-543
2025-04-27 01:39:03,457 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-04-27 01:39:03,525 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:03] "[32mGET / HTTP/1.1[0m" 302 -
2025-04-27 01:39:03,553 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:03] "GET /login HTTP/1.1" 200 -
2025-04-27 01:39:03,754 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:03] "GET /static/css/main.css HTTP/1.1" 200 -
2025-04-27 01:39:03,856 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-27 01:39:04,988 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:04] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-04-27 01:39:05,003 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:05] "GET / HTTP/1.1" 200 -
2025-04-27 01:39:05,025 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:39:05,067 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:05] "GET /api/accounts/status HTTP/1.1" 200 -
2025-04-27 01:39:05,071 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:05] "GET /api/accounts/status HTTP/1.1" 200 -
2025-04-27 01:39:08,058 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:08] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:39:08,070 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:39:08,128 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:08] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:39:28,139 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:28] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:39:48,140 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:39:48] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:12,056 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:12] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:12,988 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2524000PE', 'symboltoken': '51979', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.14'}
2025-04-27 01:40:13,027 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2523850PE', 'symboltoken': '51973', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '100.63'}
2025-04-27 01:40:13,035 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2524150CE', 'symboltoken': '51984', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '122.17'}
2025-04-27 01:40:13,051 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2524100CE', 'symboltoken': '51982', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '145.28'}
2025-04-27 01:40:13,057 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2523900PE', 'symboltoken': '51975', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '115.29'}
2025-04-27 01:40:14,014 - __main__ - INFO - Raw API response: 0427dab89870AO
2025-04-27 01:40:14,015 - __main__ - INFO - Received order ID as direct string response: 0427dab89870AO
2025-04-27 01:40:14,015 - TradeMonitorService - INFO - Successfully exited option position NIFTY30APR2524000PE (MANUAL_EXIT): 0427dab89870AO
2025-04-27 01:40:14,029 - __main__ - INFO - Raw API response: 0427264a4bcbAO
2025-04-27 01:40:14,047 - __main__ - INFO - Raw API response: 042765f76884AO
2025-04-27 01:40:14,048 - __main__ - INFO - Received order ID as direct string response: 0427264a4bcbAO
2025-04-27 01:40:14,049 - __main__ - INFO - Received order ID as direct string response: 042765f76884AO
2025-04-27 01:40:14,049 - TradeMonitorService - INFO - Successfully exited option position NIFTY30APR2523850PE (MANUAL_EXIT): 0427264a4bcbAO
2025-04-27 01:40:14,049 - TradeMonitorService - INFO - Successfully exited option position NIFTY30APR2523900PE (MANUAL_EXIT): 042765f76884AO
2025-04-27 01:40:14,070 - __main__ - INFO - Raw API response: 0427c6b34ed0AO
2025-04-27 01:40:14,086 - __main__ - INFO - Raw API response: 0427c0852591AO
2025-04-27 01:40:14,106 - __main__ - INFO - Received order ID as direct string response: 0427c6b34ed0AO
2025-04-27 01:40:14,107 - __main__ - INFO - Received order ID as direct string response: 0427c0852591AO
2025-04-27 01:40:14,107 - TradeMonitorService - INFO - Successfully exited option position NIFTY30APR2524100CE (MANUAL_EXIT): 0427c6b34ed0AO
2025-04-27 01:40:14,108 - TradeMonitorService - INFO - Successfully exited option position NIFTY30APR2524150CE (MANUAL_EXIT): 0427c0852591AO
2025-04-27 01:40:14,993 - TradeMonitorService - INFO - P&L for NIFTY30APR2524000PE: Rs.0.00 (0.00%)
2025-04-27 01:40:14,995 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524000PE in completed_option_trades.json
2025-04-27 01:40:14,998 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:14] "POST /api/positions/exit/b3a9bca1-2401-48bd-abc4-4026c46eb035 HTTP/1.1" 200 -
2025-04-27 01:40:15,024 - TradeMonitorService - INFO - P&L for NIFTY30APR2523850PE: Rs.0.00 (0.00%)
2025-04-27 01:40:15,037 - TradeMonitorService - INFO - P&L for NIFTY30APR2523900PE: Rs.0.00 (0.00%)
2025-04-27 01:40:15,042 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2523900PE in completed_option_trades.json
2025-04-27 01:40:15,042 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2523850PE in completed_option_trades.json
2025-04-27 01:40:15,044 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:15] "POST /api/positions/exit/f904b67b-1cb0-485b-a378-79971f18b297 HTTP/1.1" 200 -
2025-04-27 01:40:15,046 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:15] "POST /api/positions/exit/2e9a65f6-8e63-423c-8033-8605ac349108 HTTP/1.1" 200 -
2025-04-27 01:40:15,050 - TradeMonitorService - INFO - P&L for NIFTY30APR2524100CE: Rs.0.00 (0.00%)
2025-04-27 01:40:15,056 - TradeMonitorService - INFO - P&L for NIFTY30APR2524150CE: Rs.0.00 (0.00%)
2025-04-27 01:40:15,071 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524100CE in completed_option_trades.json
2025-04-27 01:40:15,071 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524150CE in completed_option_trades.json
2025-04-27 01:40:15,073 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:15] "POST /api/positions/exit/c8bb029d-ffea-4d23-aa51-14275f94cf41 HTTP/1.1" 200 -
2025-04-27 01:40:15,074 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:15] "POST /api/positions/exit/450f9ab7-773d-4984-9613-9d21c01bf7d0 HTTP/1.1" 200 -
2025-04-27 01:40:15,087 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:15] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:28,131 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:28] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:32,954 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": 3, "expiry_preference": "30APR2025", "underlying_price": "24000", "underlying_stop_loss": "23000", "underlying_target": "25000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-04-27 01:40:32,954 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options
2025-04-27 01:40:32,955 - options_trade_manager - INFO - Fetching options for NIFTY expiry 30APR2025
2025-04-27 01:40:32,955 - options_module - INFO - Fetching options for NIFTY with expiry 30APR2025
2025-04-27 01:40:32,999 - options_module - INFO - Found 115 calls and 115 puts in DataFrame
2025-04-27 01:40:33,001 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-04-27 01:40:33,005 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24000.0
2025-04-27 01:40:35,379 - options_module - WARNING - Error getting price for NIFTY30APR2523850CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-04-27 01:40:35,387 - options_module - WARNING - Error getting price for NIFTY30APR2524200CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-04-27 01:40:38,719 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/30APR2025
2025-04-27 01:40:38,720 - options_trade_manager - INFO - Selected OTM Call option (depth 3): NIFTY30APR2524150CE (Strike: 24150.0)
2025-04-27 01:40:39,324 - options_trade_manager - INFO - Placing order for NIFTY30APR2524150CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-04-27 01:40:39,325 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2524150CE', 'symboltoken': '51984', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '124.63'}
2025-04-27 01:40:39,873 - __main__ - INFO - Raw API response: 0427b813f3ecAO
2025-04-27 01:40:39,874 - __main__ - INFO - Received order ID as direct string response: 0427b813f3ecAO
2025-04-27 01:40:39,874 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0427b813f3ecAO
2025-04-27 01:40:40,420 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-04-27 01:40:40,423 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:40] "POST /options-webhook HTTP/1.1" 200 -
2025-04-27 01:40:46,932 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:46] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:40:46,939 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:46] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:48,134 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:48] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:50,096 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:50] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:51,290 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:51] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:51,478 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:51] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:40:51,696 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:40:51] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:41:08,134 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:41:08] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:41:08,365 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:41:08] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:41:14,464 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": 3, "expiry_preference": "30APR2025", "underlying_price": "24000", "underlying_stop_loss": "23000", "underlying_target": "25000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-04-27 01:41:14,465 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options
2025-04-27 01:41:14,465 - options_trade_manager - INFO - Fetching options for NIFTY expiry 30APR2025
2025-04-27 01:41:14,466 - options_module - INFO - Fetching options for NIFTY with expiry 30APR2025
2025-04-27 01:41:14,499 - options_module - INFO - Found 115 calls and 115 puts in DataFrame
2025-04-27 01:41:14,500 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-04-27 01:41:14,504 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24000.0
2025-04-27 01:41:19,217 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/30APR2025
2025-04-27 01:41:19,225 - options_trade_manager - INFO - Selected OTM Call option (depth 3): NIFTY30APR2524150CE (Strike: 24150.0)
2025-04-27 01:41:19,795 - options_trade_manager - INFO - Placing order for NIFTY30APR2524150CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-04-27 01:41:19,795 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY30APR2524150CE', 'symboltoken': '51984', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '124.63'}
2025-04-27 01:41:20,386 - __main__ - INFO - Raw API response: 04276fcf37d5AO
2025-04-27 01:41:20,386 - __main__ - INFO - Received order ID as direct string response: 04276fcf37d5AO
2025-04-27 01:41:20,387 - options_trade_manager - INFO - Option order placed successfully for client M543167: 04276fcf37d5AO
2025-04-27 01:41:20,945 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-04-27 01:41:20,946 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:41:20] "POST /options-webhook HTTP/1.1" 200 -
2025-04-27 01:41:28,586 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:41:28] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:41:48,590 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:41:48] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:08,595 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:08] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:14,526 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:14] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:15,509 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:15] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:16,426 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:16] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:42:16,434 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:16] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:17,253 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:17] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:42:17,262 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:17] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:18,563 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:18] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:42:18,571 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:18] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:19,135 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:19] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:42:19,150 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:19] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:28,127 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:28] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:42:32,589 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:32] "GET /orders HTTP/1.1" 200 -
2025-04-27 01:42:32,604 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:42:41,452 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:42,275 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:42:42,937 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:42,938 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:43,496 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:43,496 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:44,140 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:44,140 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:44,670 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:44,671 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:44,688 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:44] "GET /options HTTP/1.1" 200 -
2025-04-27 01:42:44,705 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:42:44,774 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-04-27 01:42:44,833 - options_module - INFO - Prepared list of 221 F&O symbols
2025-04-27 01:42:44,839 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:44] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-04-27 01:42:55,190 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:55,796 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:42:56,507 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:56,508 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:57,252 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:57,253 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:58,055 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:58,056 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:58,756 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:42:58,757 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:42:58,760 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:58] "GET /options HTTP/1.1" 200 -
2025-04-27 01:42:58,773 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:42:58,841 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-04-27 01:42:58,889 - options_module - INFO - Prepared list of 221 F&O symbols
2025-04-27 01:42:58,895 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:42:58] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-04-27 01:43:04,516 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:04] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:43:04,530 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:04,568 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:04] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:43:08,085 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:08] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:43:08,102 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:08,158 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:08] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:43:11,685 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:11] "GET /orders HTTP/1.1" 200 -
2025-04-27 01:43:11,696 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:15,272 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:15] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:43:15,289 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:15,324 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:15] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:43:35,337 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:35] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:43:47,727 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:43:47,739 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:47] "GET /accounts HTTP/1.1" 200 -
2025-04-27 01:43:47,758 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:48,839 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-04-27 01:43:50,026 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:50] "GET /dashboard HTTP/1.1" 200 -
2025-04-27 01:43:50,041 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:43:53,066 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:43:53] "[33mGET /check-connection HTTP/1.1[0m" 404 -
2025-04-27 01:44:00,385 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:44:00] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-04-27 01:45:06,447 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:06] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:45:06,462 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:45:06,498 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:06] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:45:21,944 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:21] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-04-27 01:45:21,954 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:21] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:45:23,668 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:23] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:45:26,589 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:26] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:45:46,592 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:45:46] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:46:06,599 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:06] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:46:26,595 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:26] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:46:46,356 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:46,503 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:46] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:46:46,965 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:46:47,742 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:47,743 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:48,516 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:48,516 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:49,025 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:49] "GET /orders HTTP/1.1" 200 -
2025-04-27 01:46:49,042 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:46:49,268 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:49,268 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:49,884 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:49,885 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:49,887 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:49] "GET /options HTTP/1.1" 200 -
2025-04-27 01:46:50,729 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:50,730 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:51,368 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:51,369 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:51,373 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:51] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:46:51,401 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:46:51,440 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:51] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:46:52,124 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:52,802 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:46:53,493 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:53,494 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:54,203 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:46:54,204 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:46:54,206 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:46:54] "GET /options HTTP/1.1" 200 -
2025-04-27 01:47:11,596 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:11] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:47:14,956 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:15,567 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:47:16,217 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:16,218 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:16,805 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:16,805 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:17,389 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:17,390 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:18,147 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:18,148 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:18,151 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:18] "GET /options HTTP/1.1" 200 -
2025-04-27 01:47:18,588 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:18,589 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:19,239 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:19,240 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:20,072 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:20,072 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:20,459 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:47:20,462 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:20] "GET /accounts HTTP/1.1" 200 -
2025-04-27 01:47:20,479 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:20] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:47:20,820 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:21,344 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:47:21,995 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:47:21,995 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:47:21,997 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:21] "GET /options HTTP/1.1" 200 -
2025-04-27 01:47:22,367 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-04-27 01:47:23,528 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:23] "GET /dashboard HTTP/1.1" 200 -
2025-04-27 01:47:23,543 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:47:53,830 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:53] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:47:53,848 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:47:53,882 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:53] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:47:55,655 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:55] "GET /orders HTTP/1.1" 200 -
2025-04-27 01:47:55,666 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:47:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:48:26,745 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:48:26,746 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:26] "GET /accounts HTTP/1.1" 200 -
2025-04-27 01:48:26,757 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:48:30,521 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-04-27 01:48:31,630 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:31] "GET /dashboard HTTP/1.1" 200 -
2025-04-27 01:48:31,641 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:31] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:48:49,376 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:48:49,951 - options_module - INFO - Got price for index NIFTY: 24039.35
2025-04-27 01:48:50,379 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:50] "GET /positions HTTP/1.1" 200 -
2025-04-27 01:48:50,396 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:48:50,430 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:50] "GET /api/positions HTTP/1.1" 200 -
2025-04-27 01:48:50,558 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:48:50,558 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:48:51,075 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:48:51,076 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:48:51,566 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:48:51,566 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:48:52,052 - options_module - INFO - Getting price for NIFTY on NSE
2025-04-27 01:48:52,052 - options_module - INFO - Using cached price for NIFTY: 24039.35
2025-04-27 01:48:52,054 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:48:52] "GET /options HTTP/1.1" 200 -
2025-04-27 01:49:02,172 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-04-27 01:49:02,174 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:49:02] "GET /accounts HTTP/1.1" 200 -
2025-04-27 01:49:02,189 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:49:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-04-27 01:49:04,292 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:49:04] "GET /orders HTTP/1.1" 200 -
2025-04-27 01:49:04,303 - werkzeug - INFO - 127.0.0.1 - - [27/Apr/2025 01:49:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 16:40:12,940 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-02 16:40:12,941 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-02 16:40:12,953 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-02 16:40:12,955 - TradeMonitorService - INFO - Successfully loaded 5 trades from option_trades.json
2025-05-02 16:40:12,955 - TradeMonitorService - INFO - TradeMonitorService initialized with 5 active trades
2025-05-02 16:40:12,957 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-02 16:40:12,957 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-02 16:40:12,958 - __main__ - INFO - Initializing 1 client connections
2025-05-02 16:40:12,988 - __main__ - INFO - Attempting login for client: M543167
2025-05-02 16:40:14,994 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-02 16:40:14,995 - __main__ - INFO - Login successful for client: M543167
2025-05-02 16:40:14,996 - __main__ - INFO - Client M543167 initialized successfully
2025-05-02 16:40:14,996 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-02 16:40:14,997 - options_module - INFO - Verifying client connection
2025-05-02 16:40:14,998 - options_module - INFO - Client connection verified with smart_api structure
2025-05-02 16:40:14,999 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-02 16:40:14,999 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-02 16:40:20,820 - options_module - INFO - Successfully loaded 124156 symbols from OpenAPI
2025-05-02 16:40:20,831 - options_trade_manager - INFO - Successfully loaded 5 trades from option_trades.json
2025-05-02 16:40:20,831 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-02 16:40:20,832 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-02 16:40:20,833 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-02 16:40:20,884 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-02 16:40:20,884 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-02 16:40:20,891 - werkzeug - INFO -  * Restarting with stat
2025-05-02 16:40:21,584 - TradeMonitorService - INFO - Trade NIFTY30APR2524000PE appears to have been exited externally
2025-05-02 16:40:21,584 - TradeMonitorService - INFO - Trade NIFTY30APR2523900PE appears to have been exited externally
2025-05-02 16:40:21,584 - TradeMonitorService - INFO - Trade NIFTY30APR2524100CE appears to have been exited externally
2025-05-02 16:40:21,585 - TradeMonitorService - INFO - Trade NIFTY30APR2523850PE appears to have been exited externally
2025-05-02 16:40:21,585 - TradeMonitorService - INFO - Trade NIFTY30APR2524150CE appears to have been exited externally
2025-05-02 16:40:21,587 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524000PE in completed_option_trades.json
2025-05-02 16:40:21,600 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2523900PE in completed_option_trades.json
2025-05-02 16:40:21,615 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524100CE in completed_option_trades.json
2025-05-02 16:40:21,625 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2523850PE in completed_option_trades.json
2025-05-02 16:40:21,637 - TradeMonitorService - INFO - Recorded completed trade for NIFTY30APR2524150CE in completed_option_trades.json
2025-05-02 16:40:21,643 - TradeMonitorService - INFO - Removed 5 trades that were exited externally
2025-05-02 16:40:24,251 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-02 16:40:24,251 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-02 16:40:24,264 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-02 16:40:24,265 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-02 16:40:24,265 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-02 16:40:24,266 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-02 16:40:24,267 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-02 16:40:24,268 - __main__ - INFO - Initializing 1 client connections
2025-05-02 16:40:24,305 - __main__ - INFO - Attempting login for client: M543167
2025-05-02 16:40:26,674 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-02 16:40:26,675 - __main__ - INFO - Login successful for client: M543167
2025-05-02 16:40:26,676 - __main__ - INFO - Client M543167 initialized successfully
2025-05-02 16:40:26,677 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-02 16:40:26,678 - options_module - INFO - Verifying client connection
2025-05-02 16:40:26,679 - options_module - INFO - Client connection verified with smart_api structure
2025-05-02 16:40:26,680 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-02 16:40:26,681 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-02 16:40:32,942 - options_module - INFO - Successfully loaded 124156 symbols from OpenAPI
2025-05-02 16:40:32,953 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-02 16:40:32,953 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-02 16:40:32,955 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-02 16:40:32,955 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-02 16:40:32,990 - werkzeug - WARNING -  * Debugger is active!
2025-05-02 16:40:33,031 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-02 17:36:01,498 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:01] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-02 17:36:01,679 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:01] "GET /login HTTP/1.1" 200 -
2025-05-02 17:36:01,840 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:01] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-02 17:36:02,287 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-02 17:36:19,438 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:19] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-02 17:36:19,473 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:19] "GET / HTTP/1.1" 200 -
2025-05-02 17:36:19,704 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:19,916 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:19] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-02 17:36:20,232 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:20] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-02 17:36:24,444 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-02 17:36:24,455 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:24] "GET /accounts HTTP/1.1" 200 -
2025-05-02 17:36:24,754 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:25,806 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:25] "GET /positions HTTP/1.1" 200 -
2025-05-02 17:36:25,948 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:25] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:26,056 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-02 17:36:27,114 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-02 17:36:27,115 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:27] "GET /accounts HTTP/1.1" 200 -
2025-05-02 17:36:27,430 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:27] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:29,041 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:29] "GET /positions HTTP/1.1" 200 -
2025-05-02 17:36:29,182 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:29] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:29,304 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:29] "GET /api/positions HTTP/1.1" 200 -
2025-05-02 17:36:34,305 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:34] "GET /options HTTP/1.1" 200 -
2025-05-02 17:36:34,568 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:36:34,935 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-02 17:36:35,058 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-02 17:36:35,063 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:35] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-02 17:36:36,805 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-02 17:36:36,806 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-02 17:36:36,808 - __main__ - INFO - Using client M543167 for expiry dates API
2025-05-02 17:36:36,809 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-02 17:36:36,811 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-02 17:36:36,814 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-02 17:36:36,884 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-02 17:36:36,884 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-02 17:36:36,885 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:36] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-02 17:36:37,207 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 08MAY2025, exchange: NSE
2025-05-02 17:36:37,208 - __main__ - INFO - Using client M543167 for option chain API
2025-05-02 17:36:37,208 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-02 17:36:37,209 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-02 17:36:37,209 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-02 17:36:38,583 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 22MAY2025, exchange: NSE
2025-05-02 17:36:38,583 - __main__ - INFO - Using client M543167 for option chain API
2025-05-02 17:36:38,584 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-02 17:36:38,584 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-02 17:36:38,585 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-02 17:36:39,349 - options_module - INFO - Got price for index NIFTY: 24346.7
2025-05-02 17:36:39,350 - __main__ - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-02 17:36:39,350 - options_module - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-02 17:36:39,409 - options_module - INFO - Found 115 calls and 115 puts in DataFrame
2025-05-02 17:36:39,411 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-02 17:36:39,420 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24350.0
2025-05-02 17:36:39,611 - options_module - INFO - Got price for index NIFTY: 24346.7
2025-05-02 17:36:39,611 - __main__ - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-02 17:36:39,612 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-02 17:36:39,722 - options_module - INFO - Found 81 calls and 81 puts in DataFrame
2025-05-02 17:36:39,723 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-02 17:36:39,730 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24350.0
2025-05-02 17:36:43,295 - options_module - WARNING - Error getting price for NIFTY22MAY2524650CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,328 - options_module - WARNING - Error getting price for NIFTY22MAY2524450CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,416 - options_module - WARNING - Error getting price for NIFTY22MAY2524050CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,435 - options_module - WARNING - Error getting price for NIFTY22MAY2524200CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,440 - options_module - WARNING - Error getting price for NIFTY22MAY2524150CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,495 - options_module - WARNING - Error getting price for NIFTY22MAY2524400CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:43,529 - options_module - WARNING - Error getting price for NIFTY22MAY2524350CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:36:50,568 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/08MAY2025
2025-05-02 17:36:50,569 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-02 17:36:50,570 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:50] "GET /api/get-option-chain?symbol=NIFTY&expiry=08MAY2025 HTTP/1.1" 200 -
2025-05-02 17:36:50,878 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-02 17:36:50,880 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-02 17:36:50,882 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:36:50] "GET /api/get-option-chain?symbol=NIFTY&expiry=22MAY2025 HTTP/1.1" 200 -
2025-05-02 17:40:52,968 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:40:52] "GET /options HTTP/1.1" 200 -
2025-05-02 17:40:53,044 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:40:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-02 17:40:53,264 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-02 17:40:53,317 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-02 17:40:53,325 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:40:53] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-02 17:40:55,645 - __main__ - INFO - Fetching expiry dates for symbol: BANKNIFTY, exchange: NSE
2025-05-02 17:40:55,646 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-02 17:40:55,646 - __main__ - INFO - Using client M543167 for expiry dates API
2025-05-02 17:40:55,647 - __main__ - INFO - Calling get_expiry_dates for BANKNIFTY on NFO
2025-05-02 17:40:55,648 - options_module - INFO - Getting expiry dates for BANKNIFTY on NFO
2025-05-02 17:40:55,649 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-02 17:40:55,738 - options_module - INFO - Found 6 expiry dates for BANKNIFTY
2025-05-02 17:40:55,739 - __main__ - INFO - Retrieved 6 expiry dates for BANKNIFTY
2025-05-02 17:40:55,740 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:40:55] "GET /api/get-expiry-dates?symbol=BANKNIFTY HTTP/1.1" 200 -
2025-05-02 17:40:55,909 - __main__ - INFO - Fetching option chain for symbol: BANKNIFTY, expiry: 29MAY2025, exchange: NSE
2025-05-02 17:40:55,910 - __main__ - INFO - Using client M543167 for option chain API
2025-05-02 17:40:55,911 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-02 17:40:55,912 - __main__ - INFO - Getting underlying price for BANKNIFTY
2025-05-02 17:40:55,912 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-02 17:40:58,086 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-02 17:40:58,087 - __main__ - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-02 17:40:58,088 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-02 17:40:58,235 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-02 17:40:58,238 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-02 17:40:58,252 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-02 17:41:06,974 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-02 17:41:06,976 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-02 17:41:06,979 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:41:06] "GET /api/get-option-chain?symbol=BANKNIFTY&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-02 17:41:51,343 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:41:51] "[31m[1mPOST /options HTTP/1.1[0m" 405 -
2025-05-02 17:42:14,705 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:42:14] "[33mPOST /options-CHAIN HTTP/1.1[0m" 404 -
2025-05-02 17:42:18,246 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:42:18] "[33mPOST /options-chain HTTP/1.1[0m" 404 -
2025-05-02 17:42:35,528 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:42:35] "[33mPOST /options-chain HTTP/1.1[0m" 404 -
2025-05-02 17:42:59,783 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:42:59] "[31m[1mPOST /options HTTP/1.1[0m" 405 -
2025-05-02 17:44:02,082 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-02 17:44:02,083 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-02 17:44:02,083 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-02 17:44:02,083 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-02 17:44:02,084 - options_module - INFO - Cleaned 80 expired entries from price cache
2025-05-02 17:44:02,125 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-02 17:44:02,126 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-02 17:44:02,129 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-02 17:44:07,982 - options_module - WARNING - Error getting price for BANKNIFTY29MAY2555600PE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-02 17:44:08,691 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-02 17:44:08,691 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-02 17:44:09,285 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-02 17:44:09,286 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1120.95'}
2025-05-02 17:44:10,054 - __main__ - INFO - Raw API response: 0502af146dacAO
2025-05-02 17:44:10,055 - __main__ - INFO - Received order ID as direct string response: 0502af146dacAO
2025-05-02 17:44:10,055 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0502af146dacAO
2025-05-02 17:44:10,684 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-02 17:44:10,686 - werkzeug - INFO - 127.0.0.1 - - [02/May/2025 17:44:10] "POST /options-webhook HTTP/1.1" 200 -
2025-05-02 17:54:23,100 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-02 17:54:23,113 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-02 17:54:34,399 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-02 17:54:34,400 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 09:21:46,678 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-03 09:21:51,036 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-03 09:21:58,905 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-03 09:21:58,917 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-03 09:28:21,887 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-03 09:28:21,887 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-03 09:28:21,909 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:28:21,910 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 09:28:21,911 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-03 09:28:21,912 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-03 09:28:21,912 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-03 09:28:21,913 - __main__ - INFO - Initializing 1 client connections
2025-05-03 09:28:21,966 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 09:28:24,830 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 09:28:24,830 - __main__ - INFO - Login successful for client: M543167
2025-05-03 09:28:24,830 - __main__ - INFO - Client M543167 initialized successfully
2025-05-03 09:28:24,831 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-03 09:28:24,831 - options_module - INFO - Verifying client connection
2025-05-03 09:28:24,832 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 09:28:24,832 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-03 09:28:24,832 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-03 09:28:31,513 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-03 09:28:31,518 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 09:28:31,518 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-03 09:28:31,519 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 09:28:31,519 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 09:28:31,557 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-03 09:28:31,558 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-03 09:28:31,563 - werkzeug - INFO -  * Restarting with stat
2025-05-03 09:28:33,865 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-03 09:28:33,866 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-03 09:28:33,890 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:28:33,891 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 09:28:33,892 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-03 09:28:33,893 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-03 09:28:33,893 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-03 09:28:33,894 - __main__ - INFO - Initializing 1 client connections
2025-05-03 09:28:33,943 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 09:28:36,449 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 09:28:36,450 - __main__ - INFO - Login successful for client: M543167
2025-05-03 09:28:36,450 - __main__ - INFO - Client M543167 initialized successfully
2025-05-03 09:28:36,450 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-03 09:28:36,451 - options_module - INFO - Verifying client connection
2025-05-03 09:28:36,451 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 09:28:36,452 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-03 09:28:36,452 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-03 09:28:42,596 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-03 09:28:42,602 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 09:28:42,630 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-03 09:28:42,631 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 09:28:42,632 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 09:28:42,650 - werkzeug - WARNING -  * Debugger is active!
2025-05-03 09:28:42,655 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-03 09:28:45,814 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:28:45] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-03 09:28:45,877 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:28:45] "GET /login HTTP/1.1" 200 -
2025-05-03 09:28:46,188 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:28:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:03,377 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:03] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-03 09:29:03,459 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:03] "GET /login HTTP/1.1" 200 -
2025-05-03 09:29:03,637 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:09,711 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:09] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-03 09:29:10,070 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:10] "GET / HTTP/1.1" 200 -
2025-05-03 09:29:10,092 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:10,287 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 09:29:10,598 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 09:29:14,464 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:29:14,480 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:14] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:29:14,592 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:16,065 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:16] "GET /positions HTTP/1.1" 200 -
2025-05-03 09:29:16,366 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:16,708 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:29:20,978 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:20] "GET /options HTTP/1.1" 200 -
2025-05-03 09:29:21,257 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:29:21,613 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 09:29:21,676 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 09:29:21,681 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:21] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 09:29:23,789 - __main__ - INFO - Fetching expiry dates for symbol: BANKNIFTY, exchange: NSE
2025-05-03 09:29:23,790 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-03 09:29:23,790 - __main__ - INFO - Using client M543167 for expiry dates API
2025-05-03 09:29:23,791 - __main__ - INFO - Calling get_expiry_dates for BANKNIFTY on NFO
2025-05-03 09:29:23,791 - options_module - INFO - Getting expiry dates for BANKNIFTY on NFO
2025-05-03 09:29:23,791 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-03 09:29:23,855 - options_module - INFO - Found 6 expiry dates for BANKNIFTY
2025-05-03 09:29:23,856 - __main__ - INFO - Retrieved 6 expiry dates for BANKNIFTY
2025-05-03 09:29:23,856 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:23] "GET /api/get-expiry-dates?symbol=BANKNIFTY HTTP/1.1" 200 -
2025-05-03 09:29:24,054 - __main__ - INFO - Fetching option chain for symbol: BANKNIFTY, expiry: 29MAY2025, exchange: NSE
2025-05-03 09:29:24,054 - __main__ - INFO - Using client M543167 for option chain API
2025-05-03 09:29:24,055 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-03 09:29:24,055 - __main__ - INFO - Getting underlying price for BANKNIFTY
2025-05-03 09:29:24,056 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-03 09:29:25,381 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-03 09:29:25,382 - __main__ - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-03 09:29:25,382 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-03 09:29:25,472 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-03 09:29:25,473 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-03 09:29:25,487 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-03 09:29:32,728 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-03 09:29:32,729 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-03 09:29:32,730 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:32] "GET /api/get-option-chain?symbol=BANKNIFTY&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-03 09:29:51,467 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:51] "[33mGET /check-connection HTTP/1.1[0m" 404 -
2025-05-03 09:29:53,940 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:53] "[33mGET /health HTTP/1.1[0m" 404 -
2025-05-03 09:29:57,283 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:29:57] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-05-03 09:30:30,980 - __main__ - INFO - Fetching expiry dates for symbol: LODHA, exchange: NSE
2025-05-03 09:30:30,981 - __main__ - INFO - Using client M543167 for expiry dates API
2025-05-03 09:30:30,981 - __main__ - INFO - Calling get_expiry_dates for LODHA on NSE
2025-05-03 09:30:30,982 - options_module - INFO - Getting expiry dates for LODHA on NSE
2025-05-03 09:30:30,982 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-03 09:30:31,049 - options_module - INFO - Found 3 expiry dates for LODHA
2025-05-03 09:30:31,049 - __main__ - INFO - Retrieved 3 expiry dates for LODHA
2025-05-03 09:30:31,050 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:31] "GET /api/get-expiry-dates?symbol=LODHA HTTP/1.1" 200 -
2025-05-03 09:30:31,364 - __main__ - INFO - Fetching option chain for symbol: LODHA, expiry: 29MAY2025, exchange: NSE
2025-05-03 09:30:31,365 - __main__ - INFO - Using client M543167 for option chain API
2025-05-03 09:30:31,365 - __main__ - INFO - Getting underlying price for LODHA
2025-05-03 09:30:31,365 - options_module - INFO - Getting price for LODHA on NSE
2025-05-03 09:30:32,415 - options_module - INFO - Got price for stock LODHA: 1341.5
2025-05-03 09:30:32,415 - __main__ - INFO - Fetching options for LODHA with expiry 29MAY2025
2025-05-03 09:30:32,416 - options_module - INFO - Fetching options for LODHA with expiry 29MAY2025
2025-05-03 09:30:32,472 - options_module - INFO - Found 23 calls and 26 puts in DataFrame
2025-05-03 09:30:32,473 - options_module - INFO - Dynamically determined step size: 20.0 from strike price data
2025-05-03 09:30:32,478 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 1340.0
2025-05-03 09:30:39,795 - options_module - INFO - Prepared 13 calls and 13 puts for LODHA/29MAY2025
2025-05-03 09:30:39,796 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-03 09:30:39,797 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:39] "GET /api/get-option-chain?symbol=LODHA&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-03 09:30:48,495 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:30:48,496 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:48] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:30:48,804 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:30:50,274 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:30:51,889 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:51] "GET /positions HTTP/1.1" 200 -
2025-05-03 09:30:51,912 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:30:52,216 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:52] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:30:52,400 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:30:52] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:31:02,442 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:02] "GET /options HTTP/1.1" 200 -
2025-05-03 09:31:02,585 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:31:02,709 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 09:31:02,774 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 09:31:02,780 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:02] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 09:31:07,513 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:07] "GET /orders HTTP/1.1" 200 -
2025-05-03 09:31:07,524 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:31:19,004 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:19] "[33mPOST /cancel_order/M543167/0502af146dacAO HTTP/1.1[0m" 404 -
2025-05-03 09:31:30,454 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:30] "[33mGET /webhook_generator HTTP/1.1[0m" 404 -
2025-05-03 09:31:34,502 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:34] "GET /options HTTP/1.1" 200 -
2025-05-03 09:31:34,811 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:31:35,157 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 09:31:35,222 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 09:31:35,229 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:35] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 09:31:38,129 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:38] "GET /orders HTTP/1.1" 200 -
2025-05-03 09:31:38,141 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:31:39,643 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:39] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-05-03 09:31:54,485 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:31:56,616 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:56] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:31:56,634 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:31:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:32:06,275 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:32:06,277 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:06] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:32:06,579 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:32:48,713 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:32:50,430 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:32:50,751 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:50] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:32:52,577 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:52] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:32:52,589 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:32:59,919 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:32:59] "[33mGET /api/account/M543167/positions HTTP/1.1[0m" 404 -
2025-05-03 09:33:10,428 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:10] "[33mGET /api/account/M543167/positions HTTP/1.1[0m" 404 -
2025-05-03 09:33:13,153 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:13] "GET /positions HTTP/1.1" 200 -
2025-05-03 09:33:13,456 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:33:13,800 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:33:19,369 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:33:21,529 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:21] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:33:21,544 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:33:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:34:17,073 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:17] "GET /options HTTP/1.1" 200 -
2025-05-03 09:34:17,167 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:34:17,326 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 09:34:17,407 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 09:34:17,413 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:17] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 09:34:19,108 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:19] "GET /orders HTTP/1.1" 200 -
2025-05-03 09:34:19,121 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:34:58,866 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:34:58] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-05-03 09:35:08,854 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:35:08] "[33mGET /webhook_generator HTTP/1.1[0m" 404 -
2025-05-03 09:35:28,695 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 09:35:30,821 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:35:30] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 09:35:30,833 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:35:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:36:10,688 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:36:10,689 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:36:10] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:36:10,813 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:36:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:36:12,310 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:36:12] "GET /add_account HTTP/1.1" 200 -
2025-05-03 09:36:12,585 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:36:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:42:52,053 - __main__ - INFO - Successfully loaded 1 accounts from accounts.json
2025-05-03 09:42:52,057 - __main__ - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 09:42:52,209 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 09:42:52,218 - __main__ - ERROR - Exception during login for client V410166: Non-base32 digit found
2025-05-03 09:42:52,222 - __main__ - ERROR - Failed to initialize new client V410166
2025-05-03 09:42:52,229 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:42:52] "[32mPOST /add_account HTTP/1.1[0m" 302 -
2025-05-03 09:42:52,284 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:42:52,288 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:42:52] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:42:52,435 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:42:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:43:01,926 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:43:02,005 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:43:02] "GET /edit_account/V410166 HTTP/1.1" 200 -
2025-05-03 09:43:02,061 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:43:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:44:07,189 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:44:07,191 - __main__ - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 09:44:07,297 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 09:44:07,298 - __main__ - ERROR - Exception during login for client V410166: Non-base32 digit found
2025-05-03 09:44:07,300 - __main__ - ERROR - Failed to initialize updated client V410166
2025-05-03 09:44:07,303 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:07] "[32mPOST /edit_account/V410166 HTTP/1.1[0m" 302 -
2025-05-03 09:44:07,316 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:44:07,320 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:07] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:44:07,440 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:44:33,369 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:33] "GET /positions HTTP/1.1" 200 -
2025-05-03 09:44:33,499 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:44:33,636 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:44:53,552 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:44:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:45:13,878 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:45:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:45:33,560 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:45:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:45:53,880 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:45:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 09:46:11,033 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:46:11,036 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:46:11] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:46:11,341 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:46:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:48:13,288 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:48:13,290 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:13] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:48:13,310 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:48:17,519 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:48:17,521 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:17] "GET /edit_account/V410166 HTTP/1.1" 200 -
2025-05-03 09:48:17,830 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:48:27,285 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:48:27,287 - __main__ - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 09:48:27,389 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 09:48:30,556 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 09:48:30,556 - __main__ - INFO - Login successful for client: V410166
2025-05-03 09:48:30,557 - __main__ - INFO - Updated client V410166 initialized successfully
2025-05-03 09:48:30,558 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:30] "[32mPOST /edit_account/V410166 HTTP/1.1[0m" 302 -
2025-05-03 09:48:30,567 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 09:48:30,569 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:30] "GET /accounts HTTP/1.1" 200 -
2025-05-03 09:48:30,600 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 09:48:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 09:58:31,493 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 09:58:31,501 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 09:58:42,599 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 09:58:42,600 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 09:58:42,601 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-03 10:12:55,350 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:12:55] "GET /options HTTP/1.1" 200 -
2025-05-03 10:12:55,427 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:12:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:12:55,579 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 10:12:55,835 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 10:12:55,841 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:12:55] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 10:28:31,470 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 10:28:31,472 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 10:28:42,569 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 10:28:42,569 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 10:28:42,569 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-03 10:31:45,508 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:45] "GET /positions HTTP/1.1" 200 -
2025-05-03 10:31:45,658 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:31:45,774 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:45] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 10:31:46,500 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 10:31:46,506 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:46] "GET /accounts HTTP/1.1" 200 -
2025-05-03 10:31:46,813 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:31:49,934 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:49] "GET /positions HTTP/1.1" 200 -
2025-05-03 10:31:50,229 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:31:50,268 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:50] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 10:31:51,773 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 10:31:51,774 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:51] "GET /accounts HTTP/1.1" 200 -
2025-05-03 10:31:51,901 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:31:53,375 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:53] "GET /positions HTTP/1.1" 200 -
2025-05-03 10:31:53,748 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:31:54,082 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:54] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 10:31:55,481 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 10:31:55,483 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:55] "GET /accounts HTTP/1.1" 200 -
2025-05-03 10:31:55,799 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:31:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:32:08,137 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:10,607 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:10,743 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:12,678 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:12] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 10:32:12,737 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:12,846 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:14,912 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:14] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 10:32:15,050 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:15,405 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:15,872 - __main__ - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 10:32:15,874 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:15] "GET /accounts HTTP/1.1" 200 -
2025-05-03 10:32:16,199 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:32:16,451 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:16] "GET /positions HTTP/1.1" 200 -
2025-05-03 10:32:16,473 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:32:16,819 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 10:32:17,056 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:17] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 10:32:17,379 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:17,463 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:19,435 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 10:32:19,693 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:19] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 10:32:21,217 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:21] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 10:32:21,543 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:32:27,699 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:32:27] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-03 10:36:04,205 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:04] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-03 10:36:04,216 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:04] "GET / HTTP/1.1" 200 -
2025-05-03 10:36:04,458 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:36:04,880 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:04] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 10:36:05,133 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:05] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 10:36:07,206 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:07] "GET /positions HTTP/1.1" 200 -
2025-05-03 10:36:07,520 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:36:07,877 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:07] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 10:36:12,920 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:12] "GET /options HTTP/1.1" 200 -
2025-05-03 10:36:13,060 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:36:13,184 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-03 10:36:13,268 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 10:36:13,272 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:13] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 10:36:24,574 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:24] "GET /orders HTTP/1.1" 200 -
2025-05-03 10:36:24,915 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:36:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 10:40:17,385 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 10:40:17] "[33mPOST /cancel_order/M543167/0502af146dacAO HTTP/1.1[0m" 404 -
2025-05-03 10:42:11,253 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-03 10:42:15,292 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-03 10:42:22,182 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-03 10:42:22,206 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-03 23:41:33,634 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-03 23:41:33,635 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-03 23:47:39,007 - account_manager - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 23:47:39,007 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-03 23:47:39,008 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-03 23:47:39,036 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 23:47:39,036 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-03 23:47:39,037 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-03 23:47:39,037 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-03 23:47:39,038 - __main__ - INFO - Initializing 2 client connections
2025-05-03 23:47:39,092 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 23:47:41,190 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:47:41,190 - __main__ - INFO - Login successful for client: M543167
2025-05-03 23:47:41,191 - __main__ - INFO - Client M543167 initialized successfully
2025-05-03 23:47:41,245 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 23:47:43,959 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:47:43,959 - __main__ - INFO - Login successful for client: V410166
2025-05-03 23:47:43,960 - __main__ - INFO - Client V410166 initialized successfully
2025-05-03 23:47:43,960 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-03 23:47:43,961 - options_module - INFO - Verifying client connection
2025-05-03 23:47:43,961 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 23:47:43,961 - options_module - INFO - Verifying client connection
2025-05-03 23:47:43,962 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 23:47:43,962 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-03 23:47:43,962 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-03 23:47:50,311 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-03 23:47:50,318 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 23:47:50,319 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-03 23:47:50,320 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 23:47:50,320 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 23:47:50,321 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-03 23:47:50,382 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-03 23:47:50,383 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-03 23:47:50,389 - werkzeug - INFO -  * Restarting with stat
2025-05-03 23:47:53,277 - account_manager - INFO - Successfully loaded 2 accounts from accounts.json
2025-05-03 23:47:53,278 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-03 23:47:53,278 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-03 23:47:53,305 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 23:47:53,305 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-03 23:47:53,307 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-03 23:47:53,307 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-03 23:47:53,308 - __main__ - INFO - Initializing 2 client connections
2025-05-03 23:47:53,360 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 23:47:56,406 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:47:56,407 - __main__ - INFO - Login successful for client: M543167
2025-05-03 23:47:56,407 - __main__ - INFO - Client M543167 initialized successfully
2025-05-03 23:47:56,458 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 23:47:59,121 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:47:59,122 - __main__ - INFO - Login successful for client: V410166
2025-05-03 23:47:59,122 - __main__ - INFO - Client V410166 initialized successfully
2025-05-03 23:47:59,123 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-03 23:47:59,123 - options_module - INFO - Verifying client connection
2025-05-03 23:47:59,124 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 23:47:59,124 - options_module - INFO - Verifying client connection
2025-05-03 23:47:59,124 - options_module - INFO - Client connection verified with smart_api structure
2025-05-03 23:47:59,125 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-03 23:47:59,125 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-03 23:48:06,052 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-03 23:48:06,061 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-03 23:48:06,061 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-03 23:48:06,062 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-03 23:48:06,062 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-03 23:48:06,063 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-03 23:48:06,093 - werkzeug - WARNING -  * Debugger is active!
2025-05-03 23:48:06,102 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-03 23:48:06,133 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:06] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-03 23:48:06,306 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:06] "GET /login HTTP/1.1" 200 -
2025-05-03 23:48:06,500 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:06] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-03 23:48:07,026 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-03 23:48:27,025 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:27] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-03 23:48:27,151 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:27] "GET / HTTP/1.1" 200 -
2025-05-03 23:48:27,177 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:27] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:27,235 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:27] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 23:48:27,239 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:27] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-03 23:48:29,757 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 23:48:31,540 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-03 23:48:33,695 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:33] "GET /dashboard HTTP/1.1" 200 -
2025-05-03 23:48:33,708 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:45,232 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:45] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:48:45,244 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:47,728 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:48:47,729 - __main__ - INFO - Client M543167 (Main Account) deactivated and removed from active clients
2025-05-03 23:48:47,730 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:47] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:48:47,739 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:47] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:48:47,755 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:51,324 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:48:51,397 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 23:48:53,664 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:48:53,665 - __main__ - INFO - Login successful for client: M543167
2025-05-03 23:48:53,665 - __main__ - INFO - Client M543167 (Main Account) activated and initialized successfully
2025-05-03 23:48:53,666 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:53] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:48:53,671 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:53] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:48:53,714 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:55,059 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:48:55,060 - __main__ - INFO - Client V410166 (Secondary Account) deactivated and removed from active clients
2025-05-03 23:48:55,061 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:55] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-03 23:48:55,073 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:55] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:48:55,095 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:48:56,495 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:48:56,571 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 23:48:59,286 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:48:59,287 - __main__ - INFO - Login successful for client: V410166
2025-05-03 23:48:59,287 - __main__ - INFO - Client V410166 (Secondary Account) activated and initialized successfully
2025-05-03 23:48:59,288 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:59] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-03 23:48:59,295 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:59] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:48:59,314 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:48:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:01,487 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:01] "GET /edit_account/M543167 HTTP/1.1" 200 -
2025-05-03 23:49:01,502 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:09,568 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:49:09,570 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:09] "[32mPOST /edit_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:49:09,580 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:09] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:49:09,608 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:11,342 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:49:11,415 - __main__ - INFO - Attempting login for client: M543167
2025-05-03 23:49:14,196 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:49:14,196 - __main__ - INFO - Login successful for client: M543167
2025-05-03 23:49:14,197 - __main__ - INFO - Client M543167 (Main Account) activated and initialized successfully
2025-05-03 23:49:14,198 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:14] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:49:14,206 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:14] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:49:14,226 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:23,069 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:23] "GET /positions HTTP/1.1" 200 -
2025-05-03 23:49:23,082 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:23,134 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:23] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 23:49:24,689 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:24] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:49:24,701 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:25,936 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:49:25,937 - __main__ - INFO - Client M543167 (Main Account) deactivated and removed from active clients
2025-05-03 23:49:25,938 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:25] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:49:25,948 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:25] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:49:25,966 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:25] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:28,707 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:28] "GET /orders HTTP/1.1" 200 -
2025-05-03 23:49:28,719 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:32,351 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:32] "GET /options HTTP/1.1" 200 -
2025-05-03 23:49:32,367 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:32,423 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-03 23:49:32,515 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 23:49:32,523 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:32] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-03 23:49:34,862 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:34] "GET /positions HTTP/1.1" 200 -
2025-05-03 23:49:34,881 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:34,916 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:34] "GET /api/positions HTTP/1.1" 200 -
2025-05-03 23:49:36,254 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:36] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:49:36,270 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:36] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:42,828 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-03 23:49:42,828 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-03 23:49:42,829 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-03 23:49:42,829 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-03 23:49:42,902 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-03 23:49:42,906 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-03 23:49:42,912 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-03 23:49:49,022 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:49] "GET /orders HTTP/1.1" 200 -
2025-05-03 23:49:49,046 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:49:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:49:50,801 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-03 23:49:50,803 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-03 23:49:51,594 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-03 23:49:51,595 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-03 23:49:52,473 - __main__ - INFO - Raw API response: 05033e355b8dAO
2025-05-03 23:49:52,474 - __main__ - INFO - Received order ID as direct string response: 05033e355b8dAO
2025-05-03 23:49:52,474 - options_trade_manager - INFO - Option order placed successfully for client M543167: 05033e355b8dAO
2025-05-03 23:49:53,208 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-03 23:49:53,209 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-03 23:49:53,255 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-03 23:49:53,256 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-03 23:49:53,261 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-03 23:50:00,153 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-03 23:50:00,154 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-03 23:50:01,310 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-03 23:50:01,311 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-03 23:50:02,527 - __main__ - INFO - Raw API response: 05031177a6bfAO
2025-05-03 23:50:02,528 - __main__ - INFO - Received order ID as direct string response: 05031177a6bfAO
2025-05-03 23:50:02,528 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05031177a6bfAO
2025-05-03 23:50:03,649 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-03 23:50:03,649 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:50:03] "POST /options-webhook HTTP/1.1" 200 -
2025-05-03 23:52:20,048 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:52:20] "GET /orders HTTP/1.1" 200 -
2025-05-03 23:52:20,063 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:52:20] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:52:25,332 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:52:25] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:52:25,350 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:52:25] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:53:21,877 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:21] "GET /edit_account/M543167 HTTP/1.1" 200 -
2025-05-03 23:53:21,895 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:53:28,373 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:53:28,375 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:28] "[32mPOST /edit_account/M543167 HTTP/1.1[0m" 302 -
2025-05-03 23:53:28,405 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:28] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:53:28,433 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:53:31,193 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:31] "GET /edit_account/V410166 HTTP/1.1" 200 -
2025-05-03 23:53:31,209 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:31] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:53:36,354 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-03 23:53:36,404 - __main__ - INFO - Attempting login for client: V410166
2025-05-03 23:53:39,008 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-03 23:53:39,009 - __main__ - INFO - Login successful for client: V410166
2025-05-03 23:53:39,009 - __main__ - INFO - Updated client V410166 (vishal) initialized successfully
2025-05-03 23:53:39,010 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:39] "[32mPOST /edit_account/V410166 HTTP/1.1[0m" 302 -
2025-05-03 23:53:39,018 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:39] "GET /accounts HTTP/1.1" 200 -
2025-05-03 23:53:39,040 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:53:39] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:54:43,624 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:54:43] "GET /orders HTTP/1.1" 200 -
2025-05-03 23:54:43,640 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:54:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:54:47,092 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-03 23:54:47,949 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-03 23:54:48,525 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-03 23:54:48,526 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-03 23:54:48,527 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:54:48] "GET /options HTTP/1.1" 200 -
2025-05-03 23:54:48,537 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:54:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-03 23:54:48,577 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-03 23:54:48,653 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-03 23:54:48,661 - werkzeug - INFO - 127.0.0.1 - - [03/May/2025 23:54:48] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 00:14:22,778 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\account_manager.py', reloading
2025-05-04 00:14:22,779 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 00:14:23,365 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 00:14:23,367 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 00:14:23,724 - werkzeug - INFO -  * Restarting with stat
2025-05-04 00:14:26,230 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 00:14:26,230 - account_manager - ERROR - allaccounts.json file not found, will create from active accounts
2025-05-04 00:14:26,231 - account_manager - INFO - Successfully saved 2 accounts to allaccounts.json
2025-05-04 00:14:26,232 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 00:14:26,232 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 00:14:26,247 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:14:26,248 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 00:14:26,249 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 00:14:26,249 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 00:14:26,249 - __main__ - INFO - Initializing 2 client connections
2025-05-04 00:14:26,288 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 00:14:29,116 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:14:29,116 - __main__ - INFO - Login successful for client: M543167
2025-05-04 00:14:29,117 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 00:14:29,162 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 00:14:31,567 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:14:31,567 - __main__ - INFO - Login successful for client: V410166
2025-05-04 00:14:31,568 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 00:14:31,568 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 00:14:31,568 - options_module - INFO - Verifying client connection
2025-05-04 00:14:31,569 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:14:31,569 - options_module - INFO - Verifying client connection
2025-05-04 00:14:31,570 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:14:31,570 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 00:14:31,570 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 00:14:38,241 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 00:14:38,250 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:14:38,251 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 00:14:38,252 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 00:14:38,252 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 00:14:38,253 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 00:14:38,289 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 00:14:38,295 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 00:17:32,960 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 00:17:32,961 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 00:17:36,255 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 00:17:36,257 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 00:17:36,453 - werkzeug - INFO -  * Restarting with stat
2025-05-04 00:17:38,534 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 00:17:38,535 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 00:17:38,535 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 00:17:38,536 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 00:17:38,684 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 00:17:39,208 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 00:17:39,222 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 00:17:45,000 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 00:17:45,001 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 00:17:45,001 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 00:17:45,001 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 00:21:56,004 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 00:21:56,004 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 00:21:56,005 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 00:21:56,005 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 00:21:56,021 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:21:56,022 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 00:21:56,023 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 00:21:56,023 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 00:21:56,023 - __main__ - INFO - Initializing 2 client connections
2025-05-04 00:21:56,057 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 00:21:58,291 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:21:58,291 - __main__ - INFO - Login successful for client: M543167
2025-05-04 00:21:58,292 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 00:21:58,336 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 00:22:01,009 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:22:01,009 - __main__ - INFO - Login successful for client: V410166
2025-05-04 00:22:01,010 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 00:22:01,010 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 00:22:01,010 - options_module - INFO - Verifying client connection
2025-05-04 00:22:01,011 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:22:01,011 - options_module - INFO - Verifying client connection
2025-05-04 00:22:01,012 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:22:01,012 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 00:22:01,012 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 00:22:07,248 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 00:22:07,253 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:22:07,253 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 00:22:07,255 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 00:22:07,255 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 00:22:07,256 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 00:22:07,317 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 00:22:07,317 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 00:22:07,326 - werkzeug - INFO -  * Restarting with stat
2025-05-04 00:22:09,531 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 00:22:09,532 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 00:22:09,533 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 00:22:09,534 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 00:22:09,554 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:22:09,555 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 00:22:09,557 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 00:22:09,557 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 00:22:09,558 - __main__ - INFO - Initializing 2 client connections
2025-05-04 00:22:09,608 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 00:22:12,084 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:22:12,084 - __main__ - INFO - Login successful for client: M543167
2025-05-04 00:22:12,085 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 00:22:12,131 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 00:22:14,552 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:22:14,552 - __main__ - INFO - Login successful for client: V410166
2025-05-04 00:22:14,553 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 00:22:14,553 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 00:22:14,554 - options_module - INFO - Verifying client connection
2025-05-04 00:22:14,554 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:22:14,554 - options_module - INFO - Verifying client connection
2025-05-04 00:22:14,555 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 00:22:14,555 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 00:22:14,556 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 00:22:20,802 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 00:22:20,808 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 00:22:20,808 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 00:22:20,809 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 00:22:20,809 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 00:22:20,809 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 00:22:20,830 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 00:22:20,834 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 00:22:20,854 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:22:20] "[32mGET /options HTTP/1.1[0m" 302 -
2025-05-04 00:22:20,891 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:22:20] "GET /login HTTP/1.1" 200 -
2025-05-04 00:22:21,116 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:22:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:03,787 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:03] "POST /login HTTP/1.1" 200 -
2025-05-04 00:23:03,808 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:10,470 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:10] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 00:23:10,494 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:10] "GET / HTTP/1.1" 200 -
2025-05-04 00:23:10,508 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:10,552 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 00:23:10,559 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 00:23:14,838 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:14] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:23:14,855 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:16,462 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:23:16,462 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 00:23:16,463 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:16] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:23:16,471 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:16] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:23:16,489 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:30,592 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 00:23:30,630 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 00:23:30,945 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:23:30,946 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:30] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:23:30,958 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:30] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:23:30,976 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:32,548 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:23:32,549 - __main__ - INFO - Login successful for client: M543167
2025-05-04 00:23:32,549 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 00:23:32,599 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:32] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:23:34,049 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 00:23:34,050 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:34] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:23:34,066 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:34] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:23:34,088 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:39,862 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:23:39,865 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 00:23:39,866 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:39] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:23:39,877 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:39] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:23:39,906 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:23:39] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:23:43,698 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 00:23:43,699 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 00:23:43,699 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:23:43,700 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:23:43,769 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:23:43,772 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:23:43,780 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:23:51,118 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:23:51,119 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:23:52,122 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:23:52,122 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:23:52,919 - __main__ - INFO - Raw API response: 05040d95c0caAO
2025-05-04 00:23:52,919 - __main__ - INFO - Received order ID as direct string response: 05040d95c0caAO
2025-05-04 00:23:52,919 - options_trade_manager - INFO - Option order placed successfully for client M543167: 05040d95c0caAO
2025-05-04 00:23:53,901 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:23:53,901 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:23:53,947 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:23:53,948 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:23:53,954 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:24:01,397 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:24:01,397 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:24:02,368 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:24:02,369 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:24:03,380 - __main__ - INFO - Raw API response: 05042c03b896AO
2025-05-04 00:24:03,380 - __main__ - INFO - Received order ID as direct string response: 05042c03b896AO
2025-05-04 00:24:03,381 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05042c03b896AO
2025-05-04 00:24:04,201 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 00:24:04,202 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:24:04] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 00:24:46,715 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 00:24:46,716 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 00:24:46,716 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:24:46,716 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:24:46,773 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:24:46,774 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:24:46,778 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:24:54,815 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:24:54,816 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:24:55,601 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:24:55,602 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:24:56,522 - __main__ - INFO - Raw API response: 05043b311776AO
2025-05-04 00:24:56,522 - __main__ - INFO - Received order ID as direct string response: 05043b311776AO
2025-05-04 00:24:56,522 - options_trade_manager - INFO - Option order placed successfully for client M543167: 05043b311776AO
2025-05-04 00:24:57,293 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:24:57,293 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:24:57,343 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:24:57,344 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:24:57,351 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:25:05,193 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:25:05,193 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:25:05,980 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:25:05,980 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:25:06,907 - __main__ - INFO - Raw API response: 05041ee598efAO
2025-05-04 00:25:06,908 - __main__ - INFO - Received order ID as direct string response: 05041ee598efAO
2025-05-04 00:25:06,908 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05041ee598efAO
2025-05-04 00:25:07,868 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 00:25:07,869 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:25:07] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 00:26:07,023 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:07] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:26:07,032 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:11,028 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:11] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:26:11,043 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:14,041 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:14] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:26:14,062 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:15,528 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 00:26:15,578 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 00:26:18,340 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:26:18,341 - __main__ - INFO - Login successful for client: M543167
2025-05-04 00:26:18,341 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 00:26:18,343 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:18] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:26:18,351 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:18] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:26:18,370 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:21,165 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:21] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:26:21,174 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:33,770 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:33] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:26:33,784 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:36,332 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:26:36,333 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 00:26:36,334 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:36] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 00:26:36,348 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:36] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:26:36,367 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:36] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:43,546 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:43] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:26:43,559 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:57,687 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:57] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:26:57,709 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:26:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:26:58,816 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 00:26:58,855 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 00:27:01,238 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:27:01,239 - __main__ - INFO - Login successful for client: V410166
2025-05-04 00:27:01,239 - __main__ - INFO - Client V410166 (vishal) activated and initialized successfully
2025-05-04 00:27:01,240 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:01] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 00:27:01,247 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:01] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:27:01,271 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:03,521 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:03] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:27:03,535 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:39,720 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 00:27:41,361 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 00:27:42,984 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:42] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 00:27:42,997 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:46,796 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:46] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:27:46,807 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:48,654 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:27:48,655 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 00:27:48,656 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:48] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 00:27:48,668 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:48] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:27:48,690 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:50,464 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 00:27:52,157 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:52] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 00:27:52,168 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:54,428 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:54] "GET /positions HTTP/1.1" 200 -
2025-05-04 00:27:54,445 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:54,502 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:54] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 00:27:57,310 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 00:27:57,833 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 00:27:58,348 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 00:27:58,348 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 00:27:58,397 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:58] "GET /options HTTP/1.1" 200 -
2025-05-04 00:27:58,409 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:27:58,449 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-04 00:27:58,512 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 00:27:58,517 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:27:58] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 00:28:10,391 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:10] "GET /positions HTTP/1.1" 200 -
2025-05-04 00:28:10,414 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:28:10,447 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 00:28:11,547 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:11] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:28:11,564 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:28:18,083 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 00:28:18,084 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 00:28:18,084 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:28:18,084 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:28:18,085 - options_module - INFO - Cleaned 27 expired entries from price cache
2025-05-04 00:28:18,140 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:28:18,140 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:28:18,148 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:28:27,673 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:28:27,675 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:28:28,779 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:28:28,780 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:28:29,837 - __main__ - INFO - Raw API response: 050458331645AO
2025-05-04 00:28:29,837 - __main__ - INFO - Received order ID as direct string response: 050458331645AO
2025-05-04 00:28:29,838 - options_trade_manager - INFO - Option order placed successfully for client M543167: 050458331645AO
2025-05-04 00:28:30,783 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 00:28:30,784 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 00:28:30,836 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 00:28:30,837 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 00:28:30,843 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 00:28:38,606 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 00:28:38,606 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 00:28:39,623 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 00:28:39,624 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 00:28:40,571 - __main__ - INFO - Raw API response: 050441914709AO
2025-05-04 00:28:40,571 - __main__ - INFO - Received order ID as direct string response: 050441914709AO
2025-05-04 00:28:40,572 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050441914709AO
2025-05-04 00:28:41,557 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 00:28:41,558 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:41] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 00:28:48,872 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:48] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:28:48,886 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:28:50,938 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:50] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:28:50,993 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:28:52,323 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 00:28:52,381 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 00:28:54,842 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 00:28:54,843 - __main__ - INFO - Login successful for client: V410166
2025-05-04 00:28:54,843 - __main__ - INFO - Client V410166 (vishal) activated and initialized successfully
2025-05-04 00:28:54,844 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:54] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 00:28:54,851 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:54] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:28:54,871 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:28:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:28:58,435 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 00:28:59,117 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 00:29:00,048 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 00:29:00,049 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 00:29:00,050 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:29:00] "GET /options HTTP/1.1" 200 -
2025-05-04 00:29:00,065 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:29:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:29:00,112 - __main__ - INFO - Using client M543167 for F&O symbols API
2025-05-04 00:29:00,163 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 00:29:00,168 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:29:00] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 00:29:01,941 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:29:01] "GET /orders HTTP/1.1" 200 -
2025-05-04 00:29:01,955 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:29:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:35:47,838 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFC", "exchange": "NSE", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:35:47,840 - __main__ - INFO - Processing BUY signal for HDFC across 2 clients
2025-05-04 00:35:47,841 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:35:47,842 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:35:48,935 - __main__ - INFO - Raw API response: None
2025-05-04 00:35:48,936 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 00:35:49,014 - __main__ - INFO - Raw API response: None
2025-05-04 00:35:49,014 - __main__ - ERROR - Unexpected response type for client V410166: <class 'NoneType'>
2025-05-04 00:35:49,015 - __main__ - INFO - Order placement complete: 0/2 successful
2025-05-04 00:35:49,015 - __main__ - ERROR - Order placement failed for client M543167
2025-05-04 00:35:49,016 - __main__ - ERROR - Order placement failed for client V410166
2025-05-04 00:35:49,017 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:35:49] "[35m[1mPOST /webhook HTTP/1.1[0m" 500 -
2025-05-04 00:37:11,256 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFC", "exchange": "NSE", "symbol_token": "1330", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:37:11,257 - __main__ - INFO - Processing BUY signal for HDFC across 2 clients
2025-05-04 00:37:11,258 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:37:11,258 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:37:12,747 - __main__ - INFO - Raw API response: None
2025-05-04 00:37:12,747 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 00:37:12,847 - __main__ - INFO - Raw API response: None
2025-05-04 00:37:12,847 - __main__ - ERROR - Unexpected response type for client V410166: <class 'NoneType'>
2025-05-04 00:37:12,848 - __main__ - INFO - Order placement complete: 0/2 successful
2025-05-04 00:37:12,848 - __main__ - ERROR - Order placement failed for client M543167
2025-05-04 00:37:12,848 - __main__ - ERROR - Order placement failed for client V410166
2025-05-04 00:37:12,849 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:37:12] "[35m[1mPOST /webhook HTTP/1.1[0m" 500 -
2025-05-04 00:37:18,331 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFC", "exchange": "NSE", "symbol_token": "1330", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:37:18,331 - __main__ - INFO - Processing BUY signal for HDFC across 2 clients
2025-05-04 00:37:18,332 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:37:18,333 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFC', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:37:19,761 - __main__ - INFO - Raw API response: None
2025-05-04 00:37:19,762 - __main__ - ERROR - Unexpected response type for client V410166: <class 'NoneType'>
2025-05-04 00:37:19,855 - __main__ - INFO - Raw API response: None
2025-05-04 00:37:19,856 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 00:37:19,856 - __main__ - INFO - Order placement complete: 0/2 successful
2025-05-04 00:37:19,857 - __main__ - ERROR - Order placement failed for client V410166
2025-05-04 00:37:19,857 - __main__ - ERROR - Order placement failed for client M543167
2025-05-04 00:37:19,858 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:37:19] "[35m[1mPOST /webhook HTTP/1.1[0m" 500 -
2025-05-04 00:38:30,564 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HCLTECH", "exchange": "NSE", "symbol_token": "1330", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:38:30,565 - __main__ - INFO - Processing BUY signal for HCLTECH across 2 clients
2025-05-04 00:38:30,565 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HCLTECH', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:38:30,566 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HCLTECH', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:38:31,621 - __main__ - INFO - Raw API response: None
2025-05-04 00:38:31,621 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 00:38:31,785 - __main__ - INFO - Raw API response: None
2025-05-04 00:38:31,786 - __main__ - ERROR - Unexpected response type for client V410166: <class 'NoneType'>
2025-05-04 00:38:31,786 - __main__ - INFO - Order placement complete: 0/2 successful
2025-05-04 00:38:31,786 - __main__ - ERROR - Order placement failed for client M543167
2025-05-04 00:38:31,787 - __main__ - ERROR - Order placement failed for client V410166
2025-05-04 00:38:31,787 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:38:31] "[35m[1mPOST /webhook HTTP/1.1[0m" 500 -
2025-05-04 00:38:43,066 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HCLTECH", "exchange": "NSE", "symbol_token": "1330", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:38:43,067 - __main__ - INFO - Processing BUY signal for HCLTECH across 2 clients
2025-05-04 00:38:43,068 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HCLTECH', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:38:43,068 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HCLTECH', 'symboltoken': '1330', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:38:44,319 - __main__ - INFO - Raw API response: None
2025-05-04 00:38:44,320 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 00:38:44,389 - __main__ - INFO - Raw API response: None
2025-05-04 00:38:44,390 - __main__ - ERROR - Unexpected response type for client V410166: <class 'NoneType'>
2025-05-04 00:38:44,390 - __main__ - INFO - Order placement complete: 0/2 successful
2025-05-04 00:38:44,391 - __main__ - ERROR - Order placement failed for client M543167
2025-05-04 00:38:44,391 - __main__ - ERROR - Order placement failed for client V410166
2025-05-04 00:38:44,392 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:38:44] "[35m[1mPOST /webhook HTTP/1.1[0m" 500 -
2025-05-04 00:39:57,783 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFCBANK-EQ", "exchange": "NSE", "symbol_token": "1333", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:39:57,783 - __main__ - INFO - Processing BUY signal for HDFCBANK-EQ across 2 clients
2025-05-04 00:39:57,784 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:39:57,785 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:39:59,091 - __main__ - INFO - Raw API response: 05045f818320AO
2025-05-04 00:39:59,092 - __main__ - INFO - Received order ID as direct string response: 05045f818320AO
2025-05-04 00:39:59,116 - __main__ - INFO - Raw API response: 0504f972cdc1AO
2025-05-04 00:39:59,117 - __main__ - INFO - Received order ID as direct string response: 0504f972cdc1AO
2025-05-04 00:39:59,118 - __main__ - INFO - Order placement complete: 2/2 successful
2025-05-04 00:39:59,118 - __main__ - INFO - Order placed successfully for client V410166: 05045f818320AO
2025-05-04 00:39:59,118 - __main__ - INFO - Order placed successfully for client M543167: 0504f972cdc1AO
2025-05-04 00:39:59,119 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:39:59] "POST /webhook HTTP/1.1" 200 -
2025-05-04 00:40:11,416 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:11] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:40:11,439 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:40:12,723 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 00:40:12,741 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 00:40:12,743 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:12] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 00:40:12,758 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:12] "GET /accounts HTTP/1.1" 200 -
2025-05-04 00:40:12,779 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 00:40:29,763 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFCBANK-EQ", "exchange": "NSE", "symbol_token": "1333", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 00:40:29,764 - __main__ - INFO - Processing BUY signal for HDFCBANK-EQ across 1 clients
2025-05-04 00:40:29,766 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 00:40:30,656 - __main__ - INFO - Raw API response: 05042f43abf0AO
2025-05-04 00:40:30,657 - __main__ - INFO - Received order ID as direct string response: 05042f43abf0AO
2025-05-04 00:40:30,658 - __main__ - INFO - Order placement complete: 1/1 successful
2025-05-04 00:40:30,658 - __main__ - INFO - Order placed successfully for client V410166: 05042f43abf0AO
2025-05-04 00:40:30,659 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 00:40:30] "POST /webhook HTTP/1.1" 200 -
2025-05-04 00:40:58,783 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 00:41:00,158 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 00:41:06,343 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 00:41:06,352 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 09:31:13,842 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 09:31:13,843 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 09:31:13,844 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 09:31:13,844 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 09:31:13,867 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:31:13,868 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 09:31:13,869 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 09:31:13,870 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 09:31:13,870 - __main__ - INFO - Initializing 1 client connections
2025-05-04 09:31:13,927 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 09:31:17,067 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 09:31:17,068 - __main__ - INFO - Login successful for client: V410166
2025-05-04 09:31:17,068 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 09:31:17,069 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 09:31:17,070 - options_module - INFO - Verifying client connection
2025-05-04 09:31:17,070 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 09:31:17,070 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 09:31:17,071 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 09:31:23,144 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 09:31:23,210 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:31:23,211 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 09:31:23,212 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 09:31:23,213 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 09:31:23,287 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 09:31:23,288 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 09:31:23,295 - werkzeug - INFO -  * Restarting with stat
2025-05-04 09:31:26,185 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 09:31:26,187 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 09:31:26,188 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 09:31:26,188 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 09:31:26,228 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:31:26,229 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 09:31:26,231 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 09:31:26,231 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 09:31:26,233 - __main__ - INFO - Initializing 1 client connections
2025-05-04 09:31:26,304 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 09:31:28,730 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 09:31:28,731 - __main__ - INFO - Login successful for client: V410166
2025-05-04 09:31:28,731 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 09:31:28,731 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 09:31:28,732 - options_module - INFO - Verifying client connection
2025-05-04 09:31:28,732 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 09:31:28,733 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 09:31:28,733 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 09:31:36,057 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 09:31:36,065 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:31:36,066 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 09:31:36,067 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 09:31:36,067 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 09:31:36,095 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 09:31:36,110 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 09:31:36,150 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:36] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 09:31:36,209 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:36] "GET /login HTTP/1.1" 200 -
2025-05-04 09:31:36,473 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:36] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:31:42,333 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:42] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 09:31:42,356 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:42] "GET / HTTP/1.1" 200 -
2025-05-04 09:31:42,383 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:31:42,430 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:42] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 09:31:42,436 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:42] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 09:31:59,366 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:59] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:31:59,384 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:31:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:32:00,546 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 09:32:00,624 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 09:32:04,032 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 09:32:04,033 - __main__ - INFO - Login successful for client: M543167
2025-05-04 09:32:04,033 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 09:32:04,035 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:04] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 09:32:04,045 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:32:04,064 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:32:06,718 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 09:32:06,720 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 09:32:06,721 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:06] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 09:32:06,731 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:06] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:32:06,755 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:32:46,973 - account_manager - INFO - Successfully saved 1 accounts to allaccounts.json
2025-05-04 09:32:46,974 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 09:32:46,975 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:46] "[32mPOST /delete_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 09:32:46,988 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:46] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:32:47,013 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:32:55,570 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:55] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:32:55,589 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:32:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:00,916 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:00] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:00,942 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:03,058 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:03,080 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:03,768 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:03,789 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:03,991 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,013 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:04,237 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,259 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:04,455 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,476 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:04,627 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,648 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:04,802 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,823 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:04,970 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:04,993 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:05,151 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:05,175 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:05,331 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:05,353 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:05,512 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:05,526 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:05,692 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:05,714 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:05,961 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:05,975 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:06,323 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:06,346 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:06,539 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:06,561 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:06,789 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:06,806 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:07,641 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:07] "GET /positions HTTP/1.1" 200 -
2025-05-04 09:33:07,659 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:07,777 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:07] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 09:33:08,532 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:08] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:08,553 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:14,517 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:14] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:14,543 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:21,586 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:21] "GET /add_account HTTP/1.1" 200 -
2025-05-04 09:33:21,598 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:35,249 - account_manager - INFO - Successfully saved 2 accounts to allaccounts.json
2025-05-04 09:33:35,251 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 09:33:35,333 - __main__ - INFO - Attempting login for client: awd
2025-05-04 09:33:35,333 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 09:33:35,334 - __main__ - ERROR - Failed to initialize new client awd (manas)
2025-05-04 09:33:35,337 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:35] "[32mPOST /add_account HTTP/1.1[0m" 302 -
2025-05-04 09:33:35,346 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:35] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:35,374 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:56,260 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:56] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:56,280 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:58,392 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:58] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:58,415 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:58,757 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:58] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:58,779 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:59,287 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:59] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:59,310 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:33:59,495 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:59] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:33:59,517 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:33:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:34:01,100 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 09:34:01,101 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:01] "[32mPOST /toggle_account/awd HTTP/1.1[0m" 302 -
2025-05-04 09:34:01,113 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:01] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:34:01,140 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:34:02,365 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 09:34:02,444 - __main__ - INFO - Attempting login for client: awd
2025-05-04 09:34:02,445 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 09:34:02,445 - __main__ - ERROR - Failed to initialize client awd (manas) after activation
2025-05-04 09:34:02,447 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:02] "[32mPOST /toggle_account/awd HTTP/1.1[0m" 302 -
2025-05-04 09:34:02,456 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:02] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:34:02,480 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:34:03,933 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:03] "GET /edit_account/awd HTTP/1.1" 200 -
2025-05-04 09:34:03,948 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:34:07,350 - account_manager - INFO - Successfully saved 2 accounts to allaccounts.json
2025-05-04 09:34:07,351 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 09:34:07,435 - __main__ - INFO - Attempting login for client: awd
2025-05-04 09:34:07,436 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 09:34:07,436 - __main__ - ERROR - Failed to initialize updated client awd (manas)
2025-05-04 09:34:07,439 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:07] "[32mPOST /edit_account/awd HTTP/1.1[0m" 302 -
2025-05-04 09:34:07,450 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:07] "GET /accounts HTTP/1.1" 200 -
2025-05-04 09:34:07,487 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 09:34:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 09:34:13,669 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 09:34:16,240 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 09:34:16,242 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 09:34:16,406 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 09:34:23,878 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 09:34:23,880 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 09:34:33,010 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 09:34:33,012 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 09:34:33,045 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 09:34:33,046 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 09:34:33,067 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:34:33,067 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 09:34:33,069 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 09:34:33,070 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 09:34:33,070 - __main__ - INFO - Initializing 2 client connections
2025-05-04 09:34:33,117 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 09:34:35,471 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 09:34:35,471 - __main__ - INFO - Login successful for client: V410166
2025-05-04 09:34:35,471 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 09:34:35,517 - __main__ - INFO - Attempting login for client: awd
2025-05-04 09:34:35,517 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 09:34:35,517 - __main__ - ERROR - Failed to initialize client awd
2025-05-04 09:34:35,518 - __main__ - INFO - Client initialization complete. 1/2 clients active
2025-05-04 09:34:35,519 - options_module - INFO - Verifying client connection
2025-05-04 09:34:35,519 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 09:34:35,520 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 09:34:35,520 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 09:34:41,559 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 09:34:41,564 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:34:41,564 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 09:34:41,565 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 09:34:41,566 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 09:34:41,605 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 09:34:41,606 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 09:34:41,610 - werkzeug - INFO -  * Restarting with stat
2025-05-04 09:34:45,110 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 09:34:45,111 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 09:34:45,111 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 09:34:45,112 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 09:34:45,132 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:34:45,133 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 09:34:45,134 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 09:34:45,135 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 09:34:45,135 - __main__ - INFO - Initializing 2 client connections
2025-05-04 09:34:45,191 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 09:34:47,582 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 09:34:47,583 - __main__ - INFO - Login successful for client: V410166
2025-05-04 09:34:47,583 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 09:34:47,629 - __main__ - INFO - Attempting login for client: awd
2025-05-04 09:34:47,629 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 09:34:47,629 - __main__ - ERROR - Failed to initialize client awd
2025-05-04 09:34:47,630 - __main__ - INFO - Client initialization complete. 1/2 clients active
2025-05-04 09:34:47,631 - options_module - INFO - Verifying client connection
2025-05-04 09:34:47,631 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 09:34:47,631 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 09:34:47,632 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 09:34:53,707 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 09:34:53,714 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 09:34:53,714 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 09:34:53,715 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 09:34:53,716 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 09:34:53,738 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 09:34:53,742 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:15:10,482 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:10] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-04 10:15:10,784 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:10] "GET /login HTTP/1.1" 200 -
2025-05-04 10:15:10,952 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:15:18,885 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:18] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:15:18,906 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:18] "GET / HTTP/1.1" 200 -
2025-05-04 10:15:18,934 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:15:18,986 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:18] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:15:18,993 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:18] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:15:55,915 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:15:55] "[33mGET /webhook_generator HTTP/1.1[0m" 404 -
2025-05-04 10:18:20,203 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:18:20] "GET /orders HTTP/1.1" 200 -
2025-05-04 10:18:20,218 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:18:20] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:18:29,152 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:18:29] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:18:29,168 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:18:29] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:19:25,357 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 10:19:25,358 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:19:29,679 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:19:29,683 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:19:30,302 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:19:33,500 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 10:19:33,501 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:19:33,502 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:19:33,502 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:19:33,533 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:19:33,534 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:19:33,536 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:19:33,536 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:19:33,536 - __main__ - INFO - Initializing 2 client connections
2025-05-04 10:19:33,602 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:19:36,029 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:19:36,029 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:19:36,063 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:19:36,100 - __main__ - INFO - Attempting login for client: awd
2025-05-04 10:19:36,101 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 10:19:36,101 - __main__ - ERROR - Failed to initialize client awd
2025-05-04 10:19:36,101 - __main__ - INFO - Client initialization complete. 1/2 clients active
2025-05-04 10:19:36,102 - options_module - INFO - Verifying client connection
2025-05-04 10:19:36,102 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:19:36,102 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 10:19:36,103 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:19:41,910 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:19:41,915 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:19:41,915 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:19:41,916 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:19:41,916 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:19:41,939 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:19:41,945 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:21:05,954 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:21:05,960 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:22:47,434 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:22:47,435 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:22:47,435 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:22:47,436 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:22:47,436 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:22:47,503 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:22:47,505 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:22:47,510 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:22:54,761 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:22:54,796 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:22:55,724 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:22:55,724 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:22:56,309 - __main__ - INFO - Raw API response: 050473a4f525AO
2025-05-04 10:22:56,309 - __main__ - INFO - Received order ID as direct string response: 050473a4f525AO
2025-05-04 10:22:56,310 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050473a4f525AO
2025-05-04 10:22:56,882 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:22:56,883 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:22:56] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:23:07,174 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:07] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-04 10:23:07,223 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:07] "GET /login HTTP/1.1" 200 -
2025-05-04 10:23:07,366 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:08,638 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:08] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:23:08,661 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:08] "GET / HTTP/1.1" 200 -
2025-05-04 10:23:08,682 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:08,725 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:08] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:23:08,729 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:08] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:23:10,189 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:10] "GET /positions HTTP/1.1" 200 -
2025-05-04 10:23:10,205 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:10,240 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 10:23:14,155 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:14] "GET /orders HTTP/1.1" 200 -
2025-05-04 10:23:14,169 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:21,037 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:21] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:23:21,054 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:22,209 - account_manager - INFO - Successfully saved 3 accounts to accounts.json
2025-05-04 10:23:22,296 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:23:23,952 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:23:23,954 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:23] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:23:23,963 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:23] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:23:23,980 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:24,954 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:23:24,954 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:23:24,955 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 10:23:24,956 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:24] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:23:30,328 - account_manager - INFO - Successfully saved 3 accounts to accounts.json
2025-05-04 10:23:30,329 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:30] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:23:30,340 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:30] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:23:30,360 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:23:33,890 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:23:33,892 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 10:23:33,895 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:23:33,896 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:23:33,898 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:23:34,017 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:23:34,020 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:23:34,034 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:23:40,630 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:23:40,631 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:23:41,428 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:23:41,429 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:23:42,354 - __main__ - INFO - Raw API response: 050444962245AO
2025-05-04 10:23:42,355 - __main__ - INFO - Received order ID as direct string response: 050444962245AO
2025-05-04 10:23:42,355 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050444962245AO
2025-05-04 10:23:43,401 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:23:43,402 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:23:43] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:24:50,390 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:24:50,391 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 10:24:50,392 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:24:50,392 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:24:50,393 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:24:50,393 - options_module - INFO - Cleaned 26 expired entries from price cache
2025-05-04 10:24:50,449 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:24:50,450 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:24:50,453 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:24:58,421 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:24:58,422 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:24:59,394 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:24:59,395 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:25:00,534 - __main__ - INFO - Raw API response: 050407d3a824AO
2025-05-04 10:25:00,534 - __main__ - INFO - Received order ID as direct string response: 050407d3a824AO
2025-05-04 10:25:00,534 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050407d3a824AO
2025-05-04 10:25:01,197 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:25:01,197 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:01] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:25:15,702 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 10:25:15,703 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:25:23,552 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:25:23,554 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:25:23,723 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:25:25,955 - account_manager - INFO - Successfully loaded 3 active accounts from accounts.json
2025-05-04 10:25:25,956 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:25:25,956 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:25:25,956 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:25:25,969 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:25:25,969 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:25:25,971 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:25:25,971 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:25:25,974 - __main__ - INFO - Initializing 3 client connections
2025-05-04 10:25:26,009 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:25:28,461 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:25:28,461 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:25:28,462 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:25:28,506 - __main__ - INFO - Attempting login for client: awd
2025-05-04 10:25:28,506 - __main__ - ERROR - Exception during login for client awd: Incorrect padding
2025-05-04 10:25:28,506 - __main__ - ERROR - Failed to initialize client awd
2025-05-04 10:25:28,554 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:25:30,908 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:25:30,908 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:25:30,909 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 10:25:30,909 - __main__ - INFO - Client initialization complete. 2/3 clients active
2025-05-04 10:25:30,909 - options_module - INFO - Verifying client connection
2025-05-04 10:25:30,909 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:25:30,909 - options_module - INFO - Verifying client connection
2025-05-04 10:25:30,910 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:25:30,910 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 10:25:30,910 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:25:36,946 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:25:36,950 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:25:36,950 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:25:36,951 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:25:36,951 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:25:36,951 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 10:25:36,975 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:25:36,979 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:25:36,998 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:36] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:25:37,000 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:37] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 10:25:37,032 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:37] "GET /login HTTP/1.1" 200 -
2025-05-04 10:25:37,125 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:25:59,471 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:59] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:25:59,496 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:59] "GET / HTTP/1.1" 200 -
2025-05-04 10:25:59,518 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:25:59,559 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:59] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:25:59,566 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:25:59] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:26:01,151 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:01] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:26:01,169 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:26:03,034 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:26:03,034 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 10:26:03,036 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:03] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 10:26:03,046 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:26:03,069 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:26:07,580 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:26:07,581 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:26:07,581 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:26:07,582 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:26:07,583 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:26:07,643 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:26:07,644 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:26:07,649 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:26:15,579 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:26:15,580 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:26:16,387 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:26:16,387 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:26:17,364 - __main__ - INFO - Raw API response: 0504eabbed1cAO
2025-05-04 10:26:17,364 - __main__ - INFO - Received order ID as direct string response: 0504eabbed1cAO
2025-05-04 10:26:17,365 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0504eabbed1cAO
2025-05-04 10:26:18,341 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:26:18,341 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:26:18,385 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:26:18,386 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:26:18,389 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:26:26,241 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:26:26,242 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:26:27,018 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:26:27,018 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:26:27,924 - __main__ - INFO - Raw API response: 0504f9064e3aAO
2025-05-04 10:26:27,925 - __main__ - INFO - Received order ID as direct string response: 0504f9064e3aAO
2025-05-04 10:26:27,926 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0504f9064e3aAO
2025-05-04 10:26:28,823 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 10:26:28,824 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:26:28] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:27:11,394 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:11] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:11,467 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:14,113 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 10:27:14,114 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 10:27:14,115 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:14] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:27:14,125 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:14] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:14,140 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:17,492 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:17] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 10:27:17,507 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:18,426 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:18] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:18,456 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:20,645 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:27:20,718 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:27:24,204 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:27:24,204 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:27:24,205 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 10:27:24,206 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:24] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:27:24,216 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:24] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:24,238 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:35,908 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 10:27:35,910 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 10:27:35,911 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:35] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:27:35,922 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:35] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:35,943 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:44,035 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:27:44,090 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:27:46,267 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:27:46,267 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:27:46,268 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 10:27:46,269 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:46] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:27:46,277 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:46] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:27:46,305 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:27:50,871 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:50] "GET /edit_account/M543167 HTTP/1.1" 200 -
2025-05-04 10:27:50,883 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:27:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:28:13,542 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:28:16,479 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:28:16,481 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:28:16,672 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:28:17,594 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:28:17,608 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:28:26,540 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 10:28:26,541 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:28:26,542 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:28:26,542 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:28:26,557 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:28:26,557 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:28:26,558 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:28:26,559 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:28:26,559 - __main__ - INFO - Initializing 2 client connections
2025-05-04 10:28:26,593 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:28:29,142 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:28:29,143 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:28:29,143 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:28:29,188 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:28:31,543 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:28:31,544 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:28:31,544 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 10:28:31,544 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 10:28:31,545 - options_module - INFO - Verifying client connection
2025-05-04 10:28:31,545 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:28:31,545 - options_module - INFO - Verifying client connection
2025-05-04 10:28:31,546 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:28:31,546 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 10:28:31,547 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:28:37,618 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:28:37,622 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:28:37,623 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:28:37,623 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:28:37,623 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:28:37,623 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 10:28:37,691 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 10:28:37,692 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 10:28:37,695 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:28:39,557 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 10:28:39,558 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:28:39,559 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:28:39,559 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:28:39,614 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:28:39,614 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:28:39,616 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:28:39,616 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:28:39,617 - __main__ - INFO - Initializing 2 client connections
2025-05-04 10:28:39,666 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:28:42,175 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:28:42,176 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:28:42,176 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:28:42,256 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:28:44,302 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:28:44,302 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:28:44,303 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 10:28:44,303 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 10:28:44,303 - options_module - INFO - Verifying client connection
2025-05-04 10:28:44,304 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:28:44,304 - options_module - INFO - Verifying client connection
2025-05-04 10:28:44,304 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:28:44,305 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 10:28:44,305 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:28:50,386 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:28:50,389 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:28:50,390 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:28:50,390 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:28:50,391 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:28:50,391 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 10:28:50,406 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:28:50,409 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:29:13,412 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:13] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 10:29:13,458 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:13] "GET /login HTTP/1.1" 200 -
2025-05-04 10:29:13,577 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:29:15,700 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:15] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:29:15,714 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:15] "GET / HTTP/1.1" 200 -
2025-05-04 10:29:15,734 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:29:15,766 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:15] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:29:15,773 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:15] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:29:41,834 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:41] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:29:41,848 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:29:47,537 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 10:29:47,538 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 10:29:47,541 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:47] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:29:47,551 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:47] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:29:47,568 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:29:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:29:54,716 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:29:54,717 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:29:54,718 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:29:54,718 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:29:54,718 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:29:54,796 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:29:54,796 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:29:54,802 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:30:02,739 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:30:02,740 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:30:03,549 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:30:03,549 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:30:04,426 - __main__ - INFO - Raw API response: 05040e7ece6aAO
2025-05-04 10:30:04,427 - __main__ - INFO - Received order ID as direct string response: 05040e7ece6aAO
2025-05-04 10:30:04,427 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05040e7ece6aAO
2025-05-04 10:30:05,440 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:30:05,441 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:30:05,490 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:30:05,491 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:30:05,496 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:30:13,160 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:30:13,161 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:30:14,109 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:30:14,110 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:30:14,902 - __main__ - INFO - Raw API response: 0504ab016e99AO
2025-05-04 10:30:14,903 - __main__ - INFO - Received order ID as direct string response: 0504ab016e99AO
2025-05-04 10:30:14,903 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0504ab016e99AO
2025-05-04 10:30:15,828 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 10:30:15,829 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:30:15] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:40:57,900 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 10:40:57,912 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:40:59,677 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:40:59,680 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:41:00,146 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:41:05,246 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 10:41:05,259 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:41:05,274 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:41:05,274 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:41:05,296 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:41:05,297 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:41:05,299 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:41:05,299 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:41:05,300 - __main__ - INFO - Initializing 1 client connections
2025-05-04 10:41:05,350 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:41:07,769 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:41:07,769 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:41:07,770 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:41:07,770 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 10:41:07,770 - options_module - INFO - Verifying client connection
2025-05-04 10:41:07,771 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:41:07,771 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 10:41:07,772 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:41:13,726 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:41:13,730 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:41:13,731 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:41:13,731 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:41:13,732 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:41:13,751 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:41:13,754 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:42:33,081 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:33] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 10:42:33,252 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:33] "GET /login HTTP/1.1" 200 -
2025-05-04 10:42:33,921 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:42:35,081 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:35] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:42:35,141 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:35] "GET / HTTP/1.1" 200 -
2025-05-04 10:42:35,171 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:42:35,209 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:35] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:42:35,214 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:35] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:42:37,918 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:37] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:42:37,931 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:42:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:42:49,487 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 10:42:49,488 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:42:55,303 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:42:55,305 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:42:55,469 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:42:58,436 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 10:42:58,437 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:42:58,438 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:42:58,438 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:42:58,465 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:42:58,465 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:42:58,467 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:42:58,467 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:42:58,468 - __main__ - INFO - Initializing 1 client connections
2025-05-04 10:42:58,535 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:43:01,885 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:43:01,885 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:43:01,886 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:43:01,886 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 10:43:01,886 - options_module - INFO - Verifying client connection
2025-05-04 10:43:01,886 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:43:01,886 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 10:43:01,887 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:43:07,790 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:43:07,794 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:43:07,794 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:43:07,794 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:43:07,795 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:43:07,809 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:43:07,812 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:43:09,590 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:09] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 10:43:09,633 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:09] "GET /login HTTP/1.1" 200 -
2025-05-04 10:43:09,749 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:43:10,738 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:10] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:43:10,757 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:10] "GET / HTTP/1.1" 200 -
2025-05-04 10:43:10,781 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:43:10,817 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:43:10,823 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:10] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:43:12,162 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:12] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:43:12,180 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:43:16,140 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:43:16,140 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:43:16,141 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:43:16,141 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:43:16,142 - options_trade_manager - ERROR - Error processing option signal: 'dict' object has no attribute 'fetch_options_for_expiry'
2025-05-04 10:43:16,142 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:43:16] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-04 10:48:49,647 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_module.py', reloading
2025-05-04 10:48:49,647 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:48:58,480 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:48:58,482 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:48:58,652 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:49:00,535 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 10:49:00,536 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:49:00,536 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:49:00,537 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:49:00,555 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:49:00,555 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:49:00,556 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:49:00,556 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:49:00,557 - __main__ - INFO - Initializing 1 client connections
2025-05-04 10:49:00,593 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:49:03,025 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:49:03,025 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:49:03,026 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:49:03,026 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 10:49:03,027 - options_module - INFO - Verifying client connection
2025-05-04 10:49:03,027 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:49:03,027 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 10:49:03,028 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:49:08,974 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:49:08,979 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:49:08,980 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:49:08,981 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:49:08,981 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:49:09,004 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:49:09,008 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:49:34,693 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:34] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 10:49:34,748 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:34] "GET /login HTTP/1.1" 200 -
2025-05-04 10:49:34,871 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:49:36,457 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:36] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:49:36,475 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:36] "GET / HTTP/1.1" 200 -
2025-05-04 10:49:36,502 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:36] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:49:36,554 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:36] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:49:36,559 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:36] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:49:54,145 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:54] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:49:54,158 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:49:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:50:04,832 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:50:04,832 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:50:04,833 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:50:04,833 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:50:04,833 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:50:04,902 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:50:04,904 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:50:04,910 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:50:12,266 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:50:12,268 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:50:13,394 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:50:13,395 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:50:14,399 - __main__ - INFO - Raw API response: 050436ac6dbdAO
2025-05-04 10:50:14,399 - __main__ - INFO - Received order ID as direct string response: 050436ac6dbdAO
2025-05-04 10:50:14,400 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050436ac6dbdAO
2025-05-04 10:50:15,224 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:50:15,224 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:15] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:50:23,560 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:50:23,618 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:50:29,193 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:50:29,194 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:50:29,194 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 10:50:29,229 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:29] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:50:29,239 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:29] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:50:29,259 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:29] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:50:31,719 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:50:31,720 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 10:50:31,721 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:50:31,721 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:50:31,721 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:50:31,773 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:50:31,774 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:50:31,780 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:50:39,490 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:50:39,491 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:50:40,346 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:50:40,346 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:50:41,209 - __main__ - INFO - Raw API response: 050480879829AO
2025-05-04 10:50:41,209 - __main__ - INFO - Received order ID as direct string response: 050480879829AO
2025-05-04 10:50:41,210 - options_trade_manager - INFO - Option order placed successfully for client V410166: 050480879829AO
2025-05-04 10:50:42,065 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:50:42,065 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:42] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:50:50,850 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:50] "GET /orders HTTP/1.1" 200 -
2025-05-04 10:50:50,866 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:50:55,722 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:55] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:50:55,735 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:50:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:51:18,874 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:51:18,875 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 10:51:18,875 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:51:18,875 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:51:18,876 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:51:18,918 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:51:18,919 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:51:18,922 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:51:26,712 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:51:26,713 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:51:27,506 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:51:27,507 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:51:28,490 - __main__ - INFO - Raw API response: 05042f48d8eaAO
2025-05-04 10:51:28,490 - __main__ - INFO - Received order ID as direct string response: 05042f48d8eaAO
2025-05-04 10:51:28,491 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05042f48d8eaAO
2025-05-04 10:51:29,292 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:51:29,293 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:51:29] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:51:54,839 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 10:51:54,840 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 10:51:54,842 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:51:54] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 10:51:54,849 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:51:54] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:51:54,867 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:51:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:52:05,816 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:52:05,816 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:52:05,817 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:52:05,817 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:52:05,818 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:52:05,866 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:52:05,867 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:52:05,870 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:52:13,658 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:52:13,659 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:52:14,620 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:52:14,620 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:52:15,625 - __main__ - INFO - Raw API response: 0504a61f8bbdAO
2025-05-04 10:52:15,626 - __main__ - INFO - Received order ID as direct string response: 0504a61f8bbdAO
2025-05-04 10:52:15,626 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0504a61f8bbdAO
2025-05-04 10:52:16,465 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 10:52:16,466 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:52:16] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:52:42,227 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 10:52:42,301 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:52:45,517 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:52:45,517 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:52:45,518 - __main__ - INFO - Client V410166 (vishal) activated and initialized successfully
2025-05-04 10:52:45,519 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:52:45] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 10:52:45,526 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:52:45] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:52:45,545 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:52:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:56:31,813 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-04 10:56:31,814 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 10:56:40,593 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 10:56:40,595 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 10:56:40,791 - werkzeug - INFO -  * Restarting with stat
2025-05-04 10:56:42,846 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 10:56:42,847 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 10:56:42,848 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 10:56:42,848 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 10:56:42,873 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:56:42,873 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 10:56:42,874 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 10:56:42,875 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 10:56:42,875 - __main__ - INFO - Initializing 2 client connections
2025-05-04 10:56:42,927 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 10:56:45,504 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:56:45,504 - __main__ - INFO - Login successful for client: M543167
2025-05-04 10:56:45,505 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 10:56:45,549 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 10:56:48,377 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 10:56:48,377 - __main__ - INFO - Login successful for client: V410166
2025-05-04 10:56:48,378 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 10:56:48,378 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 10:56:48,378 - options_module - INFO - Verifying client connection
2025-05-04 10:56:48,378 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:56:48,379 - options_module - INFO - Verifying client connection
2025-05-04 10:56:48,379 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 10:56:48,379 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 10:56:48,379 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 10:56:54,848 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 10:56:54,855 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 10:56:54,855 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 10:56:54,856 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:56:54,857 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 10:56:54,857 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:56:54,883 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 10:56:54,888 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 10:56:55,631 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:55] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 10:56:55,672 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:55] "GET /login HTTP/1.1" 200 -
2025-05-04 10:56:55,790 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:56:58,402 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:58] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 10:56:58,416 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:58] "GET / HTTP/1.1" 200 -
2025-05-04 10:56:58,443 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:56:58,481 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:58] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:56:58,490 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:58] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 10:56:59,728 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:59] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:56:59,746 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:56:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:57:01,201 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 10:57:01,202 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 10:57:01,203 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:57:01] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 10:57:01,211 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:57:01] "GET /accounts HTTP/1.1" 200 -
2025-05-04 10:57:01,229 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:57:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 10:57:06,785 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 10:57:06,785 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 10:57:06,786 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 10:57:06,787 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 10:57:06,787 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:57:06,787 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:57:06,845 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:57:06,846 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:57:06,851 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:57:14,471 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:57:14,472 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:57:15,358 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:57:15,359 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:57:16,269 - __main__ - INFO - Raw API response: 050414e789f0AO
2025-05-04 10:57:16,276 - __main__ - INFO - Received order ID as direct string response: 050414e789f0AO
2025-05-04 10:57:16,278 - options_trade_manager - INFO - Option order placed successfully for client M543167: 050414e789f0AO
2025-05-04 10:57:17,192 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 10:57:17,192 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 10:57:17,239 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 10:57:17,240 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 10:57:17,244 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 10:57:24,885 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 10:57:24,886 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 10:57:25,841 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 10:57:25,841 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 10:57:26,851 - __main__ - INFO - Raw API response: 0504ed666331AO
2025-05-04 10:57:26,852 - __main__ - INFO - Received order ID as direct string response: 0504ed666331AO
2025-05-04 10:57:26,852 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0504ed666331AO
2025-05-04 10:57:27,656 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 10:57:27,657 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 10:57:27] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 10:58:37,632 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 10:58:37,636 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 10:58:37,637 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 11:00:33,523 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-04 11:00:33,524 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 11:00:42,896 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 11:00:42,897 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 11:00:43,073 - werkzeug - INFO -  * Restarting with stat
2025-05-04 11:00:46,300 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-04 11:00:46,301 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 11:00:46,301 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 11:00:46,302 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 11:00:46,315 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:00:46,315 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 11:00:46,317 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 11:00:46,317 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 11:00:46,318 - __main__ - INFO - Initializing 1 client connections
2025-05-04 11:00:46,353 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 11:00:49,214 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:00:49,215 - __main__ - INFO - Login successful for client: V410166
2025-05-04 11:00:49,215 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 11:00:49,216 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-04 11:00:49,216 - options_module - INFO - Verifying client connection
2025-05-04 11:00:49,216 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 11:00:49,219 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-04 11:00:49,219 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 11:00:55,660 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 11:00:55,665 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:00:55,666 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 11:00:55,667 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 11:00:55,667 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 11:00:55,693 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 11:00:55,697 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 11:02:00,768 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:00] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 11:02:00,810 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:00] "GET /login HTTP/1.1" 200 -
2025-05-04 11:02:00,946 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:02,054 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:02] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 11:02:02,068 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:02] "GET / HTTP/1.1" 200 -
2025-05-04 11:02:02,095 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:02,144 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:02] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 11:02:02,149 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:02] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 11:02:03,766 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:02:03,783 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:07,381 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:02:07,382 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 11:02:07,382 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 11:02:07,383 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:02:07,383 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:02:07,384 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:02:07,448 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:02:07,449 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:02:07,454 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:02:15,242 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:02:15,243 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:02:16,179 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:02:16,179 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:02:17,222 - __main__ - INFO - Raw API response: 05046f5f5357AO
2025-05-04 11:02:17,222 - __main__ - INFO - Received order ID as direct string response: 05046f5f5357AO
2025-05-04 11:02:17,223 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05046f5f5357AO
2025-05-04 11:02:18,058 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 11:02:18,059 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:18] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:02:26,914 - account_manager - INFO - Successfully saved 0 accounts to accounts.json
2025-05-04 11:02:26,915 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 11:02:26,916 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:26] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 11:02:26,927 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:26] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:02:26,950 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:27,849 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 11:02:27,929 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:02:30,567 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:02:30,567 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:02:30,568 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 11:02:30,569 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:30] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:02:30,577 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:30] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:02:30,595 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:34,835 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:02:34,835 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 11:02:34,836 - options_trade_manager - INFO - Loaded 0 active clients from accounts.json
2025-05-04 11:02:34,836 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:02:34,836 - options_trade_manager - INFO - Option order placement complete: 0/0 successful
2025-05-04 11:02:34,837 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:34] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-04 11:02:48,437 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 11:02:48,493 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 11:02:50,812 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:02:50,813 - __main__ - INFO - Login successful for client: V410166
2025-05-04 11:02:50,813 - __main__ - INFO - Client V410166 (vishal) activated and initialized successfully
2025-05-04 11:02:50,814 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:50] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 11:02:50,822 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:50] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:02:50,841 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:02:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:02:57,151 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:02:57,151 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 11:02:57,152 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 11:02:57,153 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:02:57,153 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:02:57,153 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:02:57,209 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:02:57,210 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:02:57,215 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:03:04,906 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:03:04,907 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:03:05,866 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:03:05,867 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:03:06,857 - __main__ - INFO - Raw API response: 05043550fbe2AO
2025-05-04 11:03:06,857 - __main__ - INFO - Received order ID as direct string response: 05043550fbe2AO
2025-05-04 11:03:06,857 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05043550fbe2AO
2025-05-04 11:03:07,865 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 11:03:07,866 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:07] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:03:26,773 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 11:03:26,775 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 11:03:26,776 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:26] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:03:26,784 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:26] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:03:26,800 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:03:27,943 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 11:03:28,007 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:03:30,555 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:03:30,555 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:03:30,556 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 11:03:30,557 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:30] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:03:30,564 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:30] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:03:30,582 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:03:38,799 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFCBANK-EQ", "exchange": "NSE", "symbol_token": "1333", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 11:03:38,799 - __main__ - INFO - Processing BUY signal for HDFCBANK-EQ across 2 clients
2025-05-04 11:03:38,800 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 11:03:38,801 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 11:03:39,829 - __main__ - INFO - Raw API response: 0504ddfe1076AO
2025-05-04 11:03:39,830 - __main__ - INFO - Received order ID as direct string response: 0504ddfe1076AO
2025-05-04 11:03:40,006 - __main__ - INFO - Raw API response: 05049ae23d1cAO
2025-05-04 11:03:40,006 - __main__ - INFO - Received order ID as direct string response: 05049ae23d1cAO
2025-05-04 11:03:40,007 - __main__ - INFO - Order placement complete: 2/2 successful
2025-05-04 11:03:40,007 - __main__ - INFO - Order placed successfully for client M543167: 0504ddfe1076AO
2025-05-04 11:03:40,007 - __main__ - INFO - Order placed successfully for client V410166: 05049ae23d1cAO
2025-05-04 11:03:40,008 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:40] "POST /webhook HTTP/1.1" 200 -
2025-05-04 11:03:54,269 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 11:03:54,271 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 11:03:54,272 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:54] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:03:54,283 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:54] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:03:54,305 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:03:56,057 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 11:03:56,112 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:03:58,623 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:03:58,623 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:03:58,624 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 11:03:58,625 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:58] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:03:58,634 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:58] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:03:58,656 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:03:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:04:02,526 - __main__ - INFO - Received webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "action": "BUY", "symbol": "HDFCBANK-EQ", "exchange": "NSE", "symbol_token": "1333", "product_type": "INTRADAY", "order_type": "LIMIT", "quantity": 1, "price": "1800", "trigger_price": "0"}
2025-05-04 11:04:02,527 - __main__ - INFO - Processing BUY signal for HDFCBANK-EQ across 2 clients
2025-05-04 11:04:02,527 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 11:04:02,528 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'HDFCBANK-EQ', 'symboltoken': '1333', 'transactiontype': 'BUY', 'exchange': 'NSE', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'price': '1800', 'squareoff': '0', 'stoploss': '0', 'triggerprice': '0', 'quantity': '1'}
2025-05-04 11:04:03,472 - __main__ - INFO - Raw API response: 0504f498eb44AO
2025-05-04 11:04:03,472 - __main__ - INFO - Received order ID as direct string response: 0504f498eb44AO
2025-05-04 11:04:03,543 - __main__ - INFO - Raw API response: 05049a76989dAO
2025-05-04 11:04:03,544 - __main__ - INFO - Received order ID as direct string response: 05049a76989dAO
2025-05-04 11:04:03,544 - __main__ - INFO - Order placement complete: 2/2 successful
2025-05-04 11:04:03,578 - __main__ - INFO - Order placed successfully for client M543167: 0504f498eb44AO
2025-05-04 11:04:03,578 - __main__ - INFO - Order placed successfully for client V410166: 05049a76989dAO
2025-05-04 11:04:03,579 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:04:03] "POST /webhook HTTP/1.1" 200 -
2025-05-04 11:04:07,383 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:04:07,383 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 11:04:07,384 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 11:04:07,384 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:04:07,385 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:04:07,385 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:04:07,423 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:04:07,424 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:04:07,429 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:04:14,464 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:04:14,465 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:04:15,578 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:04:15,579 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:04:16,416 - __main__ - INFO - Raw API response: 05043b72d818AO
2025-05-04 11:04:16,416 - __main__ - INFO - Received order ID as direct string response: 05043b72d818AO
2025-05-04 11:04:16,417 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05043b72d818AO
2025-05-04 11:04:17,250 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 11:04:17,251 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:04:17] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:07:24,434 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 11:07:26,330 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 11:07:26,332 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 11:07:26,537 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 11:07:26,732 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 11:07:26,749 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 11:07:31,134 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 11:07:31,134 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 11:07:31,135 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 11:07:31,136 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 11:07:31,156 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:07:31,157 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 11:07:31,158 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 11:07:31,158 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 11:07:31,159 - __main__ - INFO - Initializing 2 client connections
2025-05-04 11:07:31,207 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 11:07:33,584 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:07:33,584 - __main__ - INFO - Login successful for client: V410166
2025-05-04 11:07:33,585 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 11:07:33,629 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:07:36,241 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:07:36,242 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:07:36,242 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 11:07:36,243 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 11:07:36,243 - options_module - INFO - Verifying client connection
2025-05-04 11:07:36,243 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 11:07:36,244 - options_module - INFO - Verifying client connection
2025-05-04 11:07:36,244 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 11:07:36,244 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 11:07:36,245 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 11:07:41,955 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 11:07:41,959 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:07:41,959 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 11:07:41,960 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 11:07:41,960 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 11:07:41,960 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 11:07:42,018 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 11:07:42,018 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 11:07:42,021 - werkzeug - INFO -  * Restarting with stat
2025-05-04 11:07:43,796 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 11:07:43,797 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 11:07:43,797 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 11:07:43,797 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 11:07:43,815 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:07:43,832 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-04 11:07:43,833 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 11:07:43,833 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 11:07:43,833 - __main__ - INFO - Initializing 2 client connections
2025-05-04 11:07:43,867 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 11:07:46,300 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:07:46,301 - __main__ - INFO - Login successful for client: V410166
2025-05-04 11:07:46,301 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 11:07:46,348 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:07:48,873 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:07:48,873 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:07:48,873 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 11:07:48,874 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 11:07:48,874 - options_module - INFO - Verifying client connection
2025-05-04 11:07:48,875 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 11:07:48,875 - options_module - INFO - Verifying client connection
2025-05-04 11:07:48,875 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 11:07:48,876 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 11:07:48,876 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 11:07:54,823 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 11:07:54,828 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-04 11:07:54,829 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 11:07:54,830 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 11:07:54,830 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 11:07:54,830 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 11:07:54,852 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 11:07:54,857 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 11:08:03,453 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:03] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-04 11:08:03,482 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:03] "GET /login HTTP/1.1" 200 -
2025-05-04 11:08:03,579 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:08:04,500 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:04] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 11:08:04,514 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:04] "GET / HTTP/1.1" 200 -
2025-05-04 11:08:04,540 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:08:04,591 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:04] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 11:08:04,598 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:04] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 11:08:13,372 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:13] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:08:13,390 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:08:18,220 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:08:18,221 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 11:08:18,223 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-04 11:08:18,224 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:08:18,224 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:08:18,224 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:08:18,285 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:08:18,286 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:08:18,290 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:08:26,391 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:08:26,392 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:08:27,336 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:08:27,337 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:08:28,299 - __main__ - INFO - Raw API response: 05047087266bAO
2025-05-04 11:08:28,300 - __main__ - INFO - Received order ID as direct string response: 05047087266bAO
2025-05-04 11:08:28,300 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05047087266bAO
2025-05-04 11:08:29,363 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:08:29,363 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:08:29,412 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:08:29,413 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:08:29,417 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:08:37,402 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:08:37,403 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:08:38,177 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:08:38,178 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:08:39,096 - __main__ - INFO - Raw API response: 050416f572ecAO
2025-05-04 11:08:39,097 - __main__ - INFO - Received order ID as direct string response: 050416f572ecAO
2025-05-04 11:08:39,097 - options_trade_manager - INFO - Option order placed successfully for client M543167: 050416f572ecAO
2025-05-04 11:08:39,862 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 11:08:39,863 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:39] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:08:49,347 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 11:08:49,348 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 11:08:49,349 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:49] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:08:49,363 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:49] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:08:49,384 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:08:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:08:53,795 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:08:53,796 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 11:08:53,797 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 11:08:53,798 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:08:53,798 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:08:53,799 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:08:53,847 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:08:53,848 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:08:53,853 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:09:03,970 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:09:03,971 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:09:04,791 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:09:04,792 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:09:05,777 - __main__ - INFO - Raw API response: 05044868dfc4AO
2025-05-04 11:09:05,777 - __main__ - INFO - Received order ID as direct string response: 05044868dfc4AO
2025-05-04 11:09:05,778 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05044868dfc4AO
2025-05-04 11:09:06,581 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 11:09:06,582 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:09:06] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:09:32,777 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 11:09:32,838 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:09:35,396 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:09:35,397 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:09:35,431 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 11:09:35,432 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:09:35] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:09:35,440 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:09:35] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:09:35,463 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:09:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:09:45,462 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:09:45,462 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 11:09:45,463 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-04 11:09:45,463 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:09:45,464 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:09:45,465 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:09:45,527 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:09:45,528 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:09:45,532 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:09:53,246 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:09:53,247 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:09:54,169 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:09:54,170 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:09:54,988 - __main__ - INFO - Raw API response: 0504b953c316AO
2025-05-04 11:09:54,988 - __main__ - INFO - Received order ID as direct string response: 0504b953c316AO
2025-05-04 11:09:54,989 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0504b953c316AO
2025-05-04 11:09:55,915 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:09:55,916 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:09:55,961 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:09:55,962 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:09:55,967 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:10:03,546 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:10:03,547 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:10:04,340 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:10:04,340 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:10:05,119 - __main__ - INFO - Raw API response: 0504be1d4f45AO
2025-05-04 11:10:05,120 - __main__ - INFO - Received order ID as direct string response: 0504be1d4f45AO
2025-05-04 11:10:05,120 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0504be1d4f45AO
2025-05-04 11:10:05,905 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 11:10:05,906 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:05] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:10:26,328 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 11:10:26,329 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 11:10:26,331 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:26] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:10:26,344 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:26] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:10:26,366 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:10:31,037 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:10:31,038 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-04 11:10:31,040 - options_trade_manager - INFO - Loaded 1 active clients from accounts.json
2025-05-04 11:10:31,040 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:10:31,040 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:10:31,041 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:10:31,212 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:10:31,253 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:10:31,379 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:10:39,288 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:10:39,289 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:10:40,307 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:10:40,307 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:10:41,188 - __main__ - INFO - Raw API response: 05043c691dd5AO
2025-05-04 11:10:41,189 - __main__ - INFO - Received order ID as direct string response: 05043c691dd5AO
2025-05-04 11:10:41,189 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05043c691dd5AO
2025-05-04 11:10:42,117 - options_trade_manager - INFO - Option order placement complete: 1/1 successful
2025-05-04 11:10:42,119 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:42] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:10:49,258 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 11:10:49,325 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 11:10:52,148 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 11:10:52,149 - __main__ - INFO - Login successful for client: M543167
2025-05-04 11:10:52,149 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 11:10:52,150 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:52] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 11:10:52,157 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:52] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:10:52,177 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:10:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:10:58,210 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "55115.35", "underlying_stop_loss": "55000", "underlying_target": "56000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "MARKET"}
2025-05-04 11:10:58,211 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-04 11:10:58,213 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-04 11:10:58,214 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-04 11:10:58,215 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:10:58,216 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:10:58,271 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:10:58,272 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:10:58,277 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:11:05,887 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:11:05,888 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:11:06,802 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client V410166, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:11:06,803 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:11:07,707 - __main__ - INFO - Raw API response: 05041132436dAO
2025-05-04 11:11:07,707 - __main__ - INFO - Received order ID as direct string response: 05041132436dAO
2025-05-04 11:11:07,708 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05041132436dAO
2025-05-04 11:11:08,630 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-04 11:11:08,631 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 11:11:08,678 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 11:11:08,679 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 11:11:08,685 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 11:11:16,823 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 11:11:16,824 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2555100CE (Strike: 55100.0)
2025-05-04 11:11:17,728 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555100CE with client M543167, quantity: 30, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-04 11:11:17,729 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '1150.04'}
2025-05-04 11:11:18,505 - __main__ - INFO - Raw API response: 0504f6796a1dAO
2025-05-04 11:11:18,505 - __main__ - INFO - Received order ID as direct string response: 0504f6796a1dAO
2025-05-04 11:11:18,506 - options_trade_manager - INFO - Option order placed successfully for client M543167: 0504f6796a1dAO
2025-05-04 11:11:19,286 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-04 11:11:19,287 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:11:19] "POST /options-webhook HTTP/1.1" 200 -
2025-05-04 11:17:02,192 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:17:02] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-04 11:17:02,320 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:17:02] "GET /login HTTP/1.1" 200 -
2025-05-04 11:17:21,103 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:17:24,368 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:17:26,509 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:17:26,938 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:17:26] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 11:17:28,608 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:17:30,888 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:17:30] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 11:17:30,909 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:17:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:18:25,826 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:25] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-04 11:18:28,770 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:28] "GET /positions HTTP/1.1" 200 -
2025-05-04 11:18:28,794 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:18:28,847 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 11:18:35,371 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:35] "GET /accounts HTTP/1.1" 200 -
2025-05-04 11:18:35,392 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:18:43,787 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:43] "GET /orders HTTP/1.1" 200 -
2025-05-04 11:18:43,807 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:18:46,113 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:46] "GET /positions HTTP/1.1" 200 -
2025-05-04 11:18:46,136 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 11:18:46,186 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:18:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 11:19:06,199 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:19:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 11:19:19,099 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:19:21,603 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 11:19:24,786 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:19:24] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 11:19:24,805 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 11:19:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:28:14,618 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 15:28:14,622 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 15:28:14,624 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 15:28:14,624 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 15:28:14,667 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:28:14,668 - TradeMonitorService - INFO - TradeMonitorService initialized with 2 active trades
2025-05-04 15:28:14,669 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 15:28:14,670 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 15:28:14,670 - __main__ - INFO - Initializing 2 client connections
2025-05-04 15:28:14,732 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 15:28:17,140 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:28:17,140 - __main__ - INFO - Login successful for client: V410166
2025-05-04 15:28:17,140 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 15:28:17,172 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 15:28:19,377 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:28:19,378 - __main__ - INFO - Login successful for client: M543167
2025-05-04 15:28:19,378 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 15:28:19,378 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 15:28:19,379 - options_module - INFO - Verifying client connection
2025-05-04 15:28:19,379 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:28:19,379 - options_module - INFO - Verifying client connection
2025-05-04 15:28:19,380 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:28:19,380 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 15:28:19,380 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 15:28:25,430 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 15:28:25,435 - options_trade_manager - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:28:25,436 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 15:28:25,437 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 15:28:25,437 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 15:28:25,438 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 15:28:25,489 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-04 15:28:25,490 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-04 15:28:25,498 - werkzeug - INFO -  * Restarting with stat
2025-05-04 15:28:26,370 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 15:28:27,186 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 15:28:27,972 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 15:28:27,972 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 15:28:27,973 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 15:28:27,973 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 15:28:27,998 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:28:27,998 - TradeMonitorService - INFO - TradeMonitorService initialized with 2 active trades
2025-05-04 15:28:27,999 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 15:28:28,000 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 15:28:28,000 - __main__ - INFO - Initializing 2 client connections
2025-05-04 15:28:28,054 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 15:28:30,351 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:28:30,351 - __main__ - INFO - Login successful for client: V410166
2025-05-04 15:28:30,352 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 15:28:30,383 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 15:28:32,389 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:28:32,389 - __main__ - INFO - Login successful for client: M543167
2025-05-04 15:28:32,390 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 15:28:32,390 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 15:28:32,390 - options_module - INFO - Verifying client connection
2025-05-04 15:28:32,391 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:28:32,391 - options_module - INFO - Verifying client connection
2025-05-04 15:28:32,391 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:28:32,392 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 15:28:32,392 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 15:28:39,699 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 15:28:39,705 - options_trade_manager - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:28:39,705 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 15:28:39,706 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 15:28:39,707 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 15:28:39,707 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 15:28:39,730 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 15:28:39,735 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 15:28:40,593 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 15:28:41,310 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 15:29:10,076 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:10] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-04 15:29:10,135 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:10] "GET /login HTTP/1.1" 200 -
2025-05-04 15:29:10,266 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:29:11,306 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:11] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 15:29:11,332 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:11] "GET / HTTP/1.1" 200 -
2025-05-04 15:29:11,357 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:29:11,412 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:11] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 15:29:11,418 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:11] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 15:29:15,257 - __main__ - ERROR - Exception getting funds for V410166: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 15:29:17,852 - __main__ - ERROR - Exception getting funds for M543167: 'SmartConnect' object has no attribute 'getRMS'
2025-05-04 15:29:19,850 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:19] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 15:29:19,862 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:29:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:49:26,167 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 15:49:26,179 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 15:49:36,085 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 15:49:36,123 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 15:49:36,595 - werkzeug - INFO -  * Restarting with stat
2025-05-04 15:49:40,205 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 15:49:40,206 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 15:49:40,207 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 15:49:40,208 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 15:49:40,254 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:49:40,255 - TradeMonitorService - INFO - TradeMonitorService initialized with 2 active trades
2025-05-04 15:49:40,258 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 15:49:40,258 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 15:49:40,258 - __main__ - INFO - Initializing 2 client connections
2025-05-04 15:49:40,326 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 15:49:49,687 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:49:49,688 - __main__ - INFO - Login successful for client: V410166
2025-05-04 15:49:49,688 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 15:49:49,737 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 15:49:52,346 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 15:49:52,347 - __main__ - INFO - Login successful for client: M543167
2025-05-04 15:49:52,347 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 15:49:52,347 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 15:49:52,348 - options_module - INFO - Verifying client connection
2025-05-04 15:49:52,348 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:49:52,348 - options_module - INFO - Verifying client connection
2025-05-04 15:49:52,349 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 15:49:52,349 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 15:49:52,349 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 15:49:58,636 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 15:49:58,642 - options_trade_manager - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 15:49:58,642 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 15:49:58,643 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 15:49:58,644 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 15:49:58,644 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 15:49:58,674 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 15:49:58,680 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 15:49:59,372 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 15:50:00,089 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 15:50:22,575 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:22] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-04 15:50:22,616 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:22] "GET /login HTTP/1.1" 200 -
2025-05-04 15:50:22,718 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:50:23,832 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:23] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 15:50:23,847 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:23] "GET / HTTP/1.1" 200 -
2025-05-04 15:50:23,870 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:50:23,906 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:23] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 15:50:23,910 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:23] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 15:50:30,929 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:30] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 15:50:30,940 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:50:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:52:19,542 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:52:19] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-04 15:56:46,709 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:56:46] "[32mPOST /exit_all_positions HTTP/1.1[0m" 302 -
2025-05-04 15:56:51,037 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:56:51] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 15:56:51,059 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 15:56:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 15:58:55,182 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 15:58:55,185 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 15:58:55,185 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 15:58:56,077 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 15:58:56,960 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 16:15:18,452 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-04 16:15:18,467 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-04 16:15:20,453 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-04 16:15:20,460 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-04 16:15:21,160 - werkzeug - INFO -  * Restarting with stat
2025-05-04 16:15:23,974 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-04 16:15:23,975 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-04 16:15:23,976 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-04 16:15:23,976 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-04 16:15:23,998 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 16:15:23,998 - TradeMonitorService - INFO - TradeMonitorService initialized with 2 active trades
2025-05-04 16:15:24,000 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-04 16:15:24,000 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-04 16:15:24,000 - __main__ - INFO - Initializing 2 client connections
2025-05-04 16:15:24,057 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 16:15:27,253 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 16:15:27,254 - __main__ - INFO - Login successful for client: V410166
2025-05-04 16:15:27,254 - __main__ - INFO - Client V410166 initialized successfully
2025-05-04 16:15:27,304 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 16:15:29,435 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 16:15:29,435 - __main__ - INFO - Login successful for client: M543167
2025-05-04 16:15:29,436 - __main__ - INFO - Client M543167 initialized successfully
2025-05-04 16:15:29,436 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-04 16:15:29,436 - options_module - INFO - Verifying client connection
2025-05-04 16:15:29,436 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 16:15:29,437 - options_module - INFO - Verifying client connection
2025-05-04 16:15:29,437 - options_module - INFO - Client connection verified with smart_api structure
2025-05-04 16:15:29,437 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-04 16:15:29,437 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-04 16:15:37,176 - options_module - INFO - Successfully loaded 124928 symbols from OpenAPI
2025-05-04 16:15:37,182 - options_trade_manager - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-04 16:15:37,182 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-04 16:15:37,183 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 16:15:37,184 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 16:15:37,185 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 16:15:37,186 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:15:37,186 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 16:15:37,187 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:15:37,189 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 16:15:37,218 - werkzeug - WARNING -  * Debugger is active!
2025-05-04 16:15:37,222 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-04 16:17:10,480 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:10] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-04 16:17:10,534 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:10] "GET /login HTTP/1.1" 200 -
2025-05-04 16:17:10,684 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:11,691 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:11] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-04 16:17:11,711 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:11] "GET / HTTP/1.1" 200 -
2025-05-04 16:17:11,740 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:11,800 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:11] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:17:11,804 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:11] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:17:13,912 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:13] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:17:13,927 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:16,879 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:17:16,879 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:17:18,355 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:17:18,355 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:17:19,184 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:19] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:17:19,198 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:40,164 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:40] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-05-04 16:17:42,671 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:42] "[33mGET /webhook_generator HTTP/1.1[0m" 404 -
2025-05-04 16:17:51,184 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:51] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:17:51,201 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:53,231 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:17:53,231 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:17:54,454 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:17:54,454 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:17:55,309 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:55] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:17:55,324 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:59,523 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:59] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:17:59,535 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:17:59,579 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:17:59] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:18:19,579 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:18:19] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:18:40,162 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:18:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:18:59,584 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:18:59] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:19:02,877 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:19:02] "[33mGET /index HTTP/1.1[0m" 404 -
2025-05-04 16:19:06,310 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:19:06] "GET / HTTP/1.1" 200 -
2025-05-04 16:19:06,330 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:19:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:19:06,377 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:19:06] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:19:06,389 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:19:06] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:24:00,861 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:00] "GET / HTTP/1.1" 200 -
2025-05-04 16:24:00,873 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:24:00,917 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:00] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:24:00,923 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:00] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:24:29,965 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:29] "[33mGET /symbol_search HTTP/1.1[0m" 404 -
2025-05-04 16:24:33,630 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:24:33] "[33mGET /webhook_generator HTTP/1.1[0m" 404 -
2025-05-04 16:25:08,113 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:08] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:25:08,131 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:25:09,611 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:25:09,612 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:25:11,306 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:25:11,307 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:25:12,354 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:25:12,354 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:25:12,416 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:12] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:25:14,301 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:25:14,302 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:25:15,284 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:15] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:25:15,301 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:25:32,324 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:32] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:25:32,345 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:25:33,580 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:33] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:25:33,600 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:25:33,648 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:25:55,750 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-04 16:25:55,759 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:25:56,599 - __main__ - INFO - Raw API response: None
2025-05-04 16:25:56,600 - __main__ - ERROR - Unexpected response type for client M543167: <class 'NoneType'>
2025-05-04 16:25:56,600 - TradeMonitorService - ERROR - Failed to exit option position BANKNIFTY29MAY2555100CE (MANUAL_EXIT)
2025-05-04 16:25:56,600 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:25:56] "POST /api/positions/exit/5873df85-f98c-464e-8b87-6fb778e51948 HTTP/1.1" 200 -
2025-05-04 16:26:14,152 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:26:34,164 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:34] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:26:48,546 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:26:48,547 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:26:50,443 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:26:50,443 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:26:51,549 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:51] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:26:51,564 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:26:58,042 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:58] "GET / HTTP/1.1" 200 -
2025-05-04 16:26:58,065 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:26:58,102 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:58] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:26:58,108 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:26:58] "GET /api/accounts/status HTTP/1.1" 200 -
2025-05-04 16:27:14,195 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:27:14] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:27:14,212 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:27:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:28:56,999 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 16:28:57,005 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 16:28:57,005 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 16:28:58,486 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 16:28:59,522 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 16:29:44,890 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:29:44] "GET / HTTP/1.1" 200 -
2025-05-04 16:29:44,906 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:29:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:29:52,294 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:29:52,294 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:29:54,090 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:29:54,091 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:29:55,253 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:29:55] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:29:55,267 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:29:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:30:05,221 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:30:05] "GET / HTTP/1.1" 200 -
2025-05-04 16:30:05,260 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:30:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:31:57,495 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:31:57] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:31:57,515 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:31:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:31:58,590 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:31:58] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:31:58,617 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:31:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:31:58,670 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:31:58] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:32:00,709 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:32:01,899 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 16:32:03,055 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:32:03,056 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 16:32:03,224 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:32:03] "GET /options HTTP/1.1" 200 -
2025-05-04 16:32:03,242 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:32:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:32:03,305 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-04 16:32:03,599 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 16:32:03,604 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:32:03] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 16:32:05,588 - __main__ - INFO - Fetching expiry dates for symbol: BANKNIFTY, exchange: NSE
2025-05-04 16:32:05,589 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-04 16:32:05,590 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-04 16:32:05,590 - __main__ - INFO - Calling get_expiry_dates for BANKNIFTY on NFO
2025-05-04 16:32:05,591 - options_module - INFO - Getting expiry dates for BANKNIFTY on NFO
2025-05-04 16:32:05,591 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-04 16:32:05,755 - options_module - INFO - Found 6 expiry dates for BANKNIFTY
2025-05-04 16:32:05,755 - __main__ - INFO - Retrieved 6 expiry dates for BANKNIFTY
2025-05-04 16:32:05,756 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:32:05] "GET /api/get-expiry-dates?symbol=BANKNIFTY HTTP/1.1" 200 -
2025-05-04 16:32:05,765 - __main__ - INFO - Fetching option chain for symbol: BANKNIFTY, expiry: 29MAY2025, exchange: NSE
2025-05-04 16:32:05,765 - __main__ - INFO - Using client V410166 for option chain API
2025-05-04 16:32:05,765 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-04 16:32:05,767 - __main__ - INFO - Getting underlying price for BANKNIFTY
2025-05-04 16:32:05,767 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:32:05,768 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 16:32:05,770 - __main__ - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 16:32:05,771 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-04 16:32:05,847 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-04 16:32:05,849 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-04 16:32:05,859 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 55100.0
2025-05-04 16:32:13,670 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-04 16:32:13,670 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-04 16:32:13,672 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:32:13] "GET /api/get-option-chain?symbol=BANKNIFTY&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-04 16:33:44,923 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:44] "GET / HTTP/1.1" 200 -
2025-05-04 16:33:44,936 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:44] "[33mGET /api/placeholder/80/80 HTTP/1.1[0m" 404 -
2025-05-04 16:33:44,940 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:44] "[33mGET /api/placeholder/1000/300 HTTP/1.1[0m" 404 -
2025-05-04 16:33:44,941 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:33:45,188 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:45] "[33mGET /api/placeholder/1200/300 HTTP/1.1[0m" 404 -
2025-05-04 16:33:56,863 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:56] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:33:56,877 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:33:58,715 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:58] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:33:58,738 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:33:58,788 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:33:58] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:34:01,065 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:34:02,200 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 16:34:03,488 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:34:03,488 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 16:34:03,490 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:03] "GET /options HTTP/1.1" 200 -
2025-05-04 16:34:03,859 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:03] "GET /orders HTTP/1.1" 200 -
2025-05-04 16:34:03,874 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:34:18,984 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:18] "GET / HTTP/1.1" 200 -
2025-05-04 16:34:19,006 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:19] "[33mGET /api/placeholder/80/80 HTTP/1.1[0m" 404 -
2025-05-04 16:34:19,008 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:34:19,009 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:19] "[33mGET /api/placeholder/1000/300 HTTP/1.1[0m" 404 -
2025-05-04 16:34:19,039 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:34:19] "[33mGET /api/placeholder/1200/300 HTTP/1.1[0m" 404 -
2025-05-04 16:35:17,126 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:17] "GET / HTTP/1.1" 200 -
2025-05-04 16:35:17,187 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:35:17,189 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:17] "[33mGET /api/placeholder/80/80 HTTP/1.1[0m" 404 -
2025-05-04 16:35:17,199 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:17] "[33mGET /api/placeholder/1000/300 HTTP/1.1[0m" 404 -
2025-05-04 16:35:17,209 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:17] "[33mGET /api/placeholder/1200/300 HTTP/1.1[0m" 404 -
2025-05-04 16:35:21,753 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:21] "GET / HTTP/1.1" 200 -
2025-05-04 16:35:21,773 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:21] "[33mGET /api/placeholder/80/80 HTTP/1.1[0m" 404 -
2025-05-04 16:35:21,775 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:21] "[33mGET /api/placeholder/1000/300 HTTP/1.1[0m" 404 -
2025-05-04 16:35:21,776 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:35:21,808 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:21] "[33mGET /api/placeholder/1200/300 HTTP/1.1[0m" 404 -
2025-05-04 16:35:28,194 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:28] "GET / HTTP/1.1" 200 -
2025-05-04 16:35:28,213 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:35:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:38:43,786 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:38:43] "GET / HTTP/1.1" 200 -
2025-05-04 16:38:55,913 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:38:55] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:38:55,931 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:38:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:38:58,741 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:38:58,742 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:39:01,201 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:39:01,202 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:39:02,251 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:39:02] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:39:02,272 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:39:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:39:07,546 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:39:07] "GET / HTTP/1.1" 200 -
2025-05-04 16:41:07,920 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:41:07,921 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:41:10,165 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:41:10,166 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:41:11,287 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:41:11] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:41:11,301 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:41:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:41:24,318 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:41:24] "GET / HTTP/1.1" 200 -
2025-05-04 16:43:07,284 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:07] "GET / HTTP/1.1" 200 -
2025-05-04 16:43:12,172 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:12] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:43:12,187 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:43:13,814 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:13] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:43:13,833 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:43:13,878 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:43:15,685 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:43:16,963 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 16:43:17,619 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:17] "GET /orders HTTP/1.1" 200 -
2025-05-04 16:43:18,206 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:43:18,206 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:43:18,292 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:43:18,292 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 16:43:18,294 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:18] "GET /options HTTP/1.1" 200 -
2025-05-04 16:43:20,554 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:43:20,554 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:43:21,529 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:21] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:43:21,542 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:43:32,210 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:32] "GET / HTTP/1.1" 200 -
2025-05-04 16:43:38,425 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:38] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:43:38,445 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:43:43,454 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:43:43] "GET / HTTP/1.1" 200 -
2025-05-04 16:45:37,199 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 16:45:37,200 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 16:45:37,200 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 16:45:37,200 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:45:37,201 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 16:45:37,201 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:45:37,201 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 16:50:38,205 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:38] "GET /accounts HTTP/1.1" 200 -
2025-05-04 16:50:38,223 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:50:40,389 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:50:41,608 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 16:50:42,935 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 16:50:42,936 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 16:50:42,938 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:42] "GET /options HTTP/1.1" 200 -
2025-05-04 16:50:43,453 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:43] "GET /orders HTTP/1.1" 200 -
2025-05-04 16:50:43,469 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:50:47,607 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:47] "GET /positions HTTP/1.1" 200 -
2025-05-04 16:50:47,624 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:50:47,661 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:47] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 16:50:52,111 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:50:52,111 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:50:53,819 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 16:50:53,819 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 16:50:54,788 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:54] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 16:50:54,801 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 16:50:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 16:58:59,525 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 16:58:59,529 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 16:58:59,529 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 16:59:00,489 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 16:59:01,322 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 17:15:37,352 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 17:15:37,355 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 17:15:37,355 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 17:15:37,356 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:15:37,356 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 17:15:37,356 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:15:37,356 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 17:18:29,908 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:18:29] "GET / HTTP/1.1" 200 -
2025-05-04 17:18:39,676 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:18:39,676 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:18:42,612 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:18:42,612 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:18:43,831 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:18:43] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 17:18:43,854 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:18:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:02,726 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:02] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:19:02,753 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:11,067 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:11] "GET /add_account HTTP/1.1" 200 -
2025-05-04 17:19:11,084 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:19,372 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:19] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:19:19,408 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:22,032 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 17:19:22,034 - __main__ - INFO - Client V410166 (vishal) deactivated and removed from active clients
2025-05-04 17:19:22,039 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:22] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 17:19:22,061 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:22] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:19:22,112 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:31,858 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 17:19:31,980 - __main__ - INFO - Attempting login for client: V410166
2025-05-04 17:19:35,922 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 17:19:35,923 - __main__ - INFO - Login successful for client: V410166
2025-05-04 17:19:35,924 - __main__ - INFO - Client V410166 (vishal) activated and initialized successfully
2025-05-04 17:19:35,926 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:35] "[32mPOST /toggle_account/V410166 HTTP/1.1[0m" 302 -
2025-05-04 17:19:35,938 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:35] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:19:35,976 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:19:57,935 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-04 17:19:57,936 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-04 17:19:57,937 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:57] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 17:19:57,997 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:57] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:19:58,106 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:19:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:20:00,104 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-04 17:20:00,211 - __main__ - INFO - Attempting login for client: M543167
2025-05-04 17:20:03,792 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-04 17:20:03,793 - __main__ - INFO - Login successful for client: M543167
2025-05-04 17:20:03,793 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-04 17:20:03,795 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:03] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-04 17:20:03,808 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:03] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:20:03,844 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:20:05,122 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:05] "GET /positions HTTP/1.1" 200 -
2025-05-04 17:20:05,150 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:20:05,217 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:20:09,531 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:20:10,903 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 17:20:12,181 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:20:12,182 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 17:20:12,185 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:12] "GET /options HTTP/1.1" 200 -
2025-05-04 17:20:12,203 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:20:12,272 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-04 17:20:12,672 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 17:20:12,679 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:12] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 17:20:25,710 - __main__ - INFO - Fetching expiry dates for symbol: RELIANCE, exchange: NSE
2025-05-04 17:20:25,711 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-04 17:20:25,711 - __main__ - INFO - Calling get_expiry_dates for RELIANCE on NSE
2025-05-04 17:20:25,712 - options_module - INFO - Getting expiry dates for RELIANCE on NSE
2025-05-04 17:20:25,712 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-04 17:20:26,055 - options_module - INFO - Found 3 expiry dates for RELIANCE
2025-05-04 17:20:26,056 - __main__ - INFO - Retrieved 3 expiry dates for RELIANCE
2025-05-04 17:20:26,060 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:26] "GET /api/get-expiry-dates?symbol=RELIANCE HTTP/1.1" 200 -
2025-05-04 17:20:26,085 - __main__ - INFO - Fetching option chain for symbol: RELIANCE, expiry: 29MAY2025, exchange: NSE
2025-05-04 17:20:26,086 - __main__ - INFO - Using client V410166 for option chain API
2025-05-04 17:20:26,087 - __main__ - INFO - Getting underlying price for RELIANCE
2025-05-04 17:20:26,088 - options_module - INFO - Getting price for RELIANCE on NSE
2025-05-04 17:20:27,731 - options_module - INFO - Got price for stock RELIANCE: 1422.4
2025-05-04 17:20:27,731 - __main__ - INFO - Fetching options for RELIANCE with expiry 29MAY2025
2025-05-04 17:20:27,732 - options_module - INFO - Fetching options for RELIANCE with expiry 29MAY2025
2025-05-04 17:20:27,732 - options_module - INFO - Cleaned 27 expired entries from price cache
2025-05-04 17:20:27,834 - options_module - INFO - Found 109 calls and 60 puts in DataFrame
2025-05-04 17:20:27,835 - options_module - INFO - Dynamically determined step size: 10.0 from strike price data
2025-05-04 17:20:27,844 - options_module - INFO - Filtered to 26 calls and 13 puts around ATM strike 1420.0
2025-05-04 17:20:40,177 - options_module - INFO - Prepared 26 calls and 13 puts for RELIANCE/29MAY2025
2025-05-04 17:20:40,178 - __main__ - INFO - Retrieved option chain with 26 calls and 13 puts
2025-05-04 17:20:40,179 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:20:40] "GET /api/get-option-chain?symbol=RELIANCE&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-04 17:21:54,167 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-04 17:21:54,167 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-04 17:21:54,168 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-04 17:21:54,168 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-04 17:21:54,170 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-04 17:21:54,170 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-04 17:21:54,282 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-04 17:21:54,283 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-04 17:21:54,283 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:21:54] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-04 17:21:54,296 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 08MAY2025, exchange: NSE
2025-05-04 17:21:54,297 - __main__ - INFO - Using client V410166 for option chain API
2025-05-04 17:21:54,299 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-04 17:21:54,300 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-04 17:21:54,300 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-04 17:21:55,620 - options_module - INFO - Got price for index NIFTY: 24346.7
2025-05-04 17:21:55,621 - __main__ - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-04 17:21:55,621 - options_module - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-04 17:21:55,706 - options_module - INFO - Found 115 calls and 115 puts in DataFrame
2025-05-04 17:21:55,708 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-04 17:21:55,722 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24350.0
2025-05-04 17:22:05,194 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/08MAY2025
2025-05-04 17:22:05,230 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-04 17:22:05,237 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:22:05] "GET /api/get-option-chain?symbol=NIFTY&expiry=08MAY2025 HTTP/1.1" 200 -
2025-05-04 17:22:17,518 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-04 17:22:17,519 - __main__ - INFO - Using client V410166 for option chain API
2025-05-04 17:22:17,519 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-04 17:22:17,520 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-04 17:22:17,520 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-04 17:22:19,003 - options_module - INFO - Got price for index NIFTY: 24346.7
2025-05-04 17:22:19,005 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-04 17:22:19,005 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-04 17:22:19,163 - options_module - INFO - Found 110 calls and 110 puts in DataFrame
2025-05-04 17:22:19,164 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-04 17:22:19,171 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24350.0
2025-05-04 17:22:29,595 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-04 17:22:29,596 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-04 17:22:29,597 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:22:29] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-04 17:23:56,067 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:23:56] "GET /positions HTTP/1.1" 200 -
2025-05-04 17:23:56,097 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:23:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:23:56,172 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:23:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:24:16,172 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:24:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:24:36,174 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:24:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:24:56,189 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:24:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:25:16,190 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:25:21,299 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:21] "GET /orders HTTP/1.1" 200 -
2025-05-04 17:25:21,315 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:25:25,046 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:25] "GET /orders HTTP/1.1" 200 -
2025-05-04 17:25:25,086 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:25] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:25:37,339 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:37] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:25:37,370 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:25:39,651 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:25:39,652 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:25:42,113 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:25:42,113 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:25:43,368 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:43] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 17:25:43,386 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:25:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:26:53,672 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:26:54,913 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 17:26:56,075 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:26:56,076 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 17:26:56,079 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:26:56] "GET /options HTTP/1.1" 200 -
2025-05-04 17:26:56,096 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:26:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:26:56,168 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-04 17:26:56,286 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 17:26:56,343 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:26:56] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 17:27:15,434 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:27:15,434 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:27:18,042 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:27:18,043 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:27:19,184 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:27:19] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 17:27:19,201 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:27:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:28:49,549 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:28:50,865 - options_module - INFO - Got price for index BANKNIFTY: 55115.35
2025-05-04 17:28:52,031 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-04 17:28:52,032 - options_module - INFO - Using cached price for BANKNIFTY: 55115.35
2025-05-04 17:28:52,034 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:28:52] "GET /options HTTP/1.1" 200 -
2025-05-04 17:28:52,050 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:28:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:28:52,116 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-04 17:28:52,233 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-04 17:28:52,245 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:28:52] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-04 17:28:55,215 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-04 17:28:55,217 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-04 17:28:55,217 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-04 17:28:55,218 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-04 17:28:55,218 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-04 17:28:55,218 - options_module - INFO - Generated fallback expiry dates: ['08MAY2025', '15MAY2025', '22MAY2025', '29MAY2025']
2025-05-04 17:28:55,322 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-04 17:28:55,323 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-04 17:28:55,324 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:28:55] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-04 17:28:55,339 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 08MAY2025, exchange: NSE
2025-05-04 17:28:55,339 - __main__ - INFO - Using client V410166 for option chain API
2025-05-04 17:28:55,340 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-04 17:28:55,340 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-04 17:28:55,341 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-04 17:28:56,730 - options_module - INFO - Got price for index NIFTY: 24346.7
2025-05-04 17:28:56,731 - __main__ - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-04 17:28:56,731 - options_module - INFO - Fetching options for NIFTY with expiry 08MAY2025
2025-05-04 17:28:56,732 - options_module - INFO - Cleaned 80 expired entries from price cache
2025-05-04 17:28:56,825 - options_module - INFO - Found 115 calls and 115 puts in DataFrame
2025-05-04 17:28:56,826 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-04 17:28:56,837 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24350.0
2025-05-04 17:29:01,592 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 17:29:01,596 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 17:29:01,597 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 17:29:04,698 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 17:29:06,402 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-04 17:29:06,483 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/08MAY2025
2025-05-04 17:29:06,484 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-04 17:29:06,485 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:29:06] "GET /api/get-option-chain?symbol=NIFTY&expiry=08MAY2025 HTTP/1.1" 200 -
2025-05-04 17:35:30,377 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:30] "GET /positions HTTP/1.1" 200 -
2025-05-04 17:35:30,406 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:35:30,504 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:30] "GET /api/positions HTTP/1.1" 200 -
2025-05-04 17:35:32,799 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:32] "GET /accounts HTTP/1.1" 200 -
2025-05-04 17:35:32,825 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:35:35,886 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:35:35,886 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:35:38,520 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:35:38,522 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-04 17:35:39,676 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:39] "GET /dashboard HTTP/1.1" 200 -
2025-05-04 17:35:39,694 - werkzeug - INFO - 127.0.0.1 - - [04/May/2025 17:35:39] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-04 17:45:37,582 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-04 17:45:37,582 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-04 17:45:37,583 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-04 17:45:37,583 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:45:37,584 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-04 17:45:37,584 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-04 17:45:37,584 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-06 09:19:03,137 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-06 09:19:03,148 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-06 09:19:03,159 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-06 09:19:03,159 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-06 09:19:03,195 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-06 09:19:03,195 - TradeMonitorService - INFO - TradeMonitorService initialized with 2 active trades
2025-05-06 09:19:03,197 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-06 09:19:03,197 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-06 09:19:03,198 - __main__ - INFO - Initializing 2 client connections
2025-05-06 09:19:03,248 - __main__ - INFO - Attempting login for client: V410166
2025-05-06 09:19:05,973 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-06 09:19:05,973 - __main__ - INFO - Login successful for client: V410166
2025-05-06 09:19:05,973 - __main__ - INFO - Client V410166 initialized successfully
2025-05-06 09:19:06,023 - __main__ - INFO - Attempting login for client: M543167
2025-05-06 09:19:08,246 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-06 09:19:08,246 - __main__ - INFO - Login successful for client: M543167
2025-05-06 09:19:08,247 - __main__ - INFO - Client M543167 initialized successfully
2025-05-06 09:19:08,247 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-06 09:19:08,247 - options_module - INFO - Verifying client connection
2025-05-06 09:19:08,248 - options_module - INFO - Client connection verified with smart_api structure
2025-05-06 09:19:08,248 - options_module - INFO - Verifying client connection
2025-05-06 09:19:08,248 - options_module - INFO - Client connection verified with smart_api structure
2025-05-06 09:19:08,249 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-06 09:19:08,249 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-06 09:19:13,199 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-06 09:19:14,379 - options_module - INFO - Successfully loaded 126117 symbols from OpenAPI
2025-05-06 09:19:14,385 - options_trade_manager - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-06 09:19:14,385 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-06 09:19:14,386 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-06 09:19:14,387 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-06 09:19:14,387 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-06 09:19:14,388 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:19:14,388 - TradeMonitorService - ERROR - Error getting positions for client V410166: 'NoneType' object is not iterable
2025-05-06 09:19:14,389 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:19:14,389 - TradeMonitorService - ERROR - Error getting positions for client M543167: 'NoneType' object is not iterable
2025-05-06 09:19:14,428 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-06 09:19:14,429 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-06 09:19:14,435 - werkzeug - INFO -  * Restarting with stat
2025-05-06 09:19:15,166 - options_module - INFO - Got price for index BANKNIFTY: 54882.0
2025-05-06 09:19:15,166 - TradeMonitorService - INFO - Stop loss hit for BANKNIFTY at 54882.0, exiting BANKNIFTY29MAY2555100CE
2025-05-06 09:19:15,167 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-06 09:19:16,033 - __main__ - INFO - Raw API response: 250506000044879
2025-05-06 09:19:16,033 - __main__ - INFO - Received order ID as direct string response: 250506000044879
2025-05-06 09:19:16,034 - TradeMonitorService - INFO - Successfully exited option position BANKNIFTY29MAY2555100CE (STOP_LOSS_HIT): 250506000044879
2025-05-06 09:19:16,776 - TradeMonitorService - INFO - P&L for BANKNIFTY29MAY2555100CE: Rs.-5710.50 (-16.72%)
2025-05-06 09:19:16,841 - TradeMonitorService - INFO - Recorded completed trade for BANKNIFTY29MAY2555100CE in completed_option_trades.json
2025-05-06 09:19:16,843 - TradeMonitorService - INFO - Stop loss hit for BANKNIFTY at 54882.0, exiting BANKNIFTY29MAY2555100CE
2025-05-06 09:19:16,843 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555100CE', 'symboltoken': '58561', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-06 09:19:16,956 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-06 09:19:16,956 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-06 09:19:16,957 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-06 09:19:16,957 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-06 09:19:16,990 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-06 09:19:16,991 - TradeMonitorService - INFO - TradeMonitorService initialized with 1 active trades
2025-05-06 09:19:16,992 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-06 09:19:16,992 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-06 09:19:16,993 - __main__ - INFO - Initializing 2 client connections
2025-05-06 09:19:17,038 - __main__ - INFO - Attempting login for client: V410166
2025-05-06 09:19:17,653 - __main__ - INFO - Raw API response: 250506000044045
2025-05-06 09:19:17,653 - __main__ - INFO - Received order ID as direct string response: 250506000044045
2025-05-06 09:19:17,654 - TradeMonitorService - INFO - Successfully exited option position BANKNIFTY29MAY2555100CE (STOP_LOSS_HIT): 250506000044045
2025-05-06 09:19:18,560 - TradeMonitorService - INFO - P&L for BANKNIFTY29MAY2555100CE: Rs.-5662.50 (-16.58%)
2025-05-06 09:19:18,573 - TradeMonitorService - INFO - Recorded completed trade for BANKNIFTY29MAY2555100CE in completed_option_trades.json
2025-05-06 09:19:19,674 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-06 09:19:19,674 - __main__ - INFO - Login successful for client: V410166
2025-05-06 09:19:19,675 - __main__ - INFO - Client V410166 initialized successfully
2025-05-06 09:19:19,720 - __main__ - INFO - Attempting login for client: M543167
2025-05-06 09:19:22,337 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-06 09:19:22,338 - __main__ - INFO - Login successful for client: M543167
2025-05-06 09:19:22,339 - __main__ - INFO - Client M543167 initialized successfully
2025-05-06 09:19:22,340 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-06 09:19:22,340 - options_module - INFO - Verifying client connection
2025-05-06 09:19:22,341 - options_module - INFO - Client connection verified with smart_api structure
2025-05-06 09:19:22,341 - options_module - INFO - Verifying client connection
2025-05-06 09:19:22,342 - options_module - INFO - Client connection verified with smart_api structure
2025-05-06 09:19:22,342 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-06 09:19:22,343 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-06 09:19:26,994 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-06 09:19:28,730 - options_module - INFO - Successfully loaded 126117 symbols from OpenAPI
2025-05-06 09:19:28,736 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-06 09:19:28,736 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-06 09:19:28,737 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-06 09:19:28,738 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-06 09:19:28,738 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-06 09:19:28,757 - werkzeug - WARNING -  * Debugger is active!
2025-05-06 09:19:28,798 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-06 09:20:48,239 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:48] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-06 09:20:48,673 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:48] "GET /login HTTP/1.1" 200 -
2025-05-06 09:20:48,855 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:20:49,160 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-06 09:20:50,994 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:50] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-06 09:20:51,052 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:51] "GET / HTTP/1.1" 200 -
2025-05-06 09:20:54,223 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:54] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:20:54,237 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:20:56,324 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:56] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:20:56,339 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:20:56,390 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:20:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:21:12,296 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:12] "GET /options HTTP/1.1" 200 -
2025-05-06 09:21:12,309 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:21:12,361 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-06 09:21:12,445 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-06 09:21:12,452 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:12] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-06 09:21:15,848 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:15] "GET /orders HTTP/1.1" 200 -
2025-05-06 09:21:15,861 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:21:18,453 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:18] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:21:18,467 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:21:50,527 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:50] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:21:50,551 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:21:50,594 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:50] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:21:55,447 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:55] "GET /options HTTP/1.1" 200 -
2025-05-06 09:21:55,462 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:21:55,504 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-06 09:21:55,578 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-06 09:21:55,585 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:55] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-06 09:21:58,626 - __main__ - ERROR - Exception getting order book for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-06 09:21:59,406 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:59] "GET /orders HTTP/1.1" 200 -
2025-05-06 09:21:59,509 - __main__ - ERROR - Exception getting order book for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-06 09:21:59,511 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:59] "GET /orders HTTP/1.1" 200 -
2025-05-06 09:21:59,523 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:21:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:00,294 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:00] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:22:00,309 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:00,344 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:22:00,883 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:00] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:00,901 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:02,356 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:02] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:02,369 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:02,530 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:02,530 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:04,347 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:04,347 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:04,371 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:04,372 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:05,302 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:05] "GET /dashboard HTTP/1.1" 200 -
2025-05-06 09:22:06,275 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:06,276 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:07,135 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:07] "GET /dashboard HTTP/1.1" 200 -
2025-05-06 09:22:07,147 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:07,501 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:07] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:07,515 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:08,387 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:08] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:22:08,401 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:08,438 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:08] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:22:09,199 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:09] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:09,213 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:10,918 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:10,919 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:12,546 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:12,547 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:13,399 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:13] "GET /dashboard HTTP/1.1" 200 -
2025-05-06 09:22:13,412 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:51,057 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:51] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:51,079 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:53,242 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:53] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:22:53,256 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:53,295 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:22:54,033 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:54] "GET /options HTTP/1.1" 200 -
2025-05-06 09:22:54,049 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:54,091 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-06 09:22:54,164 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-06 09:22:54,173 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:54] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-06 09:22:55,829 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:55] "GET /positions HTTP/1.1" 200 -
2025-05-06 09:22:55,843 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:55,882 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-06 09:22:56,408 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:56] "GET /accounts HTTP/1.1" 200 -
2025-05-06 09:22:56,419 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:56] "GET /orders HTTP/1.1" 200 -
2025-05-06 09:22:56,425 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:22:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:22:57,825 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:57,825 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:22:59,323 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-06 09:22:59,324 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-06 09:23:00,051 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:23:00] "GET /dashboard HTTP/1.1" 200 -
2025-05-06 09:23:00,063 - werkzeug - INFO - 127.0.0.1 - - [06/May/2025 09:23:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-06 09:35:44,938 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-06 09:35:47,431 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-06 09:35:48,702 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-06 09:35:48,706 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 09:27:14,087 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 09:27:14,097 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 09:27:14,109 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 09:27:14,110 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 09:27:14,135 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 09:27:14,136 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 09:27:14,137 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 09:27:14,137 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 09:27:14,138 - __main__ - INFO - Initializing 2 client connections
2025-05-09 09:27:14,188 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 09:27:16,617 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 09:27:16,617 - __main__ - INFO - Login successful for client: V410166
2025-05-09 09:27:16,617 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 09:27:16,661 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 09:27:19,247 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 09:27:19,247 - __main__ - INFO - Login successful for client: M543167
2025-05-09 09:27:19,248 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 09:27:19,248 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 09:27:19,248 - options_module - INFO - Verifying client connection
2025-05-09 09:27:19,249 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 09:27:19,249 - options_module - INFO - Verifying client connection
2025-05-09 09:27:19,249 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 09:27:19,249 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 09:27:19,250 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 09:27:26,246 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 09:27:26,252 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 09:27:26,252 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-09 09:27:26,253 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 09:27:26,253 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 09:27:26,254 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 09:27:26,295 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 09:27:26,296 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 09:27:26,301 - werkzeug - INFO -  * Restarting with stat
2025-05-09 09:27:28,657 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 09:27:28,658 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 09:27:28,659 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 09:27:28,659 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 09:27:28,682 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 09:27:28,682 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 09:27:28,684 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 09:27:28,684 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 09:27:28,685 - __main__ - INFO - Initializing 2 client connections
2025-05-09 09:27:28,731 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 09:27:31,876 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 09:27:31,877 - __main__ - INFO - Login successful for client: V410166
2025-05-09 09:27:31,877 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 09:27:31,921 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 09:27:34,852 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 09:27:34,852 - __main__ - INFO - Login successful for client: M543167
2025-05-09 09:27:34,853 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 09:27:34,853 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 09:27:34,853 - options_module - INFO - Verifying client connection
2025-05-09 09:27:34,853 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 09:27:34,854 - options_module - INFO - Verifying client connection
2025-05-09 09:27:34,854 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 09:27:34,854 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 09:27:34,855 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 09:27:41,156 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 09:27:41,162 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 09:27:41,162 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-09 09:27:41,163 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 09:27:41,163 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 09:27:41,164 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 09:27:41,185 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 09:27:41,226 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 09:27:41,250 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:27:41] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-09 09:27:41,349 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:27:41] "GET /login HTTP/1.1" 200 -
2025-05-09 09:27:41,540 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:27:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:27:41,824 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:27:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-09 09:28:06,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:06] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 09:28:06,383 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:06] "GET / HTTP/1.1" 200 -
2025-05-09 09:28:08,341 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:08] "GET /accounts HTTP/1.1" 200 -
2025-05-09 09:28:08,353 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:28:10,648 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:10] "GET /positions HTTP/1.1" 200 -
2025-05-09 09:28:10,662 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:28:10,713 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:28:13,129 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:13] "GET /options HTTP/1.1" 200 -
2025-05-09 09:28:13,143 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:28:13,245 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 09:28:13,325 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 09:28:13,331 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:13] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 09:28:16,043 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:16] "GET /orders HTTP/1.1" 200 -
2025-05-09 09:28:16,056 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:28:17,055 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:17] "GET /options HTTP/1.1" 200 -
2025-05-09 09:28:17,071 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:28:17,115 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 09:28:17,186 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 09:28:17,193 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:28:17] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 09:29:09,909 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-09 09:29:09,910 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 09:29:09,910 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-09 09:29:09,911 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-09 09:29:09,911 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-09 09:29:09,912 - options_module - INFO - Generated fallback expiry dates: ['15MAY2025', '22MAY2025', '29MAY2025', '05JUN2025']
2025-05-09 09:29:09,972 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-09 09:29:09,973 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-09 09:29:09,974 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:29:09] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-09 09:29:09,984 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-09 09:29:09,984 - __main__ - INFO - Using client V410166 for option chain API
2025-05-09 09:29:09,984 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 09:29:09,985 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-09 09:29:09,985 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:29:10,805 - options_module - INFO - Got price for index NIFTY: 24095.6
2025-05-09 09:29:10,806 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 09:29:10,806 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 09:29:10,858 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 09:29:10,861 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 09:29:10,866 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 09:29:17,552 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 09:29:17,553 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-09 09:29:17,553 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:29:17] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-09 09:33:05,235 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": 10, "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 09:33:05,235 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 09:33:05,237 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 09:33:05,237 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options
2025-05-09 09:33:05,238 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 09:33:05,238 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 09:33:05,238 - options_module - INFO - Cleaned 27 expired entries from price cache
2025-05-09 09:33:05,295 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 09:33:05,296 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 09:33:05,301 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 09:33:12,430 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 09:33:12,465 - options_trade_manager - INFO - Selected OTM Put option (depth 10): NIFTY15MAY2523800PE (Strike: 23800.0)
2025-05-09 09:33:13,249 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523800PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 09:33:13,253 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523800PE', 'symboltoken': '46231', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '191.9'}
2025-05-09 09:33:14,045 - __main__ - INFO - Raw API response: 250509000116100
2025-05-09 09:33:14,046 - __main__ - INFO - Received order ID as direct string response: 250509000116100
2025-05-09 09:33:14,046 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000116100
2025-05-09 09:33:14,889 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 09:33:14,889 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 09:33:14,931 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 09:33:14,932 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 09:33:14,941 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 09:33:18,789 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 09:33:18,790 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:20,768 - options_module - INFO - Got price for index NIFTY: 24054.15
2025-05-09 09:33:21,595 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 09:33:21,596 - options_trade_manager - INFO - Selected OTM Put option (depth 10): NIFTY15MAY2523800PE (Strike: 23800.0)
2025-05-09 09:33:22,687 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523800PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 09:33:22,687 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523800PE', 'symboltoken': '46231', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '195.59'}
2025-05-09 09:33:23,713 - __main__ - INFO - Raw API response: 250509000121144
2025-05-09 09:33:23,713 - __main__ - INFO - Received order ID as direct string response: 250509000121144
2025-05-09 09:33:23,714 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000121144
2025-05-09 09:33:24,298 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 09:33:24,306 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:24,731 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-09 09:33:24,731 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:33:24] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 09:33:25,617 - options_module - INFO - Got price for index NIFTY: 24048.9
2025-05-09 09:33:32,228 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 09:33:32,229 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:33,005 - options_module - INFO - Got price for index NIFTY: 24042.2
2025-05-09 09:33:36,655 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 09:33:36,656 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:37,531 - options_module - INFO - Got price for index NIFTY: 24040.75
2025-05-09 09:33:44,635 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:45,433 - options_module - INFO - Got price for index NIFTY: 24043.65
2025-05-09 09:33:49,171 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:50,071 - options_module - INFO - Got price for index NIFTY: 24044.15
2025-05-09 09:33:57,032 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:33:57,975 - options_module - INFO - Got price for index NIFTY: 24047.7
2025-05-09 09:34:01,746 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:02,660 - options_module - INFO - Got price for index NIFTY: 24049.85
2025-05-09 09:34:09,645 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:10,575 - options_module - INFO - Got price for index NIFTY: 24043.2
2025-05-09 09:34:14,159 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:14,952 - options_module - INFO - Got price for index NIFTY: 24042.05
2025-05-09 09:34:22,362 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:23,290 - options_module - INFO - Got price for index NIFTY: 24044.2
2025-05-09 09:34:26,524 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:27,281 - options_module - INFO - Got price for index NIFTY: 24043.0
2025-05-09 09:34:34,922 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:35,821 - options_module - INFO - Got price for index NIFTY: 24046.2
2025-05-09 09:34:38,769 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:39,663 - options_module - INFO - Got price for index NIFTY: 24046.85
2025-05-09 09:34:47,575 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:48,365 - options_module - INFO - Got price for index NIFTY: 24046.5
2025-05-09 09:34:51,329 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:34:52,243 - options_module - INFO - Got price for index NIFTY: 24044.85
2025-05-09 09:35:00,126 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:00,918 - options_module - INFO - Got price for index NIFTY: 24044.6
2025-05-09 09:35:04,107 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:05,013 - options_module - INFO - Got price for index NIFTY: 24045.0
2025-05-09 09:35:12,632 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:13,115 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:13] "GET /orders HTTP/1.1" 200 -
2025-05-09 09:35:13,137 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:35:13,677 - options_module - INFO - Got price for index NIFTY: 24041.65
2025-05-09 09:35:16,543 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:17,307 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:17] "GET /accounts HTTP/1.1" 200 -
2025-05-09 09:35:17,321 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:35:17,387 - options_module - INFO - Got price for index NIFTY: 24044.4
2025-05-09 09:35:18,456 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:18] "GET /positions HTTP/1.1" 200 -
2025-05-09 09:35:18,474 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:35:18,517 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:18] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:35:25,477 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:26,275 - options_module - INFO - Got price for index NIFTY: 24044.0
2025-05-09 09:35:29,062 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:29,914 - options_module - INFO - Got price for index NIFTY: 24043.75
2025-05-09 09:35:37,931 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:38,526 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:35:38] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:35:38,716 - options_module - INFO - Got price for index NIFTY: 24045.6
2025-05-09 09:35:41,900 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:42,685 - options_module - INFO - Got price for index NIFTY: 24050.1
2025-05-09 09:35:50,371 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:51,152 - options_module - INFO - Got price for index NIFTY: 24062.75
2025-05-09 09:35:54,516 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:35:55,338 - options_module - INFO - Got price for index NIFTY: 24059.3
2025-05-09 09:36:02,833 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:03,780 - options_module - INFO - Got price for index NIFTY: 24053.65
2025-05-09 09:36:06,902 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:07,814 - options_module - INFO - Got price for index NIFTY: 24054.3
2025-05-09 09:36:10,714 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:36:15,489 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:16,443 - options_module - INFO - Got price for index NIFTY: 24061.1
2025-05-09 09:36:18,540 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:18] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:36:19,446 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:20,224 - options_module - INFO - Got price for index NIFTY: 24060.2
2025-05-09 09:36:28,080 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:28,857 - options_module - INFO - Got price for index NIFTY: 24053.3
2025-05-09 09:36:31,839 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:31,926 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523800PE', 'symboltoken': '46231', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '193.69'}
2025-05-09 09:36:32,753 - options_module - INFO - Got price for index NIFTY: 24049.7
2025-05-09 09:36:32,991 - __main__ - INFO - Raw API response: 250509000130262
2025-05-09 09:36:32,991 - __main__ - INFO - Received order ID as direct string response: 250509000130262
2025-05-09 09:36:32,992 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2523800PE (MANUAL_EXIT): 250509000130262
2025-05-09 09:36:33,869 - TradeMonitorService - INFO - P&L for NIFTY15MAY2523800PE: Rs.116.25 (0.81%)
2025-05-09 09:36:33,923 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2523800PE in completed_option_trades.json
2025-05-09 09:36:33,925 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:33] "POST /api/positions/exit/6d81e1a1-cc34-4219-a4d0-78f1dda6eaba HTTP/1.1" 200 -
2025-05-09 09:36:33,938 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:36:38,551 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:38] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:36:40,559 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 09:36:41,503 - options_module - INFO - Got price for index NIFTY: 24054.85
2025-05-09 09:36:42,152 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523800PE', 'symboltoken': '46231', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '190.03'}
2025-05-09 09:36:43,069 - __main__ - INFO - Raw API response: 250509000135815
2025-05-09 09:36:43,070 - __main__ - INFO - Received order ID as direct string response: 250509000135815
2025-05-09 09:36:43,070 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2523800PE (MANUAL_EXIT): 250509000135815
2025-05-09 09:36:43,963 - TradeMonitorService - INFO - P&L for NIFTY15MAY2523800PE: Rs.-150.00 (-1.04%)
2025-05-09 09:36:43,978 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2523800PE in completed_option_trades.json
2025-05-09 09:36:43,980 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:43] "POST /api/positions/exit/d41ef881-052f-408f-a8fc-38224bed88c5 HTTP/1.1" 200 -
2025-05-09 09:36:43,990 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:43] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 09:36:44,446 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 09:36:46,570 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:46] "GET /accounts HTTP/1.1" 200 -
2025-05-09 09:36:46,595 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:36:48,865 - __main__ - ERROR - Exception getting positions for V410166: 'SmartConnect' object has no attribute 'getPosition'
2025-05-09 09:36:48,865 - __main__ - ERROR - Exception getting holdings for V410166: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-09 09:36:50,664 - __main__ - ERROR - Exception getting positions for M543167: 'SmartConnect' object has no attribute 'getPosition'
2025-05-09 09:36:50,665 - __main__ - ERROR - Exception getting holdings for M543167: 'SmartConnect' object has no attribute 'getAllHolding'
2025-05-09 09:36:51,532 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:51] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 09:36:51,544 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 09:36:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 09:37:44,203 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 09:37:52,825 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 09:37:54,470 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 09:37:54,477 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 10:11:11,585 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 10:11:11,585 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 10:11:11,586 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 10:11:11,586 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 10:11:11,607 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:11:11,608 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 10:11:11,609 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 10:11:11,609 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 10:11:11,610 - __main__ - INFO - Initializing 2 client connections
2025-05-09 10:11:11,657 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 10:11:14,304 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:11:14,304 - __main__ - INFO - Login successful for client: V410166
2025-05-09 10:11:14,305 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 10:11:14,346 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 10:11:16,853 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:11:16,854 - __main__ - INFO - Login successful for client: M543167
2025-05-09 10:11:16,854 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 10:11:16,854 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 10:11:16,855 - options_module - INFO - Verifying client connection
2025-05-09 10:11:16,855 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:11:16,855 - options_module - INFO - Verifying client connection
2025-05-09 10:11:16,855 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:11:16,856 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 10:11:16,856 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 10:11:23,002 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 10:11:23,007 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:11:23,008 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-09 10:11:23,009 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 10:11:23,009 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 10:11:23,009 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 10:11:23,048 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 10:11:23,048 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 10:11:23,053 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:11:26,286 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 10:11:26,287 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 10:11:26,288 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 10:11:26,289 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 10:11:26,309 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:11:26,310 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 10:11:26,311 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 10:11:26,311 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 10:11:26,312 - __main__ - INFO - Initializing 2 client connections
2025-05-09 10:11:26,357 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 10:11:28,788 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:11:28,789 - __main__ - INFO - Login successful for client: V410166
2025-05-09 10:11:28,790 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 10:11:28,849 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 10:11:31,401 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:11:31,401 - __main__ - INFO - Login successful for client: M543167
2025-05-09 10:11:31,402 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 10:11:31,402 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 10:11:31,402 - options_module - INFO - Verifying client connection
2025-05-09 10:11:31,403 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:11:31,403 - options_module - INFO - Verifying client connection
2025-05-09 10:11:31,403 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:11:31,404 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 10:11:31,404 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 10:11:37,522 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 10:11:37,527 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:11:37,527 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-09 10:11:37,528 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 10:11:37,528 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 10:11:37,529 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 10:11:37,547 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:11:37,552 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 10:12:15,431 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:15] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-09 10:12:16,083 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:16] "GET /login HTTP/1.1" 200 -
2025-05-09 10:12:16,383 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:12:19,771 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:19] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:12:19,789 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:19] "GET / HTTP/1.1" 200 -
2025-05-09 10:12:24,076 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:24] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:12:24,090 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:12:36,284 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:12:41,599 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:12:42,388 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:42] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:12:42,405 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:12:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:20,045 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:20] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:15:20,068 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:20] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:20,124 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:20] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:15:22,575 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:22] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:15:22,595 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:22,638 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:15:42,651 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:15:44,279 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:44] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:15:44,301 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:15:49,701 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:15:54,779 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:15:55,690 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:55] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:15:55,705 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:15:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:16:31,396 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:16:36,434 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:16:37,315 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:37] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:16:37,333 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:16:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:20:43,525 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\angle-one-trading-ui.py', reloading
2025-05-09 10:20:43,525 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 10:20:46,385 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 10:20:46,389 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 10:20:46,698 - werkzeug - INFO -  * Restarting with stat
2025-05-09 10:20:49,949 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 10:20:49,950 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 10:20:49,951 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 10:20:49,951 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 10:20:49,971 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:20:49,971 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 10:20:49,973 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 10:20:49,973 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 10:20:49,974 - __main__ - INFO - Initializing 2 client connections
2025-05-09 10:20:50,020 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 10:20:51,688 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:20:53,616 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:20:53,617 - __main__ - INFO - Login successful for client: V410166
2025-05-09 10:20:53,617 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 10:20:53,664 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 10:20:56,201 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 10:20:56,201 - __main__ - INFO - Login successful for client: M543167
2025-05-09 10:20:56,202 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 10:20:56,202 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 10:20:56,203 - options_module - INFO - Verifying client connection
2025-05-09 10:20:56,203 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:20:56,204 - options_module - INFO - Verifying client connection
2025-05-09 10:20:56,204 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 10:20:56,205 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 10:20:56,205 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 10:21:05,159 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 10:21:05,164 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:21:05,164 - options_trade_manager - INFO - OptionsTradeManager initialized (monitoring disabled)
2025-05-09 10:21:05,165 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 10:21:05,165 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 10:21:05,165 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 10:21:05,184 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 10:21:05,188 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 10:21:05,205 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:05] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-09 10:21:05,232 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:05] "GET /login HTTP/1.1" 200 -
2025-05-09 10:21:05,326 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:21:06,973 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:06] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 10:21:06,988 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:06] "GET / HTTP/1.1" 200 -
2025-05-09 10:21:11,453 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:21:12,232 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:21:14,873 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:21:15,767 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:21:16,645 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:16] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:21:16,658 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:21:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:13,028 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:13] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:23:13,051 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:14,254 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:14] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:23:14,269 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:14,313 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:23:15,994 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:15] "GET /options HTTP/1.1" 200 -
2025-05-09 10:23:16,010 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:16,066 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 10:23:16,153 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 10:23:16,162 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:16] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 10:23:18,913 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:18] "GET /orders HTTP/1.1" 200 -
2025-05-09 10:23:18,928 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:30,570 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 10:23:30,571 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 10:23:30,572 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 10:23:30,572 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options
2025-05-09 10:23:30,572 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 10:23:30,573 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 10:23:30,638 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 10:23:30,642 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 10:23:30,649 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 10:23:37,731 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 10:23:37,732 - options_trade_manager - INFO - Selected ATM option: NIFTY15MAY2524100PE (Strike: 24100.0)
2025-05-09 10:23:38,793 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524100PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 10:23:38,793 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '268.31'}
2025-05-09 10:23:39,920 - __main__ - INFO - Raw API response: 250509000281591
2025-05-09 10:23:39,920 - __main__ - INFO - Received order ID as direct string response: 250509000281591
2025-05-09 10:23:39,920 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000281591
2025-05-09 10:23:40,759 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 10:23:40,760 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 10:23:40,797 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 10:23:40,798 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 10:23:40,802 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 10:23:41,160 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:23:41,846 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 10:23:41,887 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:23:43,823 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:23:44,237 - options_module - INFO - Got price for index NIFTY: 24066.2
2025-05-09 10:23:47,997 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 10:23:47,997 - options_trade_manager - INFO - Selected ATM option: NIFTY15MAY2524100PE (Strike: 24100.0)
2025-05-09 10:23:49,120 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524100PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 10:23:49,120 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '270.53'}
2025-05-09 10:23:49,179 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:23:49,997 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 10:23:49,998 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:23:50,187 - __main__ - INFO - Raw API response: 250509000293502
2025-05-09 10:23:50,187 - __main__ - INFO - Received order ID as direct string response: 250509000293502
2025-05-09 10:23:50,187 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000293502
2025-05-09 10:23:50,253 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:23:51,063 - options_module - INFO - Got price for index NIFTY: 24065.85
2025-05-09 10:23:51,280 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:51] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:23:51,302 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:23:51,375 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-09 10:23:51,376 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:23:51] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 10:23:57,100 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:23:57,100 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:23:58,063 - options_module - INFO - Got price for index NIFTY: 24064.3
2025-05-09 10:24:01,889 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:01] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:24:01,904 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:02,081 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:24:02,081 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:02,890 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:02] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:02,907 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:02,957 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:03,020 - options_module - INFO - Got price for index NIFTY: 24071.65
2025-05-09 10:24:09,870 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:11,821 - options_module - INFO - Got price for index NIFTY: 24069.2
2025-05-09 10:24:14,835 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:14] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:14,854 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:14,899 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:14,929 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:15,889 - options_module - INFO - Got price for index NIFTY: 24067.0
2025-05-09 10:24:23,644 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:24,564 - options_module - INFO - Got price for index NIFTY: 24062.35
2025-05-09 10:24:25,792 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:25] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:25,814 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:25] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:25,872 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:25] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:27,525 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:27,732 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:27] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:27,753 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:27] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:27,804 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:27] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:28,321 - options_module - INFO - Got price for index NIFTY: 24061.35
2025-05-09 10:24:28,420 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:28] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:28,436 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:28,474 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:31,612 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:31] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:31,628 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:31] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:31,680 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:32,799 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:32] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:32,815 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:32,857 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:32] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:36,522 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:37,404 - options_module - INFO - Got price for index NIFTY: 24059.35
2025-05-09 10:24:39,863 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:40,628 - options_module - INFO - Got price for index NIFTY: 24056.25
2025-05-09 10:24:49,115 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:50,048 - options_module - INFO - Got price for index NIFTY: 24052.7
2025-05-09 10:24:52,277 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:24:52,871 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:52] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:52,924 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:52] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:24:52,941 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:24:52,995 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:24:52] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:24:53,215 - options_module - INFO - Got price for index NIFTY: 24060.0
2025-05-09 10:25:01,711 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:03,869 - options_module - INFO - Got price for index NIFTY: 24061.65
2025-05-09 10:25:05,028 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:06,046 - options_module - INFO - Got price for index NIFTY: 24061.6
2025-05-09 10:25:13,015 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:25:15,936 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:16,748 - options_module - INFO - Got price for index NIFTY: 24054.4
2025-05-09 10:25:17,952 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:18,352 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:18] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:25:18,384 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:25:18,465 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:18] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:25:19,153 - options_module - INFO - Got price for index NIFTY: 24055.7
2025-05-09 10:25:21,558 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:21] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:25:21,573 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:25:21,622 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:25:28,986 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:29,855 - options_module - INFO - Got price for index NIFTY: 24056.0
2025-05-09 10:25:31,008 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:31,990 - options_module - INFO - Got price for index NIFTY: 24056.5
2025-05-09 10:25:41,623 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:42,171 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:25:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:25:42,417 - options_module - INFO - Got price for index NIFTY: 24052.55
2025-05-09 10:25:43,508 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:44,494 - options_module - INFO - Got price for index NIFTY: 24053.35
2025-05-09 10:25:54,149 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:55,160 - options_module - INFO - Got price for index NIFTY: 24052.65
2025-05-09 10:25:55,993 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:25:57,111 - options_module - INFO - Got price for index NIFTY: 24050.75
2025-05-09 10:26:02,175 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:26:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:26:07,063 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:07,891 - options_module - INFO - Got price for index NIFTY: 24057.35
2025-05-09 10:26:08,990 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:10,032 - options_module - INFO - Got price for index NIFTY: 24058.65
2025-05-09 10:26:19,660 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:20,576 - options_module - INFO - Got price for index NIFTY: 24055.05
2025-05-09 10:26:21,718 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:22,175 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:26:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:26:22,706 - options_module - INFO - Got price for index NIFTY: 24053.6
2025-05-09 10:26:32,343 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:33,257 - options_module - INFO - Got price for index NIFTY: 24047.6
2025-05-09 10:26:34,297 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:35,145 - options_module - INFO - Got price for index NIFTY: 24048.2
2025-05-09 10:26:41,641 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:26:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:26:45,009 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:45,787 - options_module - INFO - Got price for index NIFTY: 24053.95
2025-05-09 10:26:46,675 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:47,887 - options_module - INFO - Got price for index NIFTY: 24053.85
2025-05-09 10:26:50,618 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '271.85'}
2025-05-09 10:26:51,420 - __main__ - INFO - Raw API response: 250509000287101
2025-05-09 10:26:51,420 - __main__ - INFO - Received order ID as direct string response: 250509000287101
2025-05-09 10:26:51,421 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2524100PE (MANUAL_EXIT): 250509000287101
2025-05-09 10:26:52,350 - TradeMonitorService - INFO - P&L for NIFTY15MAY2524100PE: Rs.558.75 (2.80%)
2025-05-09 10:26:52,353 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2524100PE in completed_option_trades.json
2025-05-09 10:26:52,355 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:26:52] "POST /api/positions/exit/da32db26-9953-49ee-a1b5-69a87bd28ac5 HTTP/1.1" 200 -
2025-05-09 10:26:52,369 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:26:52] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:26:57,746 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 10:26:57,747 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:26:58,696 - options_module - INFO - Got price for index NIFTY: 24053.2
2025-05-09 10:27:00,065 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:00,984 - options_module - INFO - Got price for index NIFTY: 24054.15
2025-05-09 10:27:02,182 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:27:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:27:09,461 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:10,451 - options_module - INFO - Got price for index NIFTY: 24058.6
2025-05-09 10:27:11,877 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:12,655 - options_module - INFO - Got price for index NIFTY: 24058.75
2025-05-09 10:27:21,287 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:21,641 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:27:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:27:22,203 - options_module - INFO - Got price for index NIFTY: 24056.55
2025-05-09 10:27:23,524 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:24,286 - options_module - INFO - Got price for index NIFTY: 24053.7
2025-05-09 10:27:32,976 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:33,758 - options_module - INFO - Got price for index NIFTY: 24050.75
2025-05-09 10:27:35,053 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:35,820 - options_module - INFO - Got price for index NIFTY: 24051.05
2025-05-09 10:27:41,628 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:27:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:27:44,653 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:45,496 - options_module - INFO - Got price for index NIFTY: 24047.3
2025-05-09 10:27:46,676 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:47,443 - options_module - INFO - Got price for index NIFTY: 24047.35
2025-05-09 10:27:56,232 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:57,149 - options_module - INFO - Got price for index NIFTY: 24045.45
2025-05-09 10:27:58,187 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:27:59,094 - options_module - INFO - Got price for index NIFTY: 24043.35
2025-05-09 10:28:01,635 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:28:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:28:07,895 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:08,681 - options_module - INFO - Got price for index NIFTY: 24039.6
2025-05-09 10:28:09,859 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:10,638 - options_module - INFO - Got price for index NIFTY: 24038.3
2025-05-09 10:28:19,420 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:20,290 - options_module - INFO - Got price for index NIFTY: 24038.3
2025-05-09 10:28:21,368 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:21,641 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:28:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:28:22,141 - options_module - INFO - Got price for index NIFTY: 24038.5
2025-05-09 10:28:31,196 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:33,038 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:33,084 - options_module - INFO - Got price for index NIFTY: 24035.15
2025-05-09 10:28:34,011 - options_module - INFO - Got price for index NIFTY: 24035.6
2025-05-09 10:28:41,642 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:28:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:28:44,024 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:44,878 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:44,938 - options_module - INFO - Got price for index NIFTY: 24031.95
2025-05-09 10:28:45,818 - options_module - INFO - Got price for index NIFTY: 24032.55
2025-05-09 10:28:55,977 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:56,581 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:28:56,791 - options_module - INFO - Got price for index NIFTY: 24035.0
2025-05-09 10:28:57,531 - options_module - INFO - Got price for index NIFTY: 24035.05
2025-05-09 10:29:01,638 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:29:07,734 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:08,314 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:08,661 - options_module - INFO - Got price for index NIFTY: 24038.7
2025-05-09 10:29:09,512 - options_module - INFO - Got price for index NIFTY: 24038.8
2025-05-09 10:29:12,014 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:12] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:29:12,042 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:29:12,107 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:12] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:29:19,598 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:20,453 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:20,550 - options_module - INFO - Got price for index NIFTY: 24043.1
2025-05-09 10:29:21,556 - options_module - INFO - Got price for index NIFTY: 24043.9
2025-05-09 10:29:31,614 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:32,117 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:32] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:29:32,318 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:32,561 - options_module - INFO - Got price for index NIFTY: 24047.1
2025-05-09 10:29:33,396 - options_module - INFO - Got price for index NIFTY: 24047.65
2025-05-09 10:29:43,453 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:44,132 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:44,240 - options_module - INFO - Got price for index NIFTY: 24048.2
2025-05-09 10:29:45,295 - options_module - INFO - Got price for index NIFTY: 24049.95
2025-05-09 10:29:49,674 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:49] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:29:49,695 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:29:49,761 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:29:49] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:29:55,339 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:56,193 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:29:56,243 - options_module - INFO - Got price for index NIFTY: 24047.6
2025-05-09 10:29:57,186 - options_module - INFO - Got price for index NIFTY: 24046.9
2025-05-09 10:29:59,910 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '274.53'}
2025-05-09 10:30:00,805 - __main__ - INFO - Raw API response: 250509000304414
2025-05-09 10:30:00,805 - __main__ - INFO - Received order ID as direct string response: 250509000304414
2025-05-09 10:30:00,805 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2524100PE (MANUAL_EXIT): 250509000304414
2025-05-09 10:30:01,810 - TradeMonitorService - INFO - P&L for NIFTY15MAY2524100PE: Rs.753.75 (3.74%)
2025-05-09 10:30:01,827 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2524100PE in completed_option_trades.json
2025-05-09 10:30:01,829 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:01] "POST /api/positions/exit/a1b7fdaf-c929-4478-8c15-856eac95af9d HTTP/1.1" 200 -
2025-05-09 10:30:01,843 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:30:07,385 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:30:09,772 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:30:23,642 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:30:24,573 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:30:27,325 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:30:29,184 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:30:29,761 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:29] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:30:30,013 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:30] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:30:30,035 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:30:53,887 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:53] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:30:53,910 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:30:53,954 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:30:55,887 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:55] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:30:55,905 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:30:57,150 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:57] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:30:57,168 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:30:57,210 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:30:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:30:58,649 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:30:59,626 - options_module - INFO - Got price for index NIFTY: 24050.85
2025-05-09 10:31:00,412 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:31:00,412 - options_module - INFO - Using cached price for NIFTY: 24050.85
2025-05-09 10:31:00,414 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:00] "GET /options HTTP/1.1" 200 -
2025-05-09 10:31:00,428 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:31:00,473 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 10:31:00,543 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 10:31:00,549 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:00] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 10:31:13,071 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 10:31:13,071 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 10:31:13,072 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 10:31:13,073 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options
2025-05-09 10:31:13,073 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 10:31:13,073 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 10:31:13,074 - options_module - INFO - Cleaned 27 expired entries from price cache
2025-05-09 10:31:13,194 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 10:31:13,194 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 10:31:13,198 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 10:31:20,683 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 10:31:20,686 - options_trade_manager - INFO - Selected ATM option: NIFTY15MAY2524100PE (Strike: 24100.0)
2025-05-09 10:31:21,498 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524100PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 10:31:21,498 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '283.66'}
2025-05-09 10:31:22,444 - __main__ - INFO - Raw API response: 250509000294319
2025-05-09 10:31:22,444 - __main__ - INFO - Received order ID as direct string response: 250509000294319
2025-05-09 10:31:22,445 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000294319
2025-05-09 10:31:23,393 - options_trade_manager - INFO - Fetching options for NIFTY expiry 15MAY2025
2025-05-09 10:31:23,394 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 10:31:23,439 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 10:31:23,440 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 10:31:23,443 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 10:31:26,441 - __main__ - INFO - Fetching expiry dates for symbol: BANKNIFTY, exchange: NSE
2025-05-09 10:31:26,441 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-09 10:31:26,442 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-09 10:31:26,443 - __main__ - INFO - Calling get_expiry_dates for BANKNIFTY on NFO
2025-05-09 10:31:26,444 - options_module - INFO - Getting expiry dates for BANKNIFTY on NFO
2025-05-09 10:31:26,445 - options_module - INFO - Generated fallback expiry dates: ['15MAY2025', '22MAY2025', '29MAY2025', '05JUN2025']
2025-05-09 10:31:26,519 - options_module - INFO - Found 6 expiry dates for BANKNIFTY
2025-05-09 10:31:26,520 - __main__ - INFO - Retrieved 6 expiry dates for BANKNIFTY
2025-05-09 10:31:26,521 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:26] "GET /api/get-expiry-dates?symbol=BANKNIFTY HTTP/1.1" 200 -
2025-05-09 10:31:26,530 - __main__ - INFO - Fetching option chain for symbol: BANKNIFTY, expiry: 29MAY2025, exchange: NSE
2025-05-09 10:31:26,530 - __main__ - INFO - Using client V410166 for option chain API
2025-05-09 10:31:26,530 - __main__ - INFO - Exchange adjusted to NFO for index: BANKNIFTY
2025-05-09 10:31:26,531 - __main__ - INFO - Getting underlying price for BANKNIFTY
2025-05-09 10:31:26,531 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:31:27,441 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:31:27,458 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:31:28,005 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:31:28,025 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:31:28,857 - options_module - INFO - Got price for index BANKNIFTY: 53777.75
2025-05-09 10:31:28,859 - __main__ - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 10:31:28,883 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 10:31:28,994 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 10:31:29,030 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 10:31:29,064 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 10:31:31,009 - options_module - INFO - Got price for index NIFTY: 24042.45
2025-05-09 10:31:32,162 - options_module - INFO - Got price for index NIFTY: 24043.4
2025-05-09 10:31:32,230 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 10:31:32,248 - options_trade_manager - INFO - Selected ATM option: NIFTY15MAY2524100PE (Strike: 24100.0)
2025-05-09 10:31:34,453 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524100PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 10:31:34,464 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '277.8'}
2025-05-09 10:31:37,204 - __main__ - INFO - Raw API response: 250509000306633
2025-05-09 10:31:37,204 - __main__ - INFO - Received order ID as direct string response: 250509000306633
2025-05-09 10:31:37,204 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000306633
2025-05-09 10:31:37,787 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 10:31:37,788 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-09 10:31:37,788 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:37] "GET /api/get-option-chain?symbol=BANKNIFTY&expiry=29MAY2025 HTTP/1.1" 200 -
2025-05-09 10:31:38,114 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-09 10:31:38,115 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:31:38] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 10:31:47,020 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:31:47,021 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:31:47,284 - TradeMonitorService - INFO - Successfully loaded 2 trades from option_trades.json
2025-05-09 10:31:47,285 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:31:47,984 - options_module - INFO - Got price for index NIFTY: 24047.45
2025-05-09 10:31:48,428 - options_module - INFO - Got price for index NIFTY: 24047.45
2025-05-09 10:32:00,045 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:00,465 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:01,123 - options_module - INFO - Got price for index NIFTY: 24049.85
2025-05-09 10:32:01,615 - options_module - INFO - Got price for index NIFTY: 24049.75
2025-05-09 10:32:13,256 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:13,792 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:14,297 - options_module - INFO - Got price for index NIFTY: 24053.4
2025-05-09 10:32:14,835 - options_module - INFO - Got price for index NIFTY: 24053.45
2025-05-09 10:32:26,526 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:26,774 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:27,467 - options_module - INFO - Got price for index NIFTY: 24049.4
2025-05-09 10:32:27,850 - options_module - INFO - Got price for index NIFTY: 24049.25
2025-05-09 10:32:39,559 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:39,923 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:40,422 - options_module - INFO - Got price for index NIFTY: 24050.35
2025-05-09 10:32:40,907 - options_module - INFO - Got price for index NIFTY: 24050.55
2025-05-09 10:32:45,536 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 10:32:45,537 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 10:32:45,538 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 10:32:45,538 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-09 10:32:45,538 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 10:32:45,539 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 10:32:45,596 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 10:32:45,598 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 10:32:45,602 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 10:32:48,462 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:32:48] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:32:48,488 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:32:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:32:52,526 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:53,012 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:32:53,303 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 10:32:53,303 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 10:32:53,304 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 10:32:53,305 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 10:32:53,356 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:32:54,057 - options_module - INFO - Got price for index NIFTY: 24054.75
2025-05-09 10:32:54,478 - options_module - INFO - Got price for index NIFTY: 24053.75
2025-05-09 10:32:54,704 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:32:54,736 - __main__ - INFO - Raw API response: 250509000296383
2025-05-09 10:32:54,737 - __main__ - INFO - Received order ID as direct string response: 250509000296383
2025-05-09 10:32:54,737 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000296383
2025-05-09 10:32:56,131 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 10:32:56,132 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 10:32:56,185 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 10:32:56,186 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 10:32:56,189 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 10:33:00,166 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:33:02,045 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:33:03,292 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:03] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:33:03,307 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:05,003 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 10:33:05,005 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 10:33:05,005 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 10:33:05,006 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 10:33:05,860 - __main__ - INFO - Raw API response: 250509000308669
2025-05-09 10:33:05,860 - __main__ - INFO - Received order ID as direct string response: 250509000308669
2025-05-09 10:33:05,861 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000308669
2025-05-09 10:33:06,043 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:06] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:06,061 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:06,108 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:06,970 - options_trade_manager - INFO - Option order placement complete: 2/2 successful
2025-05-09 10:33:06,972 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:06] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 10:33:07,340 - TradeMonitorService - INFO - Successfully loaded 4 trades from option_trades.json
2025-05-09 10:33:07,341 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:08,280 - options_module - INFO - Got price for index NIFTY: 24052.8
2025-05-09 10:33:08,655 - TradeMonitorService - INFO - Successfully loaded 4 trades from option_trades.json
2025-05-09 10:33:08,655 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:09,399 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:09] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:09,419 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:09,470 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:09,686 - options_module - INFO - Got price for index NIFTY: 24053.0
2025-05-09 10:33:10,424 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:11,402 - options_module - INFO - Got price for index BANKNIFTY: 53791.85
2025-05-09 10:33:11,560 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:12,658 - options_module - INFO - Got price for index BANKNIFTY: 53792.75
2025-05-09 10:33:17,341 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:17] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:17,359 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:17,418 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:17] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:23,470 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:24,492 - options_module - INFO - Got price for index NIFTY: 24050.5
2025-05-09 10:33:24,676 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:25,699 - options_module - INFO - Got price for index NIFTY: 24049.0
2025-05-09 10:33:26,314 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:27,252 - options_module - INFO - Got price for index BANKNIFTY: 53775.6
2025-05-09 10:33:27,573 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:28,559 - options_module - INFO - Got price for index BANKNIFTY: 53775.1
2025-05-09 10:33:32,229 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:32] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:32,254 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:32,325 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:32] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:39,082 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:39,911 - options_module - INFO - Got price for index NIFTY: 24043.15
2025-05-09 10:33:40,421 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:41,553 - options_module - INFO - Got price for index NIFTY: 24040.6
2025-05-09 10:33:41,781 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:42,263 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:42] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:42,279 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:42,344 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:42,780 - options_module - INFO - Got price for index BANKNIFTY: 53759.85
2025-05-09 10:33:43,134 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:43] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:43,154 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:43,211 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:43] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:43,499 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:44,427 - options_module - INFO - Got price for index BANKNIFTY: 53756.5
2025-05-09 10:33:44,502 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:44] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:44,519 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:44,562 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:44] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:45,273 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:45] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:33:45,290 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:33:45,344 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:33:45] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:33:54,989 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:55,904 - options_module - INFO - Got price for index NIFTY: 24039.6
2025-05-09 10:33:56,085 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:33:57,187 - options_module - INFO - Got price for index NIFTY: 24038.05
2025-05-09 10:33:57,749 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:33:58,762 - options_module - INFO - Got price for index BANKNIFTY: 53744.35
2025-05-09 10:33:59,288 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:00,222 - options_module - INFO - Got price for index BANKNIFTY: 53748.25
2025-05-09 10:34:05,351 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:34:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:34:10,861 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:11,697 - options_module - INFO - Got price for index NIFTY: 24038.55
2025-05-09 10:34:11,944 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:12,860 - options_module - INFO - Got price for index NIFTY: 24039.25
2025-05-09 10:34:13,505 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:14,542 - options_module - INFO - Got price for index BANKNIFTY: 53739.15
2025-05-09 10:34:15,049 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:16,174 - options_module - INFO - Got price for index BANKNIFTY: 53744.65
2025-05-09 10:34:25,356 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:34:25] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:34:26,513 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:27,328 - options_module - INFO - Got price for index NIFTY: 24037.4
2025-05-09 10:34:28,881 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:28,962 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:29,886 - options_module - INFO - Got price for index NIFTY: 24038.6
2025-05-09 10:34:30,086 - options_module - INFO - Got price for index BANKNIFTY: 53740.45
2025-05-09 10:34:32,033 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:32,814 - options_module - INFO - Got price for index BANKNIFTY: 53742.4
2025-05-09 10:34:40,936 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:34:40] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:34:40,962 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:34:40] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:34:41,020 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:34:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:34:42,129 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:42,899 - options_module - INFO - Got price for index NIFTY: 24039.45
2025-05-09 10:34:44,444 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:44,646 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:45,369 - options_module - INFO - Got price for index NIFTY: 24039.5
2025-05-09 10:34:45,756 - options_module - INFO - Got price for index BANKNIFTY: 53747.15
2025-05-09 10:34:47,259 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:34:48,817 - options_module - INFO - Got price for index BANKNIFTY: 53748.75
2025-05-09 10:34:58,795 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:34:59,766 - options_module - INFO - Got price for index NIFTY: 24030.5
2025-05-09 10:35:00,459 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:01,039 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:35:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:35:01,389 - options_module - INFO - Got price for index NIFTY: 24029.5
2025-05-09 10:35:01,795 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:02,688 - options_module - INFO - Got price for index BANKNIFTY: 53730.8
2025-05-09 10:35:03,510 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:04,425 - options_module - INFO - Got price for index BANKNIFTY: 53733.2
2025-05-09 10:35:14,754 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:15,705 - options_module - INFO - Got price for index NIFTY: 24034.8
2025-05-09 10:35:16,005 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:17,057 - options_module - INFO - Got price for index NIFTY: 24034.85
2025-05-09 10:35:17,772 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:18,806 - options_module - INFO - Got price for index BANKNIFTY: 53734.7
2025-05-09 10:35:19,087 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:20,103 - options_module - INFO - Got price for index BANKNIFTY: 53731.7
2025-05-09 10:35:21,030 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:35:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:35:30,887 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:31,802 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:31,807 - options_module - INFO - Got price for index NIFTY: 24032.2
2025-05-09 10:35:32,921 - options_module - INFO - Got price for index NIFTY: 24031.4
2025-05-09 10:35:34,032 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:34,926 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:35,164 - options_module - INFO - Got price for index BANKNIFTY: 53732.2
2025-05-09 10:35:35,809 - options_module - INFO - Got price for index BANKNIFTY: 53729.95
2025-05-09 10:35:41,034 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:35:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:35:47,129 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:47,664 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:35:48,004 - options_module - INFO - Got price for index NIFTY: 24032.4
2025-05-09 10:35:48,618 - options_module - INFO - Got price for index NIFTY: 24032.4
2025-05-09 10:35:50,037 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:50,585 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:35:50,944 - options_module - INFO - Got price for index BANKNIFTY: 53728.5
2025-05-09 10:35:51,636 - options_module - INFO - Got price for index BANKNIFTY: 53730.55
2025-05-09 10:36:01,042 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:36:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:36:02,776 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:03,442 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:03,584 - options_module - INFO - Got price for index NIFTY: 24040.6
2025-05-09 10:36:04,381 - options_module - INFO - Got price for index NIFTY: 24042.35
2025-05-09 10:36:05,600 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:06,448 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:06,515 - options_module - INFO - Got price for index BANKNIFTY: 53756.1
2025-05-09 10:36:07,401 - options_module - INFO - Got price for index BANKNIFTY: 53754.85
2025-05-09 10:36:18,436 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:19,218 - options_module - INFO - Got price for index NIFTY: 24038.95
2025-05-09 10:36:19,287 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:20,419 - options_module - INFO - Got price for index NIFTY: 24038.15
2025-05-09 10:36:21,040 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:36:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:36:21,180 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:22,107 - options_module - INFO - Got price for index BANKNIFTY: 53749.85
2025-05-09 10:36:22,225 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:23,162 - options_module - INFO - Got price for index BANKNIFTY: 53747.35
2025-05-09 10:36:35,244 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:36,018 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:36,031 - options_module - INFO - Got price for index NIFTY: 24036.5
2025-05-09 10:36:37,148 - options_module - INFO - Got price for index NIFTY: 24036.65
2025-05-09 10:36:38,040 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:38,990 - options_module - INFO - Got price for index BANKNIFTY: 53738.65
2025-05-09 10:36:39,171 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:40,096 - options_module - INFO - Got price for index BANKNIFTY: 53750.05
2025-05-09 10:36:41,030 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:36:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:36:50,996 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:51,923 - options_module - INFO - Got price for index NIFTY: 24049.2
2025-05-09 10:36:51,994 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:36:52,942 - options_module - INFO - Got price for index NIFTY: 24050.6
2025-05-09 10:36:54,106 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:54,781 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:36:55,233 - options_module - INFO - Got price for index BANKNIFTY: 53769.3
2025-05-09 10:36:55,707 - options_module - INFO - Got price for index BANKNIFTY: 53769.55
2025-05-09 10:37:01,039 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:37:07,056 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:07,599 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:07,897 - options_module - INFO - Got price for index NIFTY: 24053.8
2025-05-09 10:37:08,517 - options_module - INFO - Got price for index NIFTY: 24054.15
2025-05-09 10:37:09,724 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:10,588 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:10,830 - options_module - INFO - Got price for index BANKNIFTY: 53768.2
2025-05-09 10:37:11,553 - options_module - INFO - Got price for index BANKNIFTY: 53767.25
2025-05-09 10:37:21,032 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:37:22,897 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:23,535 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:23] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:37:23,562 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:37:23,595 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:23,626 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:23] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:37:23,767 - options_module - INFO - Got price for index NIFTY: 24054.7
2025-05-09 10:37:24,578 - options_module - INFO - Got price for index NIFTY: 24054.55
2025-05-09 10:37:25,867 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:26,788 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:26,813 - options_module - INFO - Got price for index BANKNIFTY: 53767.6
2025-05-09 10:37:27,822 - options_module - INFO - Got price for index BANKNIFTY: 53766.05
2025-05-09 10:37:39,005 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:39,785 - options_module - INFO - Got price for index NIFTY: 24063.25
2025-05-09 10:37:39,796 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:40,757 - options_module - INFO - Got price for index NIFTY: 24062.1
2025-05-09 10:37:41,809 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:42,829 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:42,910 - options_module - INFO - Got price for index BANKNIFTY: 53780.25
2025-05-09 10:37:43,639 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:37:43] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:37:43,795 - options_module - INFO - Got price for index BANKNIFTY: 53779.7
2025-05-09 10:37:54,964 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:55,481 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:37:55,757 - options_module - INFO - Got price for index NIFTY: 24055.25
2025-05-09 10:37:56,541 - options_module - INFO - Got price for index NIFTY: 24054.85
2025-05-09 10:37:57,673 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:58,599 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:37:58,677 - options_module - INFO - Got price for index BANKNIFTY: 53764.85
2025-05-09 10:37:59,680 - options_module - INFO - Got price for index BANKNIFTY: 53768.25
2025-05-09 10:38:03,633 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:03] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:38:10,903 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:10,965 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:10] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:38:10,988 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:38:11,051 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:38:11,725 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:11,974 - options_module - INFO - Got price for index NIFTY: 24051.55
2025-05-09 10:38:12,769 - options_module - INFO - Got price for index NIFTY: 24051.1
2025-05-09 10:38:14,081 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:14,756 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:15,165 - options_module - INFO - Got price for index BANKNIFTY: 53762.85
2025-05-09 10:38:15,857 - options_module - INFO - Got price for index BANKNIFTY: 53760.95
2025-05-09 10:38:27,051 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:27,595 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:29,082 - options_module - INFO - Got price for index NIFTY: 24041.25
2025-05-09 10:38:29,143 - options_module - INFO - Got price for index NIFTY: 24041.25
2025-05-09 10:38:31,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:38:31,081 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:31,310 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:32,171 - options_module - INFO - Got price for index BANKNIFTY: 53731.85
2025-05-09 10:38:32,243 - options_module - INFO - Got price for index BANKNIFTY: 53731.85
2025-05-09 10:38:44,359 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:44,439 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:38:45,482 - options_module - INFO - Got price for index NIFTY: 24039.8
2025-05-09 10:38:45,556 - options_module - INFO - Got price for index NIFTY: 24039.8
2025-05-09 10:38:47,438 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:47,553 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:38:48,593 - options_module - INFO - Got price for index BANKNIFTY: 53719.85
2025-05-09 10:38:48,695 - options_module - INFO - Got price for index BANKNIFTY: 53719.85
2025-05-09 10:38:51,066 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:38:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:39:00,595 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:00,697 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:01,656 - options_module - INFO - Got price for index NIFTY: 24036.95
2025-05-09 10:39:01,724 - options_module - INFO - Got price for index NIFTY: 24036.95
2025-05-09 10:39:03,799 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:03,858 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:04,949 - options_module - INFO - Got price for index BANKNIFTY: 53706.9
2025-05-09 10:39:05,028 - options_module - INFO - Got price for index BANKNIFTY: 53706.9
2025-05-09 10:39:11,070 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:39:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:39:16,910 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:17,103 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:17,866 - options_module - INFO - Got price for index NIFTY: 24033.3
2025-05-09 10:39:18,026 - options_module - INFO - Got price for index NIFTY: 24033.3
2025-05-09 10:39:19,898 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:19,977 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:20,833 - options_module - INFO - Got price for index BANKNIFTY: 53697.8
2025-05-09 10:39:20,919 - options_module - INFO - Got price for index BANKNIFTY: 53697.8
2025-05-09 10:39:31,059 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:39:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:39:32,798 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:32,840 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:33,800 - options_module - INFO - Got price for index NIFTY: 24031.35
2025-05-09 10:39:33,952 - options_module - INFO - Got price for index NIFTY: 24031.35
2025-05-09 10:39:35,819 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:35,991 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:36,924 - options_module - INFO - Got price for index BANKNIFTY: 53707.0
2025-05-09 10:39:37,104 - options_module - INFO - Got price for index BANKNIFTY: 53704.9
2025-05-09 10:39:48,911 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:49,088 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:39:49,993 - options_module - INFO - Got price for index NIFTY: 24018.65
2025-05-09 10:39:50,169 - options_module - INFO - Got price for index NIFTY: 24018.65
2025-05-09 10:39:51,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:39:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:39:52,156 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:52,296 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:39:53,206 - options_module - INFO - Got price for index BANKNIFTY: 53676.3
2025-05-09 10:39:53,495 - options_module - INFO - Got price for index BANKNIFTY: 53676.3
2025-05-09 10:40:06,199 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:06,319 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:07,408 - options_module - INFO - Got price for index NIFTY: 24025.2
2025-05-09 10:40:07,515 - options_module - INFO - Got price for index NIFTY: 24025.2
2025-05-09 10:40:09,502 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:09,552 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:10,498 - options_module - INFO - Got price for index BANKNIFTY: 53685.8
2025-05-09 10:40:10,660 - options_module - INFO - Got price for index BANKNIFTY: 53684.25
2025-05-09 10:40:11,061 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:40:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:40:22,487 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:22,614 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:23,444 - options_module - INFO - Got price for index NIFTY: 24025.9
2025-05-09 10:40:23,552 - options_module - INFO - Got price for index NIFTY: 24025.9
2025-05-09 10:40:25,648 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:25,764 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:26,679 - options_module - INFO - Got price for index BANKNIFTY: 53686.6
2025-05-09 10:40:26,794 - options_module - INFO - Got price for index BANKNIFTY: 53686.6
2025-05-09 10:40:31,068 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:40:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:40:38,608 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:38,892 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:39,465 - options_module - INFO - Got price for index NIFTY: 24021.6
2025-05-09 10:40:39,936 - options_module - INFO - Got price for index NIFTY: 24022.2
2025-05-09 10:40:41,453 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:41,986 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:42,454 - options_module - INFO - Got price for index BANKNIFTY: 53676.85
2025-05-09 10:40:42,997 - options_module - INFO - Got price for index BANKNIFTY: 53676.85
2025-05-09 10:40:51,074 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:40:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:40:54,616 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:54,926 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:40:55,509 - options_module - INFO - Got price for index NIFTY: 24018.4
2025-05-09 10:40:55,897 - options_module - INFO - Got price for index NIFTY: 24018.25
2025-05-09 10:40:57,281 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:58,134 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:40:58,353 - options_module - INFO - Got price for index BANKNIFTY: 53675.85
2025-05-09 10:40:59,211 - options_module - INFO - Got price for index BANKNIFTY: 53679.35
2025-05-09 10:41:10,215 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:10,930 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:11,004 - options_module - INFO - Got price for index NIFTY: 24019.35
2025-05-09 10:41:11,062 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:41:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:41:12,044 - options_module - INFO - Got price for index NIFTY: 24019.45
2025-05-09 10:41:13,102 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:14,039 - options_module - INFO - Got price for index BANKNIFTY: 53673.6
2025-05-09 10:41:14,090 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:15,166 - options_module - INFO - Got price for index BANKNIFTY: 53674.7
2025-05-09 10:41:23,090 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 10:41:23,091 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 10:41:23,091 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 10:41:27,011 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:27,903 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:27,923 - options_module - INFO - Got price for index NIFTY: 24022.1
2025-05-09 10:41:30,036 - options_module - INFO - Got price for index NIFTY: 24022.65
2025-05-09 10:41:31,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:41:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:41:31,150 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:32,245 - options_module - INFO - Got price for index BANKNIFTY: 53683.8
2025-05-09 10:41:32,357 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:33,427 - options_module - INFO - Got price for index BANKNIFTY: 53681.5
2025-05-09 10:41:44,529 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:45,423 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:41:45,499 - options_module - INFO - Got price for index NIFTY: 24012.9
2025-05-09 10:41:46,516 - options_module - INFO - Got price for index NIFTY: 24013.1
2025-05-09 10:41:47,519 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:48,443 - options_module - INFO - Got price for index BANKNIFTY: 53662.15
2025-05-09 10:41:48,514 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:41:49,594 - options_module - INFO - Got price for index BANKNIFTY: 53662.95
2025-05-09 10:41:51,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:41:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:42:00,362 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:42:01,146 - options_module - INFO - Got price for index NIFTY: 24015.8
2025-05-09 10:42:01,579 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:42:02,513 - options_module - INFO - Got price for index NIFTY: 24015.3
2025-05-09 10:42:03,115 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:42:04,196 - options_module - INFO - Got price for index BANKNIFTY: 53674.6
2025-05-09 10:42:04,311 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:42:05,328 - options_module - INFO - Got price for index BANKNIFTY: 53671.55
2025-05-09 10:42:11,070 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:42:16,442 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:42:17,433 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:42:17,832 - options_module - INFO - Got price for index NIFTY: 24017.0
2025-05-09 10:42:18,650 - options_module - INFO - Got price for index NIFTY: 24016.7
2025-05-09 10:42:19,646 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 10:42:19,648 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 10:42:20,204 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:42:21,119 - __main__ - INFO - Raw API response: 250509000323859
2025-05-09 10:42:21,120 - __main__ - INFO - Received order ID as direct string response: 250509000323859
2025-05-09 10:42:21,120 - TradeMonitorService - INFO - Successfully exited option position BANKNIFTY29MAY2553800CE (MANUAL_EXIT): 250509000323859
2025-05-09 10:42:21,129 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '285.22'}
2025-05-09 10:42:21,133 - __main__ - INFO - Raw API response: 250509000311334
2025-05-09 10:42:21,133 - __main__ - INFO - Received order ID as direct string response: 250509000311334
2025-05-09 10:42:21,134 - TradeMonitorService - INFO - Successfully exited option position BANKNIFTY29MAY2553800CE (MANUAL_EXIT): 250509000311334
2025-05-09 10:42:21,221 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524100PE', 'symboltoken': '46255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '285.22'}
2025-05-09 10:42:21,328 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:42:21,683 - options_module - INFO - Got price for index BANKNIFTY: 53685.05
2025-05-09 10:42:22,551 - __main__ - INFO - Raw API response: 250509000311374
2025-05-09 10:42:22,552 - __main__ - INFO - Received order ID as direct string response: 250509000311374
2025-05-09 10:42:22,552 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2524100PE (MANUAL_EXIT): 250509000311374
2025-05-09 10:42:22,579 - TradeMonitorService - INFO - P&L for BANKNIFTY29MAY2553800CE: Rs.-1828.50 (-5.70%)
2025-05-09 10:42:22,604 - TradeMonitorService - INFO - Recorded completed trade for BANKNIFTY29MAY2553800CE in completed_option_trades.json
2025-05-09 10:42:22,607 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:22] "POST /api/positions/exit/caaa2ad7-d458-41e8-bc5e-340944b22bc9 HTTP/1.1" 200 -
2025-05-09 10:42:22,711 - TradeMonitorService - INFO - P&L for BANKNIFTY29MAY2553800CE: Rs.-1744.50 (-5.45%)
2025-05-09 10:42:22,731 - TradeMonitorService - INFO - Recorded completed trade for BANKNIFTY29MAY2553800CE in completed_option_trades.json
2025-05-09 10:42:22,734 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:22] "POST /api/positions/exit/209dbbe5-a955-49f0-8717-61d27b1e2b05 HTTP/1.1" 200 -
2025-05-09 10:42:22,747 - __main__ - INFO - Raw API response: 250509000323898
2025-05-09 10:42:22,747 - __main__ - INFO - Received order ID as direct string response: 250509000323898
2025-05-09 10:42:22,748 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2524100PE (MANUAL_EXIT): 250509000323898
2025-05-09 10:42:22,908 - options_module - INFO - Got price for index BANKNIFTY: 53687.2
2025-05-09 10:42:23,630 - TradeMonitorService - INFO - P&L for NIFTY15MAY2524100PE: Rs.573.75 (2.72%)
2025-05-09 10:42:23,644 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2524100PE in completed_option_trades.json
2025-05-09 10:42:23,647 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:23] "POST /api/positions/exit/2882c04c-d263-4141-b9f1-83e478906198 HTTP/1.1" 200 -
2025-05-09 10:42:23,952 - TradeMonitorService - INFO - P&L for NIFTY15MAY2524100PE: Rs.892.50 (4.31%)
2025-05-09 10:42:23,973 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2524100PE in completed_option_trades.json
2025-05-09 10:42:23,975 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:23] "POST /api/positions/exit/cb12972a-5987-4dbd-82fe-6555cb0e24e5 HTTP/1.1" 200 -
2025-05-09 10:42:23,987 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:23] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:42:31,029 - TradeMonitorService - ERROR - Error getting option price for BANKNIFTY29MAY2553800CE: HTTPSConnectionPool(host='apiconnect.angelone.in', port=443): Read timed out. (read timeout=7)
2025-05-09 10:42:31,200 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:42:41,031 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 10:42:51,208 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:42:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:43:11,210 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:43:44,071 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:44] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:43:45,224 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:45] "GET /accounts HTTP/1.1" 200 -
2025-05-09 10:43:45,245 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:43:47,729 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:43:48,635 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:43:51,300 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:43:52,260 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:43:53,052 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:53] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:43:53,066 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:43:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:46:53,481 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:46:53] "GET /positions HTTP/1.1" 200 -
2025-05-09 10:46:53,512 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:46:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:46:53,551 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:46:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 10:46:57,060 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:46:57,827 - options_module - INFO - Got price for index NIFTY: 24009.95
2025-05-09 10:46:58,625 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 10:46:58,625 - options_module - INFO - Using cached price for NIFTY: 24009.95
2025-05-09 10:46:59,389 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:47:00,332 - options_module - INFO - Got price for index BANKNIFTY: 53657.75
2025-05-09 10:47:01,162 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 10:47:01,162 - options_module - INFO - Using cached price for BANKNIFTY: 53657.75
2025-05-09 10:47:01,165 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:47:01] "GET /options HTTP/1.1" 200 -
2025-05-09 10:47:01,181 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:47:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:47:01,227 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 10:47:01,295 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 10:47:01,305 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:47:01] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 10:47:08,458 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 10:47:09,241 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 10:47:11,631 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-09 10:47:13,598 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-09 10:47:14,321 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:47:14] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 10:47:14,338 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 10:47:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 10:47:52,490 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 10:47:52,946 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 10:47:52,947 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 10:47:53,352 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 10:48:01,069 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 10:48:01,077 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 11:27:14,136 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 11:27:14,138 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 11:27:14,140 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 11:27:14,140 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 11:27:14,161 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 11:27:14,161 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 11:27:14,162 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 11:27:14,162 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 11:27:14,163 - __main__ - INFO - Initializing 2 client connections
2025-05-09 11:27:14,215 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 11:27:19,465 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 11:27:19,465 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 11:27:19,466 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 11:27:19,466 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 11:27:19,485 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 11:27:19,485 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 11:27:19,530 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 11:27:19,530 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 11:27:19,545 - __main__ - INFO - Initializing 2 client connections
2025-05-09 11:27:19,595 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 11:27:23,419 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 11:27:23,420 - __main__ - INFO - Login successful for client: V410166
2025-05-09 11:27:23,420 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 11:27:23,467 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 11:27:26,031 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 11:27:26,031 - __main__ - INFO - Login successful for client: M543167
2025-05-09 11:27:26,032 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 11:27:26,032 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 11:27:26,033 - options_module - INFO - Verifying client connection
2025-05-09 11:27:26,033 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 11:27:26,034 - options_module - INFO - Verifying client connection
2025-05-09 11:27:26,034 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 11:27:26,034 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 11:27:26,035 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 11:27:32,267 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 11:27:32,272 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 11:27:32,272 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 11:27:32,273 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 11:27:32,274 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 11:27:32,274 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 11:27:32,317 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 11:27:32,318 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 11:27:32,323 - werkzeug - INFO -  * Restarting with stat
2025-05-09 11:27:34,562 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 11:27:34,563 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 11:27:34,564 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 11:27:34,564 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 11:27:34,582 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 11:27:34,583 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 11:27:34,584 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 11:27:34,584 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 11:27:34,585 - __main__ - INFO - Initializing 2 client connections
2025-05-09 11:27:34,631 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 11:27:37,221 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 11:27:37,221 - __main__ - INFO - Login successful for client: V410166
2025-05-09 11:27:37,222 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 11:27:37,268 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 11:27:39,897 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 11:27:39,897 - __main__ - INFO - Login successful for client: M543167
2025-05-09 11:27:39,897 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 11:27:39,898 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 11:27:39,898 - options_module - INFO - Verifying client connection
2025-05-09 11:27:39,898 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 11:27:39,899 - options_module - INFO - Verifying client connection
2025-05-09 11:27:39,899 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 11:27:39,899 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 11:27:39,899 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 11:27:46,085 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 11:27:46,091 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 11:27:46,091 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 11:27:46,092 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 11:27:46,093 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 11:27:46,093 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 11:27:46,111 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 11:27:46,150 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 11:28:09,539 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:09] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-09 11:28:09,767 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:09] "GET /login HTTP/1.1" 200 -
2025-05-09 11:28:09,980 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:28:10,622 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-09 11:28:12,635 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:12] "POST /login HTTP/1.1" 200 -
2025-05-09 11:28:12,941 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:28:18,751 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:18] "POST /login HTTP/1.1" 200 -
2025-05-09 11:28:18,762 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:28:26,856 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:26] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 11:28:27,043 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:27] "GET / HTTP/1.1" 200 -
2025-05-09 11:28:31,139 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:31] "GET /accounts HTTP/1.1" 200 -
2025-05-09 11:28:31,247 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:31] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:28:32,500 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:32] "GET /positions HTTP/1.1" 200 -
2025-05-09 11:28:32,665 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:28:33,009 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:28:37,619 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 11:28:37,619 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 11:28:37,620 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 11:28:37,620 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-09 11:28:37,621 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 11:28:37,621 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 11:28:37,705 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 11:28:37,709 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 11:28:37,714 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 11:28:45,135 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 11:28:45,136 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 11:28:45,136 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 11:28:45,137 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 11:28:45,918 - __main__ - INFO - Raw API response: 250509000379016
2025-05-09 11:28:45,918 - __main__ - INFO - Received order ID as direct string response: 250509000379016
2025-05-09 11:28:45,918 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000379016
2025-05-09 11:28:46,683 - options_trade_manager - ERROR - Order 250509000379016 was not executed successfully: rejected
2025-05-09 11:28:46,683 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 11:28:46,684 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 11:28:46,724 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 11:28:46,725 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 11:28:46,730 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 11:28:52,731 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 11:28:52,732 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 11:28:52,732 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 11:28:52,733 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 11:28:53,488 - __main__ - INFO - Raw API response: 250509000393907
2025-05-09 11:28:53,488 - __main__ - INFO - Received order ID as direct string response: 250509000393907
2025-05-09 11:28:53,489 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000393907
2025-05-09 11:28:53,577 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:28:54,230 - options_trade_manager - ERROR - Order 250509000393907 was not executed successfully: rejected
2025-05-09 11:28:54,231 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 11:28:54,231 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:28:54] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 11:29:13,258 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:29:32,780 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:32] "GET /positions HTTP/1.1" 200 -
2025-05-09 11:29:32,792 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:32] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:29:33,044 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 11:29:33,102 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:29:53,269 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:29:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:30:13,394 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:30:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:30:33,267 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:30:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:30:36,839 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 11:30:36,839 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 11:30:36,840 - options_trade_manager - INFO - Loaded 2 active clients from accounts.json
2025-05-09 11:30:36,840 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options
2025-05-09 11:30:36,841 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 11:30:36,841 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 11:30:36,894 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 11:30:36,895 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 11:30:36,899 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 11:30:44,199 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 11:30:44,200 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 11:30:44,200 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 11:30:44,201 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 11:30:45,171 - __main__ - INFO - Raw API response: 250509000384209
2025-05-09 11:30:45,172 - __main__ - INFO - Received order ID as direct string response: 250509000384209
2025-05-09 11:30:45,172 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000384209
2025-05-09 11:30:46,118 - options_trade_manager - ERROR - Order 250509000384209 was not executed successfully: rejected
2025-05-09 11:30:46,118 - options_trade_manager - INFO - Fetching options for BANKNIFTY expiry 29MAY2025
2025-05-09 11:30:46,119 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 11:30:46,160 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 11:30:46,161 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 11:30:46,166 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 11:30:52,346 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 11:30:52,346 - options_trade_manager - INFO - Selected ATM option: BANKNIFTY29MAY2553800CE (Strike: 53800.0)
2025-05-09 11:30:52,347 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2553800CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 11:30:52,347 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2553800CE', 'symboltoken': '58530', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 11:30:53,172 - __main__ - INFO - Raw API response: 250509000399551
2025-05-09 11:30:53,172 - __main__ - INFO - Received order ID as direct string response: 250509000399551
2025-05-09 11:30:53,172 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000399551
2025-05-09 11:30:55,007 - options_trade_manager - ERROR - Order 250509000399551 was not executed successfully: rejected
2025-05-09 11:30:55,008 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 11:30:55,008 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:30:55] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 11:31:14,567 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:31:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:31:33,265 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:31:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:32:15,578 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:32:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:33:15,262 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:33:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:34:15,578 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:34:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:35:15,275 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:35:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:36:15,617 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:36:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:37:15,273 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:37:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:38:15,585 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:38:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:39:15,588 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:39:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:40:15,589 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:40:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:41:15,590 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:41:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:42:15,286 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:42:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:43:15,591 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:43:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:44:15,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:44:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:45:15,305 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:45:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:46:15,588 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:46:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:47:15,284 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:47:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:48:15,591 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:48:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:49:15,294 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:49:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:50:15,589 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:50:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:51:15,306 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:51:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:52:15,595 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:52:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:53:15,280 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:53:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:54:15,596 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:54:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:55:15,292 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:55:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:56:15,593 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:56:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:57:15,289 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:57:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:57:32,323 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 11:57:32,344 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 11:57:32,344 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 11:57:46,119 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 11:57:46,125 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 11:57:46,126 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 11:58:15,595 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:58:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 11:59:15,325 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 11:59:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:00:15,590 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:00:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:01:15,319 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:01:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:02:15,594 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:02:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:03:15,317 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:03:36,881 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:03:53,600 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:03:58,530 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:58] "GET /options HTTP/1.1" 200 -
2025-05-09 12:03:58,560 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:03:58,971 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 12:03:59,234 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 12:03:59,240 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:03:59] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 12:04:02,339 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-09 12:04:02,340 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 12:04:02,341 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-09 12:04:02,341 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-09 12:04:02,342 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-09 12:04:02,344 - options_module - INFO - Generated fallback expiry dates: ['15MAY2025', '22MAY2025', '29MAY2025', '05JUN2025']
2025-05-09 12:04:02,517 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-09 12:04:02,518 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-09 12:04:02,519 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:04:02] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-09 12:04:02,841 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-09 12:04:02,842 - __main__ - INFO - Using client V410166 for option chain API
2025-05-09 12:04:02,842 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 12:04:02,842 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-09 12:04:02,843 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 12:04:05,128 - options_module - INFO - Got price for index NIFTY: 24035.0
2025-05-09 12:04:05,128 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 12:04:05,128 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 12:04:05,129 - options_module - INFO - Cleaned 26 expired entries from price cache
2025-05-09 12:04:05,186 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 12:04:05,189 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 12:04:05,197 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24050.0
2025-05-09 12:04:11,067 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 12:04:11,069 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-09 12:04:11,070 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:04:11] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-09 12:07:55,922 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:55] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-09 12:07:55,933 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:55] "GET /login HTTP/1.1" 200 -
2025-05-09 12:07:55,952 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:07:57,358 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:57] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 12:07:57,369 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:57] "GET / HTTP/1.1" 200 -
2025-05-09 12:07:59,255 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:59] "GET /options HTTP/1.1" 200 -
2025-05-09 12:07:59,271 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:07:59,333 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 12:07:59,424 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 12:07:59,431 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:07:59] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 12:08:00,216 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:08:00] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:08:00,231 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:08:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:08:00,264 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:08:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:08:20,287 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:08:20] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:08:40,295 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:08:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:09:00,293 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:09:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:09:20,325 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:09:20] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:09:40,295 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:09:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:10:15,309 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:10:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:11:15,281 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:11:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:12:15,293 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:12:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:12:42,277 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-09 12:12:42,281 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:12:45,073 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:12:45,079 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:12:45,707 - werkzeug - INFO -  * Restarting with stat
2025-05-09 12:12:49,814 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:12:50,854 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:12:50,856 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:12:50,858 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:12:50,858 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:12:50,880 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:12:50,880 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:12:50,881 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:12:50,881 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:12:50,882 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:12:50,928 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:12:52,729 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:12:52,729 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:12:52,729 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:12:52,764 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:12:54,618 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:12:54,619 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:12:54,620 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:12:54,620 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:12:54,620 - options_module - INFO - Verifying client connection
2025-05-09 12:12:54,621 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:12:54,621 - options_module - INFO - Verifying client connection
2025-05-09 12:12:54,621 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:12:54,622 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:12:54,622 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:13:04,057 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:13:04,062 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:13:04,062 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:13:04,063 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:13:04,063 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:13:04,063 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:13:04,088 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 12:13:04,093 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 12:13:15,302 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:13:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:13:15,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:13:15] "GET /login HTTP/1.1" 200 -
2025-05-09 12:14:15,321 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:14:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:14:15,326 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:14:15] "GET /login HTTP/1.1" 200 -
2025-05-09 12:15:15,289 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:15:15,294 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:15] "GET /login HTTP/1.1" 200 -
2025-05-09 12:15:51,183 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:51] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:15:51,193 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:51] "GET /login HTTP/1.1" 200 -
2025-05-09 12:15:52,219 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:52] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-09 12:15:52,232 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:52] "GET /login HTTP/1.1" 200 -
2025-05-09 12:15:52,417 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:15:53,503 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:53] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 12:15:53,614 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:53] "GET / HTTP/1.1" 200 -
2025-05-09 12:15:55,025 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:55] "GET /accounts HTTP/1.1" 200 -
2025-05-09 12:15:55,037 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:15:56,666 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:56] "GET /options HTTP/1.1" 200 -
2025-05-09 12:15:56,679 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:15:56,714 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 12:15:56,779 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 12:15:56,787 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:56] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 12:15:57,798 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:57] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:15:57,807 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:15:57,834 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:15:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:16:01,394 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 12:16:01,395 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 12:16:01,395 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 12:16:01,395 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:16:01,395 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:16:01,396 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:16:01,396 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:16:01,396 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:16:01,396 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:16:01,397 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:16:01,397 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:16:01,397 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 12:16:01,397 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:01] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 12:16:15,497 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-09 12:16:15,497 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:16:20,896 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:16:20,898 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:16:21,081 - werkzeug - INFO -  * Restarting with stat
2025-05-09 12:16:22,939 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:16:22,940 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:16:22,940 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:16:22,941 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:16:22,953 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:16:22,954 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:16:22,955 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:16:22,955 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:16:22,956 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:16:22,996 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:16:25,067 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:16:25,067 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:16:25,067 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:16:25,097 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:16:28,618 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:16:28,619 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:16:28,620 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:16:28,621 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:16:28,622 - options_module - INFO - Verifying client connection
2025-05-09 12:16:28,622 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:16:28,623 - options_module - INFO - Verifying client connection
2025-05-09 12:16:28,624 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:16:28,624 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:16:28,625 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:16:29,841 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:16:34,036 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:16:34,039 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:16:34,039 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:16:34,040 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:16:34,040 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:16:34,040 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:16:34,058 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 12:16:34,061 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 12:16:34,074 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:34] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:16:34,095 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:34] "GET /login HTTP/1.1" 200 -
2025-05-09 12:16:38,291 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:38] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:16:38,295 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:38] "GET /login HTTP/1.1" 200 -
2025-05-09 12:16:58,294 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:16:58,298 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:16:58] "GET /login HTTP/1.1" 200 -
2025-05-09 12:17:11,436 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-09 12:17:11,437 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:17:12,959 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:17:12,960 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:17:13,110 - werkzeug - INFO -  * Restarting with stat
2025-05-09 12:17:15,512 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:17:15,512 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:17:15,513 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:17:15,513 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:17:15,524 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:17:15,524 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:17:15,525 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:17:15,525 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:17:15,526 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:17:15,564 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:17:17,247 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:17:17,247 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:17:17,247 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:17:17,284 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:17:19,278 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:17:19,278 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:17:19,279 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:17:19,279 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:17:19,279 - options_module - INFO - Verifying client connection
2025-05-09 12:17:19,280 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:17:19,280 - options_module - INFO - Verifying client connection
2025-05-09 12:17:19,280 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:17:19,280 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:17:19,281 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:17:19,880 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:17:28,722 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:17:28,726 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:17:28,727 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:17:28,727 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:17:28,728 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:17:28,728 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:17:28,744 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 12:17:28,747 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 12:17:28,762 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:28] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:17:28,786 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:28] "GET /login HTTP/1.1" 200 -
2025-05-09 12:17:37,844 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:37] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:17:37,848 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:37] "GET /login HTTP/1.1" 200 -
2025-05-09 12:17:38,634 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:38] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-09 12:17:38,643 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:38] "GET /login HTTP/1.1" 200 -
2025-05-09 12:17:38,819 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:17:40,053 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:40] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 12:17:40,062 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:40] "GET / HTTP/1.1" 200 -
2025-05-09 12:17:41,146 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:41] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:17:41,158 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:17:41,190 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:17:46,322 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 12:17:46,326 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 12:17:46,326 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 12:17:46,327 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:17:46,328 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:17:46,328 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:17:46,329 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:17:46,329 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:17:46,336 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:17:46,341 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:17:46,344 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:17:46,344 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 12:17:46,345 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:17:46] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 12:17:54,004 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-09 12:17:54,004 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:17:55,529 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:17:55,531 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:17:55,609 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:18:14,624 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:18:14,625 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:18:14,625 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:18:14,626 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:18:14,636 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:18:14,636 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:18:14,638 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:18:14,638 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:18:14,639 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:18:14,669 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:18:17,060 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:18:17,060 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:18:17,061 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:18:17,108 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:18:19,742 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:18:19,742 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:18:19,743 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:18:19,743 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:18:19,743 - options_module - INFO - Verifying client connection
2025-05-09 12:18:19,743 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:18:19,744 - options_module - INFO - Verifying client connection
2025-05-09 12:18:19,744 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:18:19,744 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:18:19,744 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:18:26,323 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:18:26,331 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:18:26,335 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:18:26,336 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:18:26,338 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:18:26,338 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:18:26,386 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 12:18:26,386 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 12:18:26,390 - werkzeug - INFO -  * Restarting with stat
2025-05-09 12:18:31,170 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:18:31,171 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:18:31,172 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:18:31,173 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:18:31,216 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:18:31,217 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:18:31,381 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:18:31,381 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:18:31,382 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:18:31,436 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:18:35,404 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:18:35,405 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:18:35,405 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:18:35,482 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:18:38,242 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:18:38,243 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:18:38,243 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:18:38,243 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:18:38,243 - options_module - INFO - Verifying client connection
2025-05-09 12:18:38,243 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:18:38,244 - options_module - INFO - Verifying client connection
2025-05-09 12:18:38,244 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:18:38,244 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:18:38,244 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:18:44,517 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:18:44,521 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:18:44,521 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:18:44,522 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:18:44,522 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:18:44,522 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:18:44,545 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 12:18:44,548 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 12:18:44,567 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-09 12:18:44,569 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:18:44,577 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-09 12:18:44,597 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "GET /login HTTP/1.1" 200 -
2025-05-09 12:18:44,601 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "GET /login HTTP/1.1" 200 -
2025-05-09 12:18:44,681 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:18:45,694 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:45] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 12:18:45,710 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:45] "GET / HTTP/1.1" 200 -
2025-05-09 12:18:49,543 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:49] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:18:49,559 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:18:49,588 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:49] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:18:53,527 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 12:18:53,528 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 12:18:53,529 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 12:18:53,529 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:18:53,529 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:18:53,530 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:18:53,530 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:18:53,530 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:18:53,530 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:18:53,531 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:18:53,531 - options_trade_manager - ERROR - Error getting option contract: 'OptionsProcessor' object has no attribute 'get_option_contract'
2025-05-09 12:18:53,532 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 12:18:53,533 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:18:53] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 12:19:10,297 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:19:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:19:30,294 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:19:30] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:19:50,286 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:19:50] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:20:10,296 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:20:10] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:20:30,291 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:20:30] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:21:15,286 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:21:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:22:15,292 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:22:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:23:15,302 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:23:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:24:15,299 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:24:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:25:15,298 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:25:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:26:11,561 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_module.py', reloading
2025-05-09 12:26:11,578 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:26:22,457 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:26:24,695 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:26:24,706 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:26:31,234 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:26:31,235 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:26:31,236 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:26:31,236 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:26:31,258 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:26:31,259 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:26:31,262 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:26:31,262 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:26:31,263 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:26:31,320 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:26:33,980 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:26:33,981 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:26:33,981 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:26:34,021 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:26:36,319 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:26:36,319 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:26:36,320 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:26:36,320 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:26:36,320 - options_module - INFO - Verifying client connection
2025-05-09 12:26:36,321 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:26:36,321 - options_module - INFO - Verifying client connection
2025-05-09 12:26:36,321 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:26:36,321 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:26:36,322 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:26:42,223 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:26:42,226 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:26:42,226 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:26:42,227 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:26:42,227 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:26:42,227 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:26:42,269 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 12:26:42,270 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 12:26:42,276 - werkzeug - INFO -  * Restarting with stat
2025-05-09 12:26:43,943 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 12:26:43,944 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 12:26:43,944 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 12:26:43,944 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 12:26:43,957 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:26:43,957 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 12:26:43,958 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 12:26:43,958 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 12:26:43,959 - __main__ - INFO - Initializing 2 client connections
2025-05-09 12:26:43,988 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 12:26:47,428 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:26:47,428 - __main__ - INFO - Login successful for client: V410166
2025-05-09 12:26:47,428 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 12:26:47,475 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 12:26:49,537 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 12:26:49,538 - __main__ - INFO - Login successful for client: M543167
2025-05-09 12:26:49,539 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 12:26:49,539 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 12:26:49,540 - options_module - INFO - Verifying client connection
2025-05-09 12:26:49,541 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:26:49,542 - options_module - INFO - Verifying client connection
2025-05-09 12:26:49,543 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 12:26:49,543 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 12:26:49,544 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 12:26:54,983 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 12:26:54,986 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 12:26:54,986 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 12:26:54,987 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 12:26:54,987 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 12:26:54,987 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 12:26:55,003 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 12:26:55,015 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 12:26:55,034 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:26:55,037 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-09 12:26:55,044 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 12:26:55,060 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "GET /login HTTP/1.1" 200 -
2025-05-09 12:26:55,067 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "GET /login HTTP/1.1" 200 -
2025-05-09 12:26:55,073 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "GET /login HTTP/1.1" 200 -
2025-05-09 12:26:55,213 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:55] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:26:56,163 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:56] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 12:26:56,177 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:56] "GET / HTTP/1.1" 200 -
2025-05-09 12:26:57,595 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:57] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:26:57,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:26:57,641 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:26:58,939 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:58] "GET /accounts HTTP/1.1" 200 -
2025-05-09 12:26:58,969 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:26:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:27:00,364 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:00] "GET /positions HTTP/1.1" 200 -
2025-05-09 12:27:00,379 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 12:27:00,407 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:27:05,127 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 12:27:05,128 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 12:27:05,128 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 12:27:05,128 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 12:27:05,129 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 12:27:05,129 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 12:27:05,130 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54000 CE
2025-05-09 12:27:05,299 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554000CE
2025-05-09 12:27:05,299 - options_trade_manager - ERROR - Error processing option signal: '>' not supported between instances of 'str' and 'int'
2025-05-09 12:27:05,300 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:05] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 12:27:21,288 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:21] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:27:41,291 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 12:27:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 12:27:43,380 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:27:43,964 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:27:43,968 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 12:27:44,122 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 12:27:51,273 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 12:27:51,277 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 13:09:14,125 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 13:09:14,126 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 13:09:14,126 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 13:09:14,127 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 13:09:14,140 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:09:14,140 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 13:09:14,141 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 13:09:14,142 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 13:09:14,143 - __main__ - INFO - Initializing 2 client connections
2025-05-09 13:09:14,178 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 13:09:15,871 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:09:15,872 - __main__ - INFO - Login successful for client: V410166
2025-05-09 13:09:15,872 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 13:09:15,897 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 13:09:17,787 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:09:17,788 - __main__ - INFO - Login successful for client: M543167
2025-05-09 13:09:17,788 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 13:09:17,788 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 13:09:17,789 - options_module - INFO - Verifying client connection
2025-05-09 13:09:17,789 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:09:17,789 - options_module - INFO - Verifying client connection
2025-05-09 13:09:17,790 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:09:17,790 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 13:09:17,790 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 13:09:23,075 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 13:09:23,080 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:09:23,080 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 13:09:23,080 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 13:09:23,081 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 13:09:23,081 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 13:09:23,111 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-09 13:09:23,111 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-09 13:09:23,114 - werkzeug - INFO -  * Restarting with stat
2025-05-09 13:09:24,630 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 13:09:24,630 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 13:09:24,631 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 13:09:24,631 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 13:09:24,643 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:09:24,644 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 13:09:24,645 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 13:09:24,645 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 13:09:24,646 - __main__ - INFO - Initializing 2 client connections
2025-05-09 13:09:24,676 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 13:09:27,334 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:09:27,334 - __main__ - INFO - Login successful for client: V410166
2025-05-09 13:09:27,335 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 13:09:27,381 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 13:09:29,196 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:09:29,197 - __main__ - INFO - Login successful for client: M543167
2025-05-09 13:09:29,197 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 13:09:29,197 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 13:09:29,197 - options_module - INFO - Verifying client connection
2025-05-09 13:09:29,197 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:09:29,198 - options_module - INFO - Verifying client connection
2025-05-09 13:09:29,198 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:09:29,198 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 13:09:29,198 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 13:09:34,373 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 13:09:34,376 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:09:34,377 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 13:09:34,377 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 13:09:34,377 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 13:09:34,378 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 13:09:34,392 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 13:09:34,429 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 13:09:57,322 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:09:57] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-09 13:09:57,441 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:09:57] "GET /login HTTP/1.1" 200 -
2025-05-09 13:09:57,685 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:09:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:09:59,592 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:09:59] "POST /login HTTP/1.1" 200 -
2025-05-09 13:09:59,896 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:09:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:10:12,649 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:12] "POST /login HTTP/1.1" 200 -
2025-05-09 13:10:12,670 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:10:27,802 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:27] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 13:10:28,206 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:28] "GET / HTTP/1.1" 200 -
2025-05-09 13:10:30,756 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:30] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:10:30,771 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:10:31,152 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:10:34,661 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "2", "option_moneyness": "ATM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:10:34,662 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:10:34,662 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 13:10:34,663 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:10:34,663 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:10:34,663 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 13:10:34,664 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54000 CE
2025-05-09 13:10:34,771 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554000CE
2025-05-09 13:10:34,772 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554000CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:10:34,772 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554000CE', 'symboltoken': '58538', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:10:35,532 - __main__ - INFO - Raw API response: 250509000506496
2025-05-09 13:10:35,533 - __main__ - INFO - Received order ID as direct string response: 250509000506496
2025-05-09 13:10:35,534 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000506496
2025-05-09 13:10:36,043 - options_trade_manager - ERROR - Order 250509000506496 was not executed successfully: rejected
2025-05-09 13:10:36,043 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:10:36,043 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:10:36,043 - options_trade_manager - INFO - Selected ATM strike: 54000 (depth 0)
2025-05-09 13:10:36,043 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54000 CE
2025-05-09 13:10:36,120 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554000CE
2025-05-09 13:10:36,120 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554000CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:10:36,120 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554000CE', 'symboltoken': '58538', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:10:36,617 - __main__ - INFO - Raw API response: 250509000523066
2025-05-09 13:10:36,617 - __main__ - INFO - Received order ID as direct string response: 250509000523066
2025-05-09 13:10:36,617 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000523066
2025-05-09 13:10:37,083 - options_trade_manager - ERROR - Order 250509000523066 was not executed successfully: rejected
2025-05-09 13:10:37,083 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:10:37,083 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:37] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:10:51,612 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:10:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:11:11,296 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:11:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:11:20,737 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "10", "option_moneyness": "OTM", "moneyness_depth": 0, "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:11:20,737 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:11:20,738 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 0
2025-05-09 13:11:20,739 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:11:20,739 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:11:20,740 - options_trade_manager - INFO - Selected OTM strike: 54000 (depth 0)
2025-05-09 13:11:20,740 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54000 CE
2025-05-09 13:11:20,830 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554000CE
2025-05-09 13:11:20,830 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554000CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:11:20,830 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554000CE', 'symboltoken': '58538', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:11:21,708 - __main__ - INFO - Raw API response: 250509000507623
2025-05-09 13:11:21,708 - __main__ - INFO - Received order ID as direct string response: 250509000507623
2025-05-09 13:11:21,709 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000507623
2025-05-09 13:11:22,402 - options_trade_manager - ERROR - Order 250509000507623 was not executed successfully: rejected
2025-05-09 13:11:22,402 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:11:22,402 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:11:22,403 - options_trade_manager - INFO - Selected OTM strike: 54000 (depth 0)
2025-05-09 13:11:22,403 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54000 CE
2025-05-09 13:11:22,507 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554000CE
2025-05-09 13:11:22,507 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554000CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:11:22,508 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554000CE', 'symboltoken': '58538', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:11:23,281 - __main__ - INFO - Raw API response: 250509000524172
2025-05-09 13:11:23,281 - __main__ - INFO - Received order ID as direct string response: 250509000524172
2025-05-09 13:11:23,281 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000524172
2025-05-09 13:11:23,785 - options_trade_manager - ERROR - Order 250509000524172 was not executed successfully: rejected
2025-05-09 13:11:23,786 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:11:23,786 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:11:23] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:11:31,614 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:11:31] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:11:51,618 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:11:51] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:12:11,614 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:12:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:12:37,652 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "10", "option_moneyness": "OTM", "moneyness_depth": "10", "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:12:37,653 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:12:37,653 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 10
2025-05-09 13:12:37,653 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:12:37,653 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:12:37,653 - options_trade_manager - INFO - Selected OTM strike: 59000 (depth 10)
2025-05-09 13:12:37,654 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 59000 CE
2025-05-09 13:12:37,788 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2559000CE
2025-05-09 13:12:37,788 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2559000CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:12:37,789 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2559000CE', 'symboltoken': '58725', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:12:38,799 - __main__ - INFO - Raw API response: 250509000509462
2025-05-09 13:12:38,799 - __main__ - INFO - Received order ID as direct string response: 250509000509462
2025-05-09 13:12:38,799 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000509462
2025-05-09 13:12:39,873 - options_trade_manager - ERROR - Order 250509000509462 was not executed successfully: rejected
2025-05-09 13:12:39,873 - options_trade_manager - INFO - Using default step size: 500 for BANKNIFTY
2025-05-09 13:12:39,874 - options_trade_manager - INFO - Calculated ATM strike: 54000 for underlying price: 53777.0
2025-05-09 13:12:39,874 - options_trade_manager - INFO - Selected OTM strike: 59000 (depth 10)
2025-05-09 13:12:39,874 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 59000 CE
2025-05-09 13:12:40,045 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2559000CE
2025-05-09 13:12:40,046 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2559000CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:12:40,046 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2559000CE', 'symboltoken': '58725', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:12:40,965 - __main__ - INFO - Raw API response: 250509000525865
2025-05-09 13:12:40,965 - __main__ - INFO - Received order ID as direct string response: 250509000525865
2025-05-09 13:12:40,966 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000525865
2025-05-09 13:12:41,608 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-09 13:12:41,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:12:41] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 13:12:44,205 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 13:12:44,207 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:12:44,665 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 13:12:44,665 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:12:45,403 - options_module - INFO - Got price for index BANKNIFTY: 53634.55
2025-05-09 13:12:45,556 - options_module - INFO - Got price for index BANKNIFTY: 53634.55
2025-05-09 13:12:56,380 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:12:56,508 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:12:57,090 - options_module - INFO - Got price for index BANKNIFTY: 53635.6
2025-05-09 13:12:57,245 - options_module - INFO - Got price for index BANKNIFTY: 53635.6
2025-05-09 13:13:07,744 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:07,771 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:08,399 - options_module - INFO - Got price for index BANKNIFTY: 53628.05
2025-05-09 13:13:08,403 - options_module - INFO - Got price for index BANKNIFTY: 53628.05
2025-05-09 13:13:15,612 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:13:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:13:18,924 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:19,081 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:19,534 - options_module - INFO - Got price for index BANKNIFTY: 53626.35
2025-05-09 13:13:19,673 - options_module - INFO - Got price for index BANKNIFTY: 53626.35
2025-05-09 13:13:30,345 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:30,470 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:30,897 - options_module - INFO - Got price for index BANKNIFTY: 53622.5
2025-05-09 13:13:31,124 - options_module - INFO - Got price for index BANKNIFTY: 53622.5
2025-05-09 13:13:41,369 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:41,590 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:42,074 - options_module - INFO - Got price for index BANKNIFTY: 53623.65
2025-05-09 13:13:42,249 - options_module - INFO - Got price for index BANKNIFTY: 53623.65
2025-05-09 13:13:52,705 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:52,889 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:13:53,431 - options_module - INFO - Got price for index BANKNIFTY: 53623.3
2025-05-09 13:13:53,439 - options_module - INFO - Got price for index BANKNIFTY: 53623.3
2025-05-09 13:14:03,942 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:04,093 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:04,667 - options_module - INFO - Got price for index BANKNIFTY: 53618.95
2025-05-09 13:14:04,689 - options_module - INFO - Got price for index BANKNIFTY: 53618.95
2025-05-09 13:14:13,445 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:14:14,798 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:14] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:14:14,888 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:14:15,044 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:14:15,341 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:15,366 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:15,992 - options_module - INFO - Got price for index BANKNIFTY: 53629.4
2025-05-09 13:14:16,113 - options_module - INFO - Got price for index BANKNIFTY: 53629.4
2025-05-09 13:14:19,557 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:19] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:14:19,869 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:14:19,899 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:19] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:14:26,638 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:26,716 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:27,388 - options_module - INFO - Got price for index BANKNIFTY: 53621.5
2025-05-09 13:14:27,534 - options_module - INFO - Got price for index BANKNIFTY: 53621.5
2025-05-09 13:14:37,879 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:38,192 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:39,575 - options_module - INFO - Got price for index BANKNIFTY: 53613.2
2025-05-09 13:14:39,579 - options_module - INFO - Got price for index BANKNIFTY: 53613.2
2025-05-09 13:14:39,915 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:14:39] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:14:50,126 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:50,296 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:14:50,689 - options_module - INFO - Got price for index BANKNIFTY: 53614.5
2025-05-09 13:14:50,998 - options_module - INFO - Got price for index BANKNIFTY: 53615.45
2025-05-09 13:15:00,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:15:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:15:01,252 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:01,657 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:01,896 - options_module - INFO - Got price for index BANKNIFTY: 53615.7
2025-05-09 13:15:02,161 - options_module - INFO - Got price for index BANKNIFTY: 53615.7
2025-05-09 13:15:12,543 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:12,634 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:13,136 - options_module - INFO - Got price for index BANKNIFTY: 53615.85
2025-05-09 13:15:13,333 - options_module - INFO - Got price for index BANKNIFTY: 53616.25
2025-05-09 13:15:20,329 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:15:20] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:15:23,629 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:23,969 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:15:25,235 - options_module - INFO - Got price for index BANKNIFTY: 53615.3
2025-05-09 13:15:25,356 - options_module - INFO - Got price for index BANKNIFTY: 53613.55
2025-05-09 13:15:33,996 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2559000CE', 'symboltoken': '58725', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:15:34,656 - __main__ - INFO - Raw API response: 250509000528300
2025-05-09 13:15:34,657 - __main__ - INFO - Received order ID as direct string response: 250509000528300
2025-05-09 13:15:34,658 - TradeMonitorService - INFO - Successfully exited option position BANKNIFTY29MAY2559000CE (MANUAL_EXIT): 250509000528300
2025-05-09 13:15:35,278 - TradeMonitorService - INFO - P&L for BANKNIFTY29MAY2559000CE: Rs.-4.50 (-0.56%)
2025-05-09 13:15:35,310 - TradeMonitorService - INFO - Recorded completed trade for BANKNIFTY29MAY2559000CE in completed_option_trades.json
2025-05-09 13:15:35,312 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:15:35] "POST /api/positions/exit/32a0a38d-0957-4a45-b613-57714877d839 HTTP/1.1" 200 -
2025-05-09 13:15:35,322 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:15:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:15:35,717 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:15:40,221 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:15:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:16:00,309 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:16:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:16:20,616 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:16:20] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:16:40,308 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:16:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:17:15,604 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:17:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:18:15,301 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:18:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:19:15,607 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:19:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:20:15,300 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:20:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:21:15,614 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:21:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:22:15,607 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:22:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:23:15,615 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:23:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:24:15,618 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:24:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:25:15,331 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:25:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:26:15,632 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:26:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:27:15,300 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:27:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:28:15,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:28:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:29:15,316 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:29:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:30:15,608 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:30:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:31:15,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:31:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:32:15,308 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:32:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:33:15,605 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:33:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:34:15,617 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:34:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:35:15,302 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:35:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:36:15,616 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:36:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:37:15,327 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:37:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:38:15,671 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:38:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:39:15,606 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:39:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:39:23,103 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 13:39:23,116 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 13:39:23,117 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 13:39:34,386 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 13:39:34,390 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 13:39:34,391 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 13:40:15,608 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:40:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:40:27,469 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleone\\options_trade_manager.py', reloading
2025-05-09 13:40:27,474 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 13:40:36,145 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 13:40:36,152 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-09 13:40:37,028 - werkzeug - INFO -  * Restarting with stat
2025-05-09 13:40:40,645 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-09 13:40:40,646 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-09 13:40:40,646 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-09 13:40:40,647 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-09 13:40:40,660 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:40:40,660 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-09 13:40:40,661 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-09 13:40:40,661 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-09 13:40:40,662 - __main__ - INFO - Initializing 2 client connections
2025-05-09 13:40:40,692 - __main__ - INFO - Attempting login for client: V410166
2025-05-09 13:40:42,297 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:40:42,298 - __main__ - INFO - Login successful for client: V410166
2025-05-09 13:40:42,298 - __main__ - INFO - Client V410166 initialized successfully
2025-05-09 13:40:42,324 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 13:40:43,967 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:40:43,967 - __main__ - INFO - Login successful for client: M543167
2025-05-09 13:40:43,967 - __main__ - INFO - Client M543167 initialized successfully
2025-05-09 13:40:43,968 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-09 13:40:43,968 - options_module - INFO - Verifying client connection
2025-05-09 13:40:43,968 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:40:43,968 - options_module - INFO - Verifying client connection
2025-05-09 13:40:43,969 - options_module - INFO - Client connection verified with smart_api structure
2025-05-09 13:40:43,969 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-09 13:40:43,969 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-09 13:40:45,854 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:40:49,512 - options_module - INFO - Successfully loaded 120404 symbols from OpenAPI
2025-05-09 13:40:49,515 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:40:49,515 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-09 13:40:49,516 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-09 13:40:49,516 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-09 13:40:49,516 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-09 13:40:49,541 - werkzeug - WARNING -  * Debugger is active!
2025-05-09 13:40:49,556 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-09 13:41:15,615 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:41:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 13:41:15,893 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:41:15] "GET /login HTTP/1.1" 200 -
2025-05-09 13:41:46,594 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "10", "option_moneyness": "OTM", "moneyness_depth": "10", "expiry_preference": "29MAY2025", "underlying_price": "53777", "underlying_stop_loss": "53600", "underlying_target": "54000", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:41:46,595 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:41:46,595 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 10
2025-05-09 13:41:46,595 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:41:46,649 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:41:46,652 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:41:46,657 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 13:41:48,873 - options_module - WARNING - Error getting price for BANKNIFTY29MAY2554200CE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-09 13:41:52,391 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:41:52,392 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:41:52,392 - options_trade_manager - INFO - Calculated ATM strike: 53800.0 for underlying price: 53777.0
2025-05-09 13:41:52,393 - options_trade_manager - INFO - Selected OTM strike: 54800.0 (depth 10)
2025-05-09 13:41:52,393 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54800.0 CE
2025-05-09 13:41:52,473 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554800CE
2025-05-09 13:41:52,473 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554800CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:41:52,474 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554800CE', 'symboltoken': '58555', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:41:54,044 - __main__ - INFO - Raw API response: 250509000546581
2025-05-09 13:41:54,044 - __main__ - INFO - Received order ID as direct string response: 250509000546581
2025-05-09 13:41:54,045 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000546581
2025-05-09 13:41:54,660 - options_trade_manager - ERROR - Order 250509000546581 was not executed successfully: rejected
2025-05-09 13:41:54,661 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:41:54,688 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:41:54,689 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:41:54,691 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53800.0
2025-05-09 13:41:59,911 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:41:59,912 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:41:59,912 - options_trade_manager - INFO - Calculated ATM strike: 53800.0 for underlying price: 53777.0
2025-05-09 13:41:59,913 - options_trade_manager - INFO - Selected OTM strike: 54800.0 (depth 10)
2025-05-09 13:41:59,913 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54800.0 CE
2025-05-09 13:42:00,000 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554800CE
2025-05-09 13:42:00,001 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554800CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:42:00,001 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554800CE', 'symboltoken': '58555', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:42:00,505 - __main__ - INFO - Raw API response: 250509000564399
2025-05-09 13:42:00,505 - __main__ - INFO - Received order ID as direct string response: 250509000564399
2025-05-09 13:42:00,505 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000564399
2025-05-09 13:42:01,150 - options_trade_manager - ERROR - Order 250509000564399 was not executed successfully: rejected
2025-05-09 13:42:01,151 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:42:01,151 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:42:01] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:42:15,648 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:42:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 13:42:15,905 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:42:15] "GET /login HTTP/1.1" 200 -
2025-05-09 13:43:01,876 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-09 13:43:02,143 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:02] "GET /login HTTP/1.1" 200 -
2025-05-09 13:43:04,024 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:04] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-09 13:43:04,215 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:04] "GET /login HTTP/1.1" 200 -
2025-05-09 13:43:04,405 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:43:11,671 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:11] "POST /login HTTP/1.1" 200 -
2025-05-09 13:43:11,686 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:43:24,441 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:24] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-09 13:43:24,470 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:24] "GET / HTTP/1.1" 200 -
2025-05-09 13:43:25,797 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:25] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:43:26,089 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:43:26,416 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:43:46,621 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:43:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:44:06,613 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:44:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:44:14,193 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": 10, "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 13:44:14,194 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:44:14,195 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 10
2025-05-09 13:44:14,195 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:44:14,237 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:44:14,237 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:44:14,241 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:44:20,587 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:44:20,587 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:44:20,588 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:44:20,588 - options_trade_manager - INFO - Selected OTM strike: 23600.0 (depth 10)
2025-05-09 13:44:20,588 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23600.0 PE
2025-05-09 13:44:20,659 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523600PE
2025-05-09 13:44:21,181 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523600PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:44:21,181 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523600PE', 'symboltoken': '46221', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.23'}
2025-05-09 13:44:21,691 - __main__ - INFO - Raw API response: 250509000549456
2025-05-09 13:44:21,691 - __main__ - INFO - Received order ID as direct string response: 250509000549456
2025-05-09 13:44:21,692 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000549456
2025-05-09 13:44:22,207 - options_trade_manager - ERROR - Order 250509000549456 was not executed successfully: rejected
2025-05-09 13:44:22,208 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:44:22,237 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:44:22,238 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:44:22,241 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:44:25,738 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:44:25,739 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:44:25,739 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:44:25,740 - options_trade_manager - INFO - Selected OTM strike: 23600.0 (depth 10)
2025-05-09 13:44:25,740 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23600.0 PE
2025-05-09 13:44:25,855 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523600PE
2025-05-09 13:44:26,297 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:44:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:44:26,532 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523600PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:44:26,533 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523600PE', 'symboltoken': '46221', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.88'}
2025-05-09 13:44:27,047 - __main__ - INFO - Raw API response: 250509000567244
2025-05-09 13:44:27,048 - __main__ - INFO - Received order ID as direct string response: 250509000567244
2025-05-09 13:44:27,048 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000567244
2025-05-09 13:44:27,662 - options_trade_manager - ERROR - Order 250509000567244 was not executed successfully: rejected
2025-05-09 13:44:27,662 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:44:27,663 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:44:27] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:44:46,607 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:44:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:45:06,301 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:45:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:45:56,929 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": 15, "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 13:45:56,929 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:45:56,929 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 15
2025-05-09 13:45:56,930 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:45:56,930 - options_module - INFO - Cleaned 52 expired entries from price cache
2025-05-09 13:45:56,967 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:45:56,968 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:45:56,970 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:46:02,179 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:46:02,180 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:46:02,180 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:46:02,180 - options_trade_manager - INFO - Selected OTM strike: 23350.0 (depth 15)
2025-05-09 13:46:02,181 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23350.0 PE
2025-05-09 13:46:02,279 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523350PE
2025-05-09 13:46:02,941 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523350PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:46:02,941 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523350PE', 'symboltoken': '46209', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '111.91'}
2025-05-09 13:46:03,597 - __main__ - INFO - Raw API response: 250509000551234
2025-05-09 13:46:03,598 - __main__ - INFO - Received order ID as direct string response: 250509000551234
2025-05-09 13:46:03,598 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000551234
2025-05-09 13:46:04,218 - options_trade_manager - ERROR - Order 250509000551234 was not executed successfully: rejected
2025-05-09 13:46:04,219 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:46:04,267 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:46:04,267 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:46:04,269 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:46:08,265 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:46:08,267 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:46:08,268 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:46:08,269 - options_trade_manager - INFO - Selected OTM strike: 23350.0 (depth 15)
2025-05-09 13:46:08,269 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23350.0 PE
2025-05-09 13:46:08,388 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523350PE
2025-05-09 13:46:08,884 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523350PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:46:08,884 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523350PE', 'symboltoken': '46209', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '111.1'}
2025-05-09 13:46:09,530 - __main__ - INFO - Raw API response: 250509000569094
2025-05-09 13:46:09,530 - __main__ - INFO - Received order ID as direct string response: 250509000569094
2025-05-09 13:46:09,531 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000569094
2025-05-09 13:46:10,229 - options_trade_manager - ERROR - Order 250509000569094 was not executed successfully: rejected
2025-05-09 13:46:10,229 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:46:10,229 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:46:10] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:46:15,613 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:46:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:47:05,201 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-09 13:47:05,201 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:47:05,202 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-09 13:47:05,202 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:47:05,240 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:47:05,240 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:47:05,242 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:47:10,245 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:47:10,247 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:47:10,247 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:47:10,248 - options_trade_manager - INFO - Selected OTM strike: 23100.0 (depth 20)
2025-05-09 13:47:10,249 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23100.0 PE
2025-05-09 13:47:10,396 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523100PE
2025-05-09 13:47:11,335 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523100PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:47:11,335 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523100PE', 'symboltoken': '46197', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '83.73'}
2025-05-09 13:47:11,842 - __main__ - INFO - Raw API response: 250509000552424
2025-05-09 13:47:11,842 - __main__ - INFO - Received order ID as direct string response: 250509000552424
2025-05-09 13:47:11,843 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000552424
2025-05-09 13:47:12,474 - options_trade_manager - ERROR - Order 250509000552424 was not executed successfully: rejected
2025-05-09 13:47:12,475 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:47:12,502 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:47:12,505 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:47:12,508 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-09 13:47:16,406 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:47:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:47:17,573 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:47:17,575 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-09 13:47:17,575 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-09 13:47:17,576 - options_trade_manager - INFO - Selected OTM strike: 23100.0 (depth 20)
2025-05-09 13:47:17,577 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 23100.0 PE
2025-05-09 13:47:17,705 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2523100PE
2025-05-09 13:47:18,406 - options_trade_manager - INFO - Placing order for NIFTY15MAY2523100PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-09 13:47:18,406 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2523100PE', 'symboltoken': '46197', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '83.88'}
2025-05-09 13:47:19,120 - __main__ - INFO - Raw API response: 250509000570327
2025-05-09 13:47:19,120 - __main__ - INFO - Received order ID as direct string response: 250509000570327
2025-05-09 13:47:19,121 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000570327
2025-05-09 13:47:19,688 - options_trade_manager - ERROR - Order 250509000570327 was not executed successfully: rejected
2025-05-09 13:47:19,688 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:47:19,689 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:47:19] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:48:15,602 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:48:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:49:15,313 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:49:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:49:23,987 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "10", "expiry_preference": "29MAY2025", "underlying_price": "53600", "underlying_stop_loss": "53550", "underlying_target": "543650", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:49:23,988 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:49:23,989 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 10
2025-05-09 13:49:23,989 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:49:24,100 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:49:24,101 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:49:24,105 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:49:30,319 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:49:30,320 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:49:30,320 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:49:30,320 - options_trade_manager - INFO - Selected OTM strike: 54600.0 (depth 10)
2025-05-09 13:49:30,321 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54600.0 CE
2025-05-09 13:49:30,398 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554600CE
2025-05-09 13:49:30,398 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554600CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:49:30,398 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554600CE', 'symboltoken': '58551', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:49:31,132 - __main__ - INFO - Raw API response: 250509000555087
2025-05-09 13:49:31,133 - __main__ - INFO - Received order ID as direct string response: 250509000555087
2025-05-09 13:49:31,133 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000555087
2025-05-09 13:49:31,852 - options_trade_manager - ERROR - Order 250509000555087 was not executed successfully: rejected
2025-05-09 13:49:31,853 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:49:31,879 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:49:31,880 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:49:31,883 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:49:35,818 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:49:35,820 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:49:35,820 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:49:35,821 - options_trade_manager - INFO - Selected OTM strike: 54600.0 (depth 10)
2025-05-09 13:49:35,822 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 54600.0 CE
2025-05-09 13:49:35,916 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2554600CE
2025-05-09 13:49:35,916 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2554600CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:49:35,916 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2554600CE', 'symboltoken': '58551', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:49:37,592 - __main__ - INFO - Raw API response: 250509000573173
2025-05-09 13:49:37,592 - __main__ - INFO - Received order ID as direct string response: 250509000573173
2025-05-09 13:49:37,593 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000573173
2025-05-09 13:49:38,228 - options_trade_manager - ERROR - Order 250509000573173 was not executed successfully: rejected
2025-05-09 13:49:38,229 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:49:38,229 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:49:38] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:50:15,609 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:50:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:51:15,308 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:51:19,426 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:19] "GET /options HTTP/1.1" 200 -
2025-05-09 13:51:19,537 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:51:19,662 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 13:51:19,705 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 13:51:19,709 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:19] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 13:51:21,386 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-09 13:51:21,387 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 13:51:21,387 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-09 13:51:21,388 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-09 13:51:21,389 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-09 13:51:21,390 - options_module - INFO - Generated fallback expiry dates: ['15MAY2025', '22MAY2025', '29MAY2025', '05JUN2025']
2025-05-09 13:51:21,432 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-09 13:51:21,433 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-09 13:51:21,434 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:21] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-09 13:51:21,747 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-09 13:51:21,747 - __main__ - INFO - Using client V410166 for option chain API
2025-05-09 13:51:21,747 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-09 13:51:21,750 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-09 13:51:21,751 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-09 13:51:22,378 - options_module - INFO - Got price for index NIFTY: 23981.1
2025-05-09 13:51:22,379 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:51:22,379 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-09 13:51:22,379 - options_module - INFO - Cleaned 52 expired entries from price cache
2025-05-09 13:51:22,407 - options_module - INFO - Found 112 calls and 112 puts in DataFrame
2025-05-09 13:51:22,408 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-09 13:51:22,412 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24000.0
2025-05-09 13:51:26,798 - options_module - WARNING - Error getting price for NIFTY15MAY2524250PE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-09 13:51:27,725 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-09 13:51:27,762 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-09 13:51:27,763 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:51:27] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-09 13:51:56,596 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ITM", "moneyness_depth": "10", "expiry_preference": "29MAY2025", "underlying_price": "53600", "underlying_stop_loss": "53550", "underlying_target": "543650", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:51:56,596 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-09 13:51:56,596 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 10
2025-05-09 13:51:56,597 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:51:56,631 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:51:56,632 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:51:56,636 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:52:01,381 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:52:01,382 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:52:01,382 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:52:01,382 - options_trade_manager - INFO - Selected ITM strike: 52600.0 (depth 10)
2025-05-09 13:52:01,382 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 52600.0 CE
2025-05-09 13:52:01,490 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2552600CE
2025-05-09 13:52:01,490 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2552600CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:52:01,490 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2552600CE', 'symboltoken': '58475', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:52:02,080 - __main__ - INFO - Raw API response: 250509000557453
2025-05-09 13:52:02,080 - __main__ - INFO - Received order ID as direct string response: 250509000557453
2025-05-09 13:52:02,080 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000557453
2025-05-09 13:52:02,764 - options_trade_manager - ERROR - Order 250509000557453 was not executed successfully: rejected
2025-05-09 13:52:02,765 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:52:02,792 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:52:02,792 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:52:02,794 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:52:02,803 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:52:02,803 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:52:02,803 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:52:02,803 - options_trade_manager - INFO - Selected ITM strike: 52600.0 (depth 10)
2025-05-09 13:52:02,804 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 52600.0 CE
2025-05-09 13:52:02,876 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2552600CE
2025-05-09 13:52:02,877 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2552600CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:52:02,877 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2552600CE', 'symboltoken': '58475', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:52:03,363 - __main__ - INFO - Raw API response: 250509000575466
2025-05-09 13:52:03,363 - __main__ - INFO - Received order ID as direct string response: 250509000575466
2025-05-09 13:52:03,363 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000575466
2025-05-09 13:52:04,005 - options_trade_manager - ERROR - Order 250509000575466 was not executed successfully: rejected
2025-05-09 13:52:04,006 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-09 13:52:04,006 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:04] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-09 13:52:14,034 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:14] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:52:14,348 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:52:14,688 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:52:16,452 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:16] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:52:16,769 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:52:16,793 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:52:36,798 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:52:57,118 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:52:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:53:17,296 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:53:17] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:53:37,613 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:53:37] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:53:57,301 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:53:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:55:15,611 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:55:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:56:15,304 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:56:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:57:05,312 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:57:06,032 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:06] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:57:06,314 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:57:08,569 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-09 13:57:08,572 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-09 13:57:08,577 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:08] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-09 13:57:08,590 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:08] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:57:08,817 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:57:13,099 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "20", "expiry_preference": "29MAY2025", "underlying_price": "53600", "underlying_stop_loss": "53550", "underlying_target": "543650", "ordertype": "MARKET", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-09 13:57:13,100 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-09 13:57:13,100 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 20
2025-05-09 13:57:13,100 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:57:13,100 - options_module - INFO - Cleaned 53 expired entries from price cache
2025-05-09 13:57:13,148 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:57:13,150 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:57:13,164 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:57:18,467 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:57:18,468 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:57:18,469 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:57:18,469 - options_trade_manager - INFO - Selected OTM strike: 55600.0 (depth 20)
2025-05-09 13:57:18,469 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 55600.0 CE
2025-05-09 13:57:18,579 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2555600CE
2025-05-09 13:57:18,579 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555600CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:57:18,580 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555600CE', 'symboltoken': '58571', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:57:19,255 - __main__ - INFO - Raw API response: 250509000564966
2025-05-09 13:57:19,256 - __main__ - INFO - Received order ID as direct string response: 250509000564966
2025-05-09 13:57:19,256 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250509000564966
2025-05-09 13:57:19,893 - options_trade_manager - ERROR - Order 250509000564966 was not executed successfully: rejected
2025-05-09 13:57:19,894 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-09 13:57:19,935 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-09 13:57:19,935 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-09 13:57:19,937 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-09 13:57:20,971 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-09 13:57:20,973 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-09 13:57:20,973 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-09 13:57:20,974 - options_trade_manager - INFO - Selected OTM strike: 55600.0 (depth 20)
2025-05-09 13:57:20,975 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 55600.0 CE
2025-05-09 13:57:21,112 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2555600CE
2025-05-09 13:57:21,113 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555600CE with client M543167, quantity: 30, producttype: INTRADAY, ordertype: MARKET
2025-05-09 13:57:21,113 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555600CE', 'symboltoken': '58571', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'MARKET', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '0'}
2025-05-09 13:57:21,741 - __main__ - INFO - Raw API response: 250509000583500
2025-05-09 13:57:21,741 - __main__ - INFO - Received order ID as direct string response: 250509000583500
2025-05-09 13:57:21,741 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250509000583500
2025-05-09 13:57:22,384 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-09 13:57:22,385 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:22] "POST /options-webhook HTTP/1.1" 200 -
2025-05-09 13:57:26,036 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 13:57:26,043 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:26,788 - options_module - INFO - Got price for index BANKNIFTY: 53605.95
2025-05-09 13:57:30,803 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-09 13:57:30,804 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:31,484 - options_module - INFO - Got price for index BANKNIFTY: 53597.75
2025-05-09 13:57:31,517 - TradeMonitorService - WARNING - Client M543167 not found for trade M543167_BANKNIFTY29MAY2555600CE
2025-05-09 13:57:37,241 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:38,032 - options_module - INFO - Got price for index BANKNIFTY: 53602.75
2025-05-09 13:57:41,519 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:42,146 - options_module - INFO - Got price for index BANKNIFTY: 53609.4
2025-05-09 13:57:42,147 - TradeMonitorService - WARNING - Client M543167 not found for trade M543167_BANKNIFTY29MAY2555600CE
2025-05-09 13:57:48,494 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:49,289 - options_module - INFO - Got price for index BANKNIFTY: 53602.95
2025-05-09 13:57:52,147 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:57:52,775 - options_module - INFO - Got price for index BANKNIFTY: 53602.6
2025-05-09 13:57:52,775 - TradeMonitorService - WARNING - Client M543167 not found for trade M543167_BANKNIFTY29MAY2555600CE
2025-05-09 13:57:57,616 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:57] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:57:57,754 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:57:57,882 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:57:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:57:59,745 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:58:01,555 - options_module - INFO - Got price for index BANKNIFTY: 53601.1
2025-05-09 13:58:02,294 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:02] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:58:02,663 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:58:02,776 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:58:03,433 - options_module - INFO - Got price for index BANKNIFTY: 53603.0
2025-05-09 13:58:03,434 - TradeMonitorService - WARNING - Client M543167 not found for trade M543167_BANKNIFTY29MAY2555600CE
2025-05-09 13:58:07,675 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-09 13:58:07,729 - __main__ - INFO - Attempting login for client: M543167
2025-05-09 13:58:09,484 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-09 13:58:09,484 - __main__ - INFO - Login successful for client: M543167
2025-05-09 13:58:09,484 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-09 13:58:09,485 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:09] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-09 13:58:09,490 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:09] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:58:09,503 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:58:12,171 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:58:12,838 - options_module - INFO - Got price for index BANKNIFTY: 53603.5
2025-05-09 13:58:13,435 - options_module - INFO - Getting price for BANKNIFTY on NSE
2025-05-09 13:58:13,935 - options_module - INFO - Got price for index BANKNIFTY: 53604.3
2025-05-09 13:58:17,428 - options_trade_manager - INFO - Starting reconciliation with broker positions...
2025-05-09 13:58:18,027 - options_trade_manager - INFO - Trade BANKNIFTY29MAY2555600CE was manually exited or doesn't exist in broker positions
2025-05-09 13:58:18,126 - options_trade_manager - INFO - Recorded completed trade for BANKNIFTY29MAY2555600CE in completed_option_trades.json
2025-05-09 13:58:18,126 - options_trade_manager - INFO - Reconciliation complete: removed 1 trades that were manually exited
2025-05-09 13:58:18,128 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:18] "GET /options HTTP/1.1" 200 -
2025-05-09 13:58:18,141 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:58:18,175 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 13:58:18,238 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 13:58:18,249 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:18] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 13:58:19,511 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:19] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:58:19,663 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:58:19,772 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:19] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:58:23,331 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:58:24,393 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-09 13:58:40,615 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:58:57,877 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:57] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:58:58,000 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:58:58,130 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:58] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:58:58,711 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:58] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:58:59,019 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:58:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:01,695 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:02,647 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:03,357 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:03] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:59:03,397 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:03,674 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:04,604 - __main__ - INFO - No trades found for today for M543167
2025-05-09 13:59:06,191 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:06] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 13:59:07,024 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:08,947 - __main__ - INFO - No trades found for today for M543167
2025-05-09 13:59:09,572 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:09] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:59:09,695 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:09,835 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:59:10,008 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:10] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 13:59:10,657 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:10] "GET /options HTTP/1.1" 200 -
2025-05-09 13:59:10,972 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:11,300 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-09 13:59:11,348 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-09 13:59:11,351 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:11] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-09 13:59:13,407 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:13] "GET /orders HTTP/1.1" 200 -
2025-05-09 13:59:13,418 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:15,666 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:15] "GET /positions HTTP/1.1" 200 -
2025-05-09 13:59:15,767 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:15,924 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-09 13:59:16,290 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:16] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:59:16,597 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:16] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:19,732 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:20,207 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:21,951 - __main__ - INFO - No trades found for today for M543167
2025-05-09 13:59:23,199 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:23] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 13:59:23,212 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:26,695 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:26] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:59:26,836 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:27,905 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-09 13:59:27,908 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-09 13:59:27,909 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:27] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-09 13:59:28,210 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:28] "GET /accounts HTTP/1.1" 200 -
2025-05-09 13:59:28,536 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:28] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:31,586 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:32,407 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-09 13:59:33,164 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:33] "GET /dashboard HTTP/1.1" 200 -
2025-05-09 13:59:33,177 - werkzeug - INFO - 127.0.0.1 - - [09/May/2025 13:59:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-09 13:59:45,716 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 13:59:55,181 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-09 14:00:03,348 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-09 14:00:03,360 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-10 12:08:45,720 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-10 12:08:45,730 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-10 12:08:45,741 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-10 12:08:45,742 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-10 12:08:45,764 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-10 12:08:45,764 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-10 12:08:45,765 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-10 12:08:45,765 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-10 12:08:45,766 - __main__ - INFO - Initializing 1 client connections
2025-05-10 12:08:45,814 - __main__ - INFO - Attempting login for client: V410166
2025-05-10 12:08:48,697 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-10 12:08:48,698 - __main__ - INFO - Login successful for client: V410166
2025-05-10 12:08:48,698 - __main__ - INFO - Client V410166 initialized successfully
2025-05-10 12:08:48,698 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-10 12:08:48,699 - options_module - INFO - Verifying client connection
2025-05-10 12:08:48,699 - options_module - INFO - Client connection verified with smart_api structure
2025-05-10 12:08:48,699 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-10 12:08:48,700 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-10 12:08:54,536 - options_module - INFO - Successfully loaded 121164 symbols from OpenAPI
2025-05-10 12:08:54,541 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-10 12:08:54,541 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-10 12:08:54,542 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-10 12:08:54,542 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-10 12:08:54,576 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.2:5000
2025-05-10 12:08:54,577 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-10 12:08:54,581 - werkzeug - INFO -  * Restarting with stat
2025-05-10 12:08:57,781 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-10 12:08:57,782 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-10 12:08:57,782 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-10 12:08:57,783 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-10 12:08:57,802 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-10 12:08:57,802 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-10 12:08:57,804 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-10 12:08:57,804 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-10 12:08:57,804 - __main__ - INFO - Initializing 1 client connections
2025-05-10 12:08:57,852 - __main__ - INFO - Attempting login for client: V410166
2025-05-10 12:09:00,217 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-10 12:09:00,217 - __main__ - INFO - Login successful for client: V410166
2025-05-10 12:09:00,218 - __main__ - INFO - Client V410166 initialized successfully
2025-05-10 12:09:00,218 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-10 12:09:00,218 - options_module - INFO - Verifying client connection
2025-05-10 12:09:00,218 - options_module - INFO - Client connection verified with smart_api structure
2025-05-10 12:09:00,219 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-10 12:09:00,219 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-10 12:09:05,958 - options_module - INFO - Successfully loaded 121164 symbols from OpenAPI
2025-05-10 12:09:05,964 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-10 12:09:05,964 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-10 12:09:05,965 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-10 12:09:05,965 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-10 12:09:05,984 - werkzeug - WARNING -  * Debugger is active!
2025-05-10 12:09:06,023 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-10 12:10:40,109 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:40] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-10 12:10:40,579 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:40] "GET /login HTTP/1.1" 200 -
2025-05-10 12:10:40,832 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:40] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-10 12:10:41,452 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:41] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-10 12:10:50,187 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:50] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-10 12:10:50,572 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:10:50] "GET / HTTP/1.1" 200 -
2025-05-10 12:11:09,572 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:09] "GET /positions HTTP/1.1" 200 -
2025-05-10 12:11:09,588 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:11:09,670 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-10 12:11:11,603 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:11] "GET /accounts HTTP/1.1" 200 -
2025-05-10 12:11:11,697 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:11:15,348 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-10 12:11:15,394 - __main__ - INFO - Attempting login for client: M543167
2025-05-10 12:11:18,001 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-10 12:11:18,001 - __main__ - INFO - Login successful for client: M543167
2025-05-10 12:11:18,001 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-10 12:11:18,003 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:18] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-10 12:11:18,028 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-10 12:11:18,029 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-10 12:11:18,030 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:18] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-10 12:11:18,341 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:18] "GET /accounts HTTP/1.1" 200 -
2025-05-10 12:11:18,669 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:11:21,373 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-10 12:11:21,424 - __main__ - INFO - Attempting login for client: M543167
2025-05-10 12:11:23,987 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-10 12:11:23,987 - __main__ - INFO - Login successful for client: M543167
2025-05-10 12:11:23,988 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-10 12:11:23,990 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:23] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-10 12:11:24,000 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:24] "GET /accounts HTTP/1.1" 200 -
2025-05-10 12:11:24,331 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:11:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:11:58,267 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "20", "expiry_preference": "29MAY2025", "underlying_price": "53600", "underlying_stop_loss": "53550", "underlying_target": "543650", "ordertype": "LIMIT", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-10 12:11:58,268 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-10 12:11:58,268 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 20
2025-05-10 12:11:58,269 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-10 12:11:58,382 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-10 12:11:58,389 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-10 12:11:58,396 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-10 12:12:05,801 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-10 12:12:05,802 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-10 12:12:05,802 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-10 12:12:05,803 - options_trade_manager - INFO - Selected OTM strike: 55600.0 (depth 20)
2025-05-10 12:12:05,804 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 55600.0 CE
2025-05-10 12:12:05,851 - options_module - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-10 12:12:05,855 - options_module - INFO - Adjusted to nearest available strike: 55600.0 (original: 55600.0)
2025-05-10 12:12:05,964 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2555600CE
2025-05-10 12:12:06,783 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555600CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: LIMIT
2025-05-10 12:12:06,783 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555600CE', 'symboltoken': '58571', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '281.94'}
2025-05-10 12:12:07,608 - __main__ - INFO - Raw API response: 0510b229f2bdAO
2025-05-10 12:12:07,608 - __main__ - INFO - Received order ID as direct string response: 0510b229f2bdAO
2025-05-10 12:12:07,609 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0510b229f2bdAO
2025-05-10 12:12:08,565 - options_trade_manager - INFO - Order 0510b229f2bdAO is still in open state, waiting...
2025-05-10 12:12:14,620 - options_trade_manager - INFO - Order 0510b229f2bdAO is still in open state, waiting...
2025-05-10 12:12:21,658 - options_trade_manager - INFO - Order 0510b229f2bdAO is still in open state, waiting...
2025-05-10 12:12:26,659 - options_trade_manager - WARNING - Could not verify order 0510b229f2bdAO execution after 3 attempts
2025-05-10 12:12:26,660 - options_trade_manager - ERROR - Order 0510b229f2bdAO was not executed successfully: unknown
2025-05-10 12:12:26,660 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-10 12:12:26,661 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:26] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-10 12:12:45,060 - account_manager - INFO - Successfully saved 1 accounts to accounts.json
2025-05-10 12:12:45,062 - __main__ - INFO - Client M543167 (manas) deactivated and removed from active clients
2025-05-10 12:12:45,063 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:45] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-10 12:12:45,092 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:45] "GET /accounts HTTP/1.1" 200 -
2025-05-10 12:12:45,321 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:12:47,437 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-10 12:12:47,485 - __main__ - INFO - Attempting login for client: M543167
2025-05-10 12:12:50,029 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-10 12:12:50,029 - __main__ - INFO - Login successful for client: M543167
2025-05-10 12:12:50,030 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-10 12:12:50,031 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:50] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-10 12:12:50,038 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:50] "GET /accounts HTTP/1.1" 200 -
2025-05-10 12:12:50,362 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:12:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-10 12:13:02,861 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "Buy", "symbol": "BANKNIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "20", "expiry_preference": "29MAY2025", "underlying_price": "53600", "underlying_stop_loss": "53550", "underlying_target": "543650", "ordertype": "LIMIT", "producttype": "INTRADAY", "exit_ordertype": "MARKET"}
2025-05-10 12:13:02,861 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-10 12:13:02,862 - options_trade_manager - INFO - Processing BUY signal for BANKNIFTY, selecting CE options with depth 20
2025-05-10 12:13:02,862 - options_module - INFO - Fetching options for BANKNIFTY with expiry 29MAY2025
2025-05-10 12:13:02,917 - options_module - INFO - Found 188 calls and 188 puts in DataFrame
2025-05-10 12:13:02,917 - options_module - INFO - Dynamically determined step size: 100.0 from strike price data
2025-05-10 12:13:02,920 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 53600.0
2025-05-10 12:13:09,176 - options_module - INFO - Prepared 13 calls and 13 puts for BANKNIFTY/29MAY2025
2025-05-10 12:13:09,177 - options_trade_manager - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-10 12:13:09,177 - options_trade_manager - INFO - Calculated ATM strike: 53600.0 for underlying price: 53600.0
2025-05-10 12:13:09,178 - options_trade_manager - INFO - Selected OTM strike: 55600.0 (depth 20)
2025-05-10 12:13:09,178 - options_module - INFO - Looking for option contract: BANKNIFTY 29MAY2025 55600.0 CE
2025-05-10 12:13:09,224 - options_module - INFO - Dynamically determined step size: 100.0 for BANKNIFTY
2025-05-10 12:13:09,225 - options_module - INFO - Adjusted to nearest available strike: 55600.0 (original: 55600.0)
2025-05-10 12:13:09,334 - options_trade_manager - INFO - Found option contract: BANKNIFTY29MAY2555600CE
2025-05-10 12:13:10,160 - options_trade_manager - INFO - Placing order for BANKNIFTY29MAY2555600CE with client V410166, quantity: 30, producttype: INTRADAY, ordertype: LIMIT
2025-05-10 12:13:10,161 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'BANKNIFTY29MAY2555600CE', 'symboltoken': '58571', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'INTRADAY', 'duration': 'DAY', 'quantity': '30', 'price': '281.94'}
2025-05-10 12:13:10,975 - __main__ - INFO - Raw API response: 05100e838765AO
2025-05-10 12:13:10,975 - __main__ - INFO - Received order ID as direct string response: 05100e838765AO
2025-05-10 12:13:10,975 - options_trade_manager - INFO - Option order placed successfully for client V410166: 05100e838765AO
2025-05-10 12:13:11,756 - options_trade_manager - INFO - Order 05100e838765AO is still in open state, waiting...
2025-05-10 12:13:18,833 - options_trade_manager - INFO - Order 05100e838765AO is still in open state, waiting...
2025-05-10 12:13:25,823 - options_trade_manager - INFO - Order 05100e838765AO is still in open state, waiting...
2025-05-10 12:13:30,824 - options_trade_manager - WARNING - Could not verify order 05100e838765AO execution after 3 attempts
2025-05-10 12:13:30,825 - options_trade_manager - ERROR - Order 05100e838765AO was not executed successfully: unknown
2025-05-10 12:13:30,825 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-10 12:13:30,826 - werkzeug - INFO - 127.0.0.1 - - [10/May/2025 12:13:30] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-10 12:13:47,911 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-10 12:13:58,077 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-10 12:14:05,882 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-10 12:14:05,884 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-14 10:44:17,769 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 10:44:17,781 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 10:44:17,783 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 10:44:17,784 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 10:44:17,812 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 10:44:17,812 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 10:44:17,815 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 10:44:17,815 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 10:44:17,816 - __main__ - INFO - Initializing 2 client connections
2025-05-14 10:44:17,880 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 10:44:20,572 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 10:44:20,572 - __main__ - INFO - Login successful for client: V410166
2025-05-14 10:44:20,573 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 10:44:20,635 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 10:44:23,309 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 10:44:23,309 - __main__ - INFO - Login successful for client: M543167
2025-05-14 10:44:23,309 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 10:44:23,310 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 10:44:23,310 - options_module - INFO - Verifying client connection
2025-05-14 10:44:23,310 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 10:44:23,311 - options_module - INFO - Verifying client connection
2025-05-14 10:44:23,311 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 10:44:23,311 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 10:44:23,312 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 10:44:29,433 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 10:44:29,439 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 10:44:29,439 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 10:44:29,440 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 10:44:29,440 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 10:44:29,441 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 10:44:29,491 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.6:5000
2025-05-14 10:44:29,492 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-14 10:44:29,498 - werkzeug - INFO -  * Restarting with stat
2025-05-14 10:44:31,781 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 10:44:31,782 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 10:44:31,783 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 10:44:31,783 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 10:44:31,804 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 10:44:31,804 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 10:44:31,805 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 10:44:31,805 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 10:44:31,807 - __main__ - INFO - Initializing 2 client connections
2025-05-14 10:44:31,886 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 10:44:34,137 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 10:44:34,138 - __main__ - INFO - Login successful for client: V410166
2025-05-14 10:44:34,138 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 10:44:34,183 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 10:44:36,849 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 10:44:36,849 - __main__ - INFO - Login successful for client: M543167
2025-05-14 10:44:36,850 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 10:44:36,850 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 10:44:36,850 - options_module - INFO - Verifying client connection
2025-05-14 10:44:36,851 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 10:44:36,851 - options_module - INFO - Verifying client connection
2025-05-14 10:44:36,851 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 10:44:36,851 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 10:44:36,852 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 10:44:43,038 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 10:44:43,043 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 10:44:43,043 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 10:44:43,044 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 10:44:43,044 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 10:44:43,045 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 10:44:43,064 - werkzeug - WARNING -  * Debugger is active!
2025-05-14 10:44:43,069 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-14 10:44:57,628 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:44:57] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-14 10:44:57,831 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:44:57] "GET /login HTTP/1.1" 200 -
2025-05-14 10:44:58,017 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:44:58] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-14 10:45:04,332 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:04] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-14 10:45:04,679 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:04] "GET / HTTP/1.1" 200 -
2025-05-14 10:45:06,613 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:06] "GET /accounts HTTP/1.1" 200 -
2025-05-14 10:45:06,715 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:45:07,851 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:07] "GET /options HTTP/1.1" 200 -
2025-05-14 10:45:08,032 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:45:08,398 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-14 10:45:08,468 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-14 10:45:08,472 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:08] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-14 10:45:09,135 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:09] "GET /positions HTTP/1.1" 200 -
2025-05-14 10:45:09,348 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:09] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:45:09,684 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:45:11,682 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:11] "GET /accounts HTTP/1.1" 200 -
2025-05-14 10:45:11,999 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:45:13,003 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:13] "GET /options HTTP/1.1" 200 -
2025-05-14 10:45:13,106 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:45:13,252 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-14 10:45:13,303 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-14 10:45:13,308 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:13] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-14 10:45:15,322 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:15] "GET /orders HTTP/1.1" 200 -
2025-05-14 10:45:15,336 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:45:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:48:02,340 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:48:02] "GET /positions HTTP/1.1" 200 -
2025-05-14 10:48:02,508 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:48:02] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 10:48:02,600 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:48:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:48:22,670 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:48:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:48:42,968 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:48:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:48:46,553 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "ITM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24095.60", "underlying_stop_loss": "24200", "underlying_target": "24000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 10:48:46,554 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 10:48:46,554 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 10:48:46,554 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:48:46,639 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:48:46,643 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:48:46,652 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-14 10:48:53,372 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:48:53,373 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:48:53,373 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-14 10:48:53,373 - options_trade_manager - INFO - Selected ITM strike: 25100.0 (depth 20)
2025-05-14 10:48:53,374 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 25100.0 PE
2025-05-14 10:48:53,413 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:48:53,473 - options_module - INFO - Adjusted to nearest available strike: 25100.0 (original: 25100.0)
2025-05-14 10:48:53,612 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2525100PE
2025-05-14 10:48:54,384 - options_trade_manager - INFO - Placing order for NIFTY15MAY2525100PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:48:54,384 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2525100PE', 'symboltoken': '46295', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '410.46'}
2025-05-14 10:48:55,152 - __main__ - INFO - Raw API response: 250514000374293
2025-05-14 10:48:55,152 - __main__ - INFO - Received order ID as direct string response: 250514000374293
2025-05-14 10:48:55,153 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250514000374293
2025-05-14 10:48:55,895 - options_trade_manager - ERROR - Order 250514000374293 was not executed successfully: rejected
2025-05-14 10:48:55,922 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:48:55,962 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:48:55,963 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:48:55,967 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24100.0
2025-05-14 10:49:01,568 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:49:01,568 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:49:01,569 - options_trade_manager - INFO - Calculated ATM strike: 24100.0 for underlying price: 24095.6
2025-05-14 10:49:01,569 - options_trade_manager - INFO - Selected ITM strike: 25100.0 (depth 20)
2025-05-14 10:49:01,569 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 25100.0 PE
2025-05-14 10:49:01,609 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:49:01,610 - options_module - INFO - Adjusted to nearest available strike: 25100.0 (original: 25100.0)
2025-05-14 10:49:01,719 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2525100PE
2025-05-14 10:49:02,469 - options_trade_manager - INFO - Placing order for NIFTY15MAY2525100PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:49:02,470 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2525100PE', 'symboltoken': '46295', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '412.08'}
2025-05-14 10:49:03,205 - __main__ - INFO - Raw API response: 250514000390243
2025-05-14 10:49:03,205 - __main__ - INFO - Received order ID as direct string response: 250514000390243
2025-05-14 10:49:03,206 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250514000390243
2025-05-14 10:49:03,500 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:49:03] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:49:03,974 - options_trade_manager - ERROR - Order 250514000390243 was not executed successfully: rejected
2025-05-14 10:49:03,975 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-14 10:49:03,975 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:49:03] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-14 10:49:22,968 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:49:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:49:42,654 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:49:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:51:00,979 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:51:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:51:23,888 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:51:23] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:51:42,668 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:51:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:52:02,994 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:52:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:52:18,020 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24700.60", "underlying_stop_loss": "24800", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 10:52:18,021 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 10:52:18,021 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 10:52:18,022 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:52:18,022 - options_module - INFO - Cleaned 26 expired entries from price cache
2025-05-14 10:52:18,088 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:52:18,089 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:52:18,096 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 10:52:24,124 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:52:24] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:52:25,334 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:52:25,335 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:52:25,336 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 10:52:25,336 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 10:52:25,336 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 10:52:25,378 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:52:25,378 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 10:52:25,496 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 10:52:26,313 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:52:26,314 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '111.76'}
2025-05-14 10:52:27,143 - __main__ - INFO - Raw API response: 250514000381855
2025-05-14 10:52:27,144 - __main__ - INFO - Received order ID as direct string response: 250514000381855
2025-05-14 10:52:27,144 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250514000381855
2025-05-14 10:52:28,025 - options_trade_manager - ERROR - Order 250514000381855 was not executed successfully: rejected
2025-05-14 10:52:28,026 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:52:28,077 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:52:28,078 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:52:28,084 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 10:52:34,763 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:52:34,763 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:52:34,764 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 10:52:34,764 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 10:52:34,765 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 10:52:34,806 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:52:34,806 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 10:52:34,926 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 10:52:35,816 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:52:35,817 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '112.72'}
2025-05-14 10:52:36,689 - __main__ - INFO - Raw API response: 250514000398367
2025-05-14 10:52:36,689 - __main__ - INFO - Received order ID as direct string response: 250514000398367
2025-05-14 10:52:36,689 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250514000398367
2025-05-14 10:52:37,548 - options_trade_manager - ERROR - Order 250514000398367 was not executed successfully: rejected
2025-05-14 10:52:37,548 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-14 10:52:37,549 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:52:37] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-14 10:53:00,981 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:53:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:54:00,979 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:54:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:54:27,938 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24700.60", "underlying_stop_loss": "24800", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 10:54:27,939 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 10:54:27,939 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 10:54:27,940 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:54:28,030 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:54:28,031 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:54:28,038 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 10:54:35,930 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:54:35,931 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:54:35,931 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 10:54:35,931 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 10:54:35,932 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 10:54:36,023 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:54:36,024 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 10:54:36,177 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 10:54:37,025 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:54:37,026 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '111.35'}
2025-05-14 10:54:37,855 - __main__ - INFO - Raw API response: 250514000386857
2025-05-14 10:54:37,855 - __main__ - INFO - Received order ID as direct string response: 250514000386857
2025-05-14 10:54:37,855 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250514000386857
2025-05-14 10:54:38,705 - options_trade_manager - ERROR - Order 250514000386857 was not executed successfully: rejected
2025-05-14 10:54:38,705 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 10:54:38,749 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 10:54:38,751 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 10:54:38,755 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 10:54:45,196 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 10:54:45,197 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:54:45,197 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 10:54:45,198 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 10:54:45,198 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 10:54:45,282 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 10:54:45,282 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 10:54:45,457 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 10:54:46,247 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 10:54:46,247 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '109.64'}
2025-05-14 10:54:47,030 - __main__ - INFO - Raw API response: 250514000403603
2025-05-14 10:54:47,030 - __main__ - INFO - Received order ID as direct string response: 250514000403603
2025-05-14 10:54:47,031 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250514000403603
2025-05-14 10:54:47,845 - options_trade_manager - ERROR - Order 250514000403603 was not executed successfully: rejected
2025-05-14 10:54:47,845 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-14 10:54:47,846 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:54:47] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-14 10:55:00,662 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:55:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:55:34,516 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:55:34] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:55:42,978 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:55:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:56:02,674 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:56:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:56:22,970 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:56:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:57:00,685 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:57:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:58:00,990 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 10:58:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 10:58:42,336 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 10:58:52,760 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 10:58:57,918 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-14 10:58:57,933 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-14 11:08:51,133 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 11:08:51,154 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 11:08:51,170 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 11:08:51,171 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 11:08:51,195 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:08:51,196 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 11:08:51,197 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 11:08:51,197 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 11:08:51,199 - __main__ - INFO - Initializing 2 client connections
2025-05-14 11:08:51,267 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 11:08:54,433 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:08:54,434 - __main__ - INFO - Login successful for client: V410166
2025-05-14 11:08:54,434 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 11:08:54,488 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 11:08:57,546 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:08:57,546 - __main__ - INFO - Login successful for client: M543167
2025-05-14 11:08:57,547 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 11:08:57,547 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 11:08:57,548 - options_module - INFO - Verifying client connection
2025-05-14 11:08:57,548 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:08:57,549 - options_module - INFO - Verifying client connection
2025-05-14 11:08:57,550 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:08:57,550 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 11:08:57,551 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 11:09:05,339 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 11:09:05,347 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:09:05,348 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 11:09:05,349 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 11:09:05,350 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 11:09:05,350 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 11:09:05,406 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.6:5000
2025-05-14 11:09:05,407 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-14 11:09:05,414 - werkzeug - INFO -  * Restarting with stat
2025-05-14 11:09:08,831 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 11:09:08,832 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 11:09:08,833 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 11:09:08,833 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 11:09:08,871 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:09:08,871 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 11:09:08,874 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 11:09:08,874 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 11:09:08,876 - __main__ - INFO - Initializing 2 client connections
2025-05-14 11:09:08,961 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 11:09:12,077 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:09:12,077 - __main__ - INFO - Login successful for client: V410166
2025-05-14 11:09:12,078 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 11:09:12,144 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 11:09:14,900 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:09:14,900 - __main__ - INFO - Login successful for client: M543167
2025-05-14 11:09:14,901 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 11:09:14,901 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 11:09:14,902 - options_module - INFO - Verifying client connection
2025-05-14 11:09:14,902 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:09:14,902 - options_module - INFO - Verifying client connection
2025-05-14 11:09:14,903 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:09:14,903 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 11:09:14,904 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 11:09:25,962 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 11:09:25,971 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:09:25,971 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 11:09:25,972 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 11:09:25,972 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 11:09:25,973 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 11:09:25,992 - werkzeug - WARNING -  * Debugger is active!
2025-05-14 11:09:25,999 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-14 11:09:53,195 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:53] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:09:53,729 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:53] "GET /login HTTP/1.1" 200 -
2025-05-14 11:09:54,022 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:54] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-14 11:09:54,346 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:54] "GET /login HTTP/1.1" 200 -
2025-05-14 11:09:54,547 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:09:59,047 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:59] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-14 11:09:59,420 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:09:59] "GET / HTTP/1.1" 200 -
2025-05-14 11:10:04,268 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24700.60", "underlying_stop_loss": "24800", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 11:10:04,268 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 11:10:04,269 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 11:10:04,269 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 11:10:04,389 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 11:10:04,394 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 11:10:04,407 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 11:10:13,385 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 11:10:13,386 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:10:13,387 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 11:10:13,387 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 11:10:13,387 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 11:10:13,475 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:10:13,476 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 11:10:13,720 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 11:10:14,167 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:14] "GET /positions HTTP/1.1" 200 -
2025-05-14 11:10:14,199 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:10:14,250 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:10:16,216 - options_trade_manager - ERROR - Error processing option signal: OptionsTradeManager.round_to_5_paisa() takes 1 positional argument but 2 were given
2025-05-14 11:10:16,218 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:16] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-14 11:10:35,050 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:10:55,067 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:10:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:11:15,069 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:11:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:11:17,822 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\options_trade_manager.py', reloading
2025-05-14 11:11:17,823 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 11:11:18,898 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-14 11:11:18,902 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-14 11:11:19,237 - werkzeug - INFO -  * Restarting with stat
2025-05-14 11:11:21,230 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:11:23,170 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 11:11:23,172 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 11:11:23,173 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 11:11:23,174 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 11:11:23,208 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:11:23,208 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 11:11:23,210 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 11:11:23,211 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 11:11:23,212 - __main__ - INFO - Initializing 2 client connections
2025-05-14 11:11:23,297 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 11:11:26,780 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:11:26,781 - __main__ - INFO - Login successful for client: V410166
2025-05-14 11:11:26,781 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 11:11:26,833 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 11:11:29,668 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:11:29,668 - __main__ - INFO - Login successful for client: M543167
2025-05-14 11:11:29,669 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 11:11:29,669 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 11:11:29,670 - options_module - INFO - Verifying client connection
2025-05-14 11:11:29,670 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:11:29,671 - options_module - INFO - Verifying client connection
2025-05-14 11:11:29,671 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:11:29,672 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 11:11:29,672 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 11:11:36,680 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 11:11:36,689 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:11:36,689 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 11:11:36,690 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 11:11:36,691 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 11:11:36,692 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 11:11:36,719 - werkzeug - WARNING -  * Debugger is active!
2025-05-14 11:11:36,724 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-14 11:11:36,744 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:11:36] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:11:36,783 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:11:36] "GET /login HTTP/1.1" 200 -
2025-05-14 11:11:55,061 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:11:55] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:11:55,320 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:11:55] "GET /login HTTP/1.1" 200 -
2025-05-14 11:13:01,077 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:13:01,339 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:13:08,249 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24700.60", "underlying_stop_loss": "24800", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 11:13:08,250 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 11:13:08,251 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 11:13:08,252 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 11:13:08,346 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 11:13:08,349 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 11:13:08,357 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 11:13:16,025 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 11:13:16,026 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:13:16,027 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 11:13:16,027 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 11:13:16,028 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 11:13:16,119 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:13:16,119 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 11:13:16,368 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 11:13:17,915 - options_trade_manager - ERROR - Error processing option signal: OptionsTradeManager.round_to_5_paisa() takes 1 positional argument but 2 were given
2025-05-14 11:13:17,916 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:17] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-14 11:13:47,024 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:47] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:13:47,352 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:47] "GET /login HTTP/1.1" 200 -
2025-05-14 11:13:54,755 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:54] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:13:55,071 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:13:55] "GET /login HTTP/1.1" 200 -
2025-05-14 11:14:15,071 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:14:15] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:14:15,342 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:14:15] "GET /login HTTP/1.1" 200 -
2025-05-14 11:14:34,765 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:14:34] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:14:35,087 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:14:35] "GET /login HTTP/1.1" 200 -
2025-05-14 11:15:00,794 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:15:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:15:01,119 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:15:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:16:01,068 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:16:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:16:01,331 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:16:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:17:01,092 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:17:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:17:01,338 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:17:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:18:01,097 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:18:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:18:01,346 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:18:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:19:00,368 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:19:00,608 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:00] "GET /login HTTP/1.1" 200 -
2025-05-14 11:19:14,783 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:14] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:19:15,230 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:15] "GET /login HTTP/1.1" 200 -
2025-05-14 11:19:34,780 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:34] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:19:35,088 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:35] "GET /login HTTP/1.1" 200 -
2025-05-14 11:19:54,793 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:54] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:19:55,107 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:19:55] "GET /login HTTP/1.1" 200 -
2025-05-14 11:21:01,092 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:21:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:21:01,354 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:21:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:22:01,134 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:22:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:22:01,400 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:22:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:23:00,808 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:23:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:23:01,126 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:23:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:24:00,802 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:24:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:24:01,126 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:24:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:25:00,808 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:25:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:25:01,132 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:25:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:26:00,809 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:26:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:26:01,158 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:26:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:27:00,816 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:27:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:27:01,164 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:27:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:28:00,819 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:28:00] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:28:01,127 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:28:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:29:01,122 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:29:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:29:01,379 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:29:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:30:01,136 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:30:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:30:01,406 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:30:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:30:21,477 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\options_trade_manager.py', reloading
2025-05-14 11:30:21,488 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 11:30:23,391 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-14 11:30:23,398 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-14 11:30:24,278 - werkzeug - INFO -  * Restarting with stat
2025-05-14 11:30:28,406 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 11:30:28,408 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 11:30:28,408 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 11:30:28,409 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 11:30:28,438 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:30:28,439 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 11:30:28,441 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 11:30:28,441 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 11:30:28,442 - __main__ - INFO - Initializing 2 client connections
2025-05-14 11:30:28,494 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 11:30:30,581 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:30:30,582 - __main__ - INFO - Login successful for client: V410166
2025-05-14 11:30:30,582 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 11:30:30,649 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 11:30:31,424 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:30:32,957 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 11:30:32,957 - __main__ - INFO - Login successful for client: M543167
2025-05-14 11:30:32,958 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 11:30:32,958 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 11:30:32,959 - options_module - INFO - Verifying client connection
2025-05-14 11:30:32,959 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:30:32,960 - options_module - INFO - Verifying client connection
2025-05-14 11:30:32,960 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 11:30:32,961 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 11:30:32,961 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 11:30:40,222 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 11:30:40,229 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:30:40,230 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 11:30:40,231 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 11:30:40,231 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 11:30:40,232 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 11:30:40,268 - werkzeug - WARNING -  * Debugger is active!
2025-05-14 11:30:40,276 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-14 11:31:01,125 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:31:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:31:01,420 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:31:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:31:22,947 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24700.60", "underlying_stop_loss": "24800", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 11:31:22,947 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 11:31:22,948 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 11:31:22,948 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 11:31:23,024 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 11:31:23,029 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 11:31:23,036 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 11:31:29,241 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 11:31:29,243 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:31:29,243 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 11:31:29,244 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 11:31:29,244 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 11:31:29,352 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:31:29,355 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 11:31:29,713 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 11:31:31,634 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 11:31:31,634 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '100.7'}
2025-05-14 11:31:33,140 - __main__ - INFO - Raw API response: 250514000452717
2025-05-14 11:31:33,141 - __main__ - INFO - Received order ID as direct string response: 250514000452717
2025-05-14 11:31:33,141 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250514000452717
2025-05-14 11:31:35,618 - options_trade_manager - ERROR - Order 250514000452717 was not executed successfully: rejected
2025-05-14 11:31:35,619 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 11:31:35,725 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 11:31:35,726 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 11:31:35,734 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24700.0
2025-05-14 11:31:44,005 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 11:31:44,005 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:31:44,006 - options_trade_manager - INFO - Calculated ATM strike: 24700.0 for underlying price: 24700.6
2025-05-14 11:31:44,006 - options_trade_manager - INFO - Selected 0TM strike: 24700.0 (depth 20)
2025-05-14 11:31:44,006 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24700.0 PE
2025-05-14 11:31:44,044 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 11:31:44,045 - options_module - INFO - Adjusted to nearest available strike: 24700.0 (original: 24700.0)
2025-05-14 11:31:44,164 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524700PE
2025-05-14 11:31:45,655 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524700PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 11:31:45,656 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524700PE', 'symboltoken': '46279', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '100.15'}
2025-05-14 11:31:48,990 - __main__ - INFO - Raw API response: 250514000471995
2025-05-14 11:31:48,994 - __main__ - INFO - Received order ID as direct string response: 250514000471995
2025-05-14 11:31:48,994 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250514000471995
2025-05-14 11:31:50,849 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-14 11:31:50,850 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:31:50] "POST /options-webhook HTTP/1.1" 200 -
2025-05-14 11:31:51,558 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-14 11:31:51,570 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:31:52,764 - options_module - INFO - Got price for index NIFTY: 24714.15
2025-05-14 11:31:58,455 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-14 11:31:58,456 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:32:00,424 - options_module - INFO - Got price for index NIFTY: 24714.35
2025-05-14 11:32:01,142 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:01] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:32:01,398 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:01] "GET /login HTTP/1.1" 200 -
2025-05-14 11:32:03,549 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:32:04,134 - options_module - INFO - Got price for index NIFTY: 24713.9
2025-05-14 11:32:11,104 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:32:11,883 - options_module - INFO - Got price for index NIFTY: 24714.7
2025-05-14 11:32:14,302 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:14] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-14 11:32:14,342 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:14] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 11:32:14,565 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:14] "GET /login HTTP/1.1" 200 -
2025-05-14 11:32:14,882 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:14] "GET /login HTTP/1.1" 200 -
2025-05-14 11:32:15,203 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:32:15,484 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:32:16,965 - options_module - INFO - Got price for index NIFTY: 24716.6
2025-05-14 11:32:19,737 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:19] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-14 11:32:20,104 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:20] "GET / HTTP/1.1" 200 -
2025-05-14 11:32:21,292 - options_trade_manager - INFO - Starting reconciliation with broker positions...
2025-05-14 11:32:22,578 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 11:32:22,596 - options_trade_manager - INFO - Trade NIFTY15MAY2524700PE was manually exited or doesn't exist in broker positions
2025-05-14 11:32:22,666 - options_trade_manager - INFO - Recorded completed trade for NIFTY15MAY2524700PE in completed_option_trades.json
2025-05-14 11:32:22,666 - options_trade_manager - INFO - Reconciliation complete: removed 1 trades that were manually exited
2025-05-14 11:32:23,067 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:23] "GET /options HTTP/1.1" 200 -
2025-05-14 11:32:23,092 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:32:23,470 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-14 11:32:23,593 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-14 11:32:23,603 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:23] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-14 11:32:23,972 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:23] "GET /positions HTTP/1.1" 200 -
2025-05-14 11:32:24,047 - options_module - INFO - Got price for index NIFTY: 24717.05
2025-05-14 11:32:24,267 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:32:24,632 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:24] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:32:28,532 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:32:35,419 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 11:32:40,793 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 11:32:42,040 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-14 11:32:44,326 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:44] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:32:45,959 - __main__ - INFO - No trades found for today for M543167
2025-05-14 11:32:50,436 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:50] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 11:32:50,469 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:32:55,976 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:55] "GET /positions HTTP/1.1" 200 -
2025-05-14 11:32:56,104 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:32:56,225 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:32:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:33:05,553 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:33:05] "GET /positions HTTP/1.1" 200 -
2025-05-14 11:33:05,575 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:33:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 11:33:05,834 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:33:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:33:26,149 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:33:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:33:46,140 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:33:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:34:06,132 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:34:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:34:26,133 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:34:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:34:46,146 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:34:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:36:01,149 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:36:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:37:01,157 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:37:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:38:00,906 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:38:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:39:01,153 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:39:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:39:05,492 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 11:39:05,493 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 11:39:05,493 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 11:40:00,888 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:40:00] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:40:55,975 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 11:40:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 11:41:01,212 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 11:41:05,924 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 11:41:08,609 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-14 11:41:08,615 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-14 12:18:12,470 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 12:18:12,471 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 12:18:12,471 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 12:18:12,472 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 12:18:12,489 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 12:18:12,489 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 12:18:12,490 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 12:18:12,491 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 12:18:12,491 - __main__ - INFO - Initializing 2 client connections
2025-05-14 12:18:12,536 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 12:18:14,945 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 12:18:14,946 - __main__ - INFO - Login successful for client: V410166
2025-05-14 12:18:14,946 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 12:18:14,993 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 12:18:17,319 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 12:18:17,319 - __main__ - INFO - Login successful for client: M543167
2025-05-14 12:18:17,319 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 12:18:17,319 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 12:18:17,320 - options_module - INFO - Verifying client connection
2025-05-14 12:18:17,320 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 12:18:17,320 - options_module - INFO - Verifying client connection
2025-05-14 12:18:17,321 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 12:18:17,321 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 12:18:17,321 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 12:18:23,511 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 12:18:23,518 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 12:18:23,518 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 12:18:23,519 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 12:18:23,520 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 12:18:23,520 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 12:18:23,571 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.6:5000
2025-05-14 12:18:23,572 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-14 12:18:23,579 - werkzeug - INFO -  * Restarting with stat
2025-05-14 12:18:26,581 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-14 12:18:26,582 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-14 12:18:26,582 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-14 12:18:26,583 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-14 12:18:26,607 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 12:18:26,607 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-14 12:18:26,608 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-14 12:18:26,609 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-14 12:18:26,610 - __main__ - INFO - Initializing 2 client connections
2025-05-14 12:18:26,677 - __main__ - INFO - Attempting login for client: V410166
2025-05-14 12:18:29,180 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 12:18:29,181 - __main__ - INFO - Login successful for client: V410166
2025-05-14 12:18:29,181 - __main__ - INFO - Client V410166 initialized successfully
2025-05-14 12:18:29,237 - __main__ - INFO - Attempting login for client: M543167
2025-05-14 12:18:32,009 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-14 12:18:32,010 - __main__ - INFO - Login successful for client: M543167
2025-05-14 12:18:32,010 - __main__ - INFO - Client M543167 initialized successfully
2025-05-14 12:18:32,010 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-14 12:18:32,011 - options_module - INFO - Verifying client connection
2025-05-14 12:18:32,011 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 12:18:32,011 - options_module - INFO - Verifying client connection
2025-05-14 12:18:32,011 - options_module - INFO - Client connection verified with smart_api structure
2025-05-14 12:18:32,012 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-14 12:18:32,012 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-14 12:18:39,595 - options_module - INFO - Successfully loaded 124674 symbols from OpenAPI
2025-05-14 12:18:39,602 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 12:18:39,602 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-14 12:18:39,603 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 12:18:39,603 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 12:18:39,604 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 12:18:39,635 - werkzeug - WARNING -  * Debugger is active!
2025-05-14 12:18:39,650 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-14 12:18:39,691 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:39] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-14 12:18:39,746 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:39] "GET /login HTTP/1.1" 200 -
2025-05-14 12:18:39,949 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:39] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-14 12:18:40,339 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:40] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-14 12:18:58,244 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:18:58,484 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:18:58,488 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:58] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-14 12:18:58,514 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:18:58] "GET / HTTP/1.1" 200 -
2025-05-14 12:19:05,066 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:05] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:19:05,079 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:05] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:19:05,152 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:19:11,744 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:19:12,902 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-14 12:19:15,946 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:19:17,834 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:17] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:19:17,848 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:19:34,691 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:34] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:19:34,719 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:19:34,767 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:34] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:19:54,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:54] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:19:58,231 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:19:58,495 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:19:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:20:14,934 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:20:35,014 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "15MAY2025", "underlying_price": "24670", "underlying_stop_loss": "24720", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-14 12:20:35,016 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-14 12:20:35,018 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-14 12:20:35,019 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 12:20:35,078 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:20:35,128 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 12:20:35,132 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 12:20:35,143 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-14 12:20:42,676 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 12:20:42,677 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 12:20:42,677 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-14 12:20:42,678 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-14 12:20:42,678 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24650.0 PE
2025-05-14 12:20:42,720 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 12:20:42,721 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-14 12:20:42,848 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524650PE
2025-05-14 12:20:43,790 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524650PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 12:20:43,791 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524650PE', 'symboltoken': '46277', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '89.1'}
2025-05-14 12:20:44,810 - __main__ - INFO - Raw API response: 250514000546590
2025-05-14 12:20:44,811 - __main__ - INFO - Received order ID as direct string response: 250514000546590
2025-05-14 12:20:44,811 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250514000546590
2025-05-14 12:20:46,255 - options_trade_manager - ERROR - Order 250514000546590 was not executed successfully: rejected
2025-05-14 12:20:46,256 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-14 12:20:46,328 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-14 12:20:46,331 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-14 12:20:46,350 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-14 12:20:54,014 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-14 12:20:54,015 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 12:20:54,015 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-14 12:20:54,016 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-14 12:20:54,016 - options_module - INFO - Looking for option contract: NIFTY 15MAY2025 24650.0 PE
2025-05-14 12:20:54,090 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-14 12:20:54,091 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-14 12:20:54,242 - options_trade_manager - INFO - Found option contract: NIFTY15MAY2524650PE
2025-05-14 12:20:54,933 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:54] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:20:55,184 - options_trade_manager - INFO - Placing order for NIFTY15MAY2524650PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-14 12:20:55,185 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524650PE', 'symboltoken': '46277', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '91.7'}
2025-05-14 12:20:56,224 - __main__ - INFO - Raw API response: 250514000568428
2025-05-14 12:20:56,224 - __main__ - INFO - Received order ID as direct string response: 250514000568428
2025-05-14 12:20:56,225 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250514000568428
2025-05-14 12:20:57,401 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-14 12:20:57,403 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:57] "POST /options-webhook HTTP/1.1" 200 -
2025-05-14 12:20:57,939 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:20:58,257 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:20:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:21:02,518 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-14 12:21:02,519 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:03,396 - options_module - INFO - Got price for index NIFTY: 24672.9
2025-05-14 12:21:06,645 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-14 12:21:06,646 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:07,544 - options_module - INFO - Got price for index NIFTY: 24672.4
2025-05-14 12:21:14,242 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:14,932 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:21:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:21:15,082 - options_module - INFO - Got price for index NIFTY: 24673.3
2025-05-14 12:21:18,338 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:19,115 - options_module - INFO - Got price for index NIFTY: 24675.5
2025-05-14 12:21:25,848 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:26,660 - options_module - INFO - Got price for index NIFTY: 24677.85
2025-05-14 12:21:29,879 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:30,706 - options_module - INFO - Got price for index NIFTY: 24677.05
2025-05-14 12:21:37,403 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:39,263 - options_module - INFO - Got price for index NIFTY: 24677.5
2025-05-14 12:21:41,454 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:42,277 - options_module - INFO - Got price for index NIFTY: 24676.6
2025-05-14 12:21:49,765 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:50,328 - options_module - INFO - Got price for index NIFTY: 24676.2
2025-05-14 12:21:53,041 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:21:53,837 - options_module - INFO - Got price for index NIFTY: 24676.8
2025-05-14 12:21:57,928 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:21:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:21:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:21:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:21:58,489 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:21:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:22:00,871 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:01,692 - options_module - INFO - Got price for index NIFTY: 24677.15
2025-05-14 12:22:04,580 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:05,453 - options_module - INFO - Got price for index NIFTY: 24676.65
2025-05-14 12:22:12,224 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:13,038 - options_module - INFO - Got price for index NIFTY: 24675.85
2025-05-14 12:22:16,253 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:16,876 - options_module - INFO - Got price for index NIFTY: 24676.45
2025-05-14 12:22:23,797 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:24,651 - options_module - INFO - Got price for index NIFTY: 24677.1
2025-05-14 12:22:27,681 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:28,252 - options_module - INFO - Got price for index NIFTY: 24677.85
2025-05-14 12:22:35,410 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:36,262 - options_module - INFO - Got price for index NIFTY: 24677.65
2025-05-14 12:22:38,792 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:39,532 - options_module - INFO - Got price for index NIFTY: 24676.3
2025-05-14 12:22:47,024 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:48,090 - options_module - INFO - Got price for index NIFTY: 24672.75
2025-05-14 12:22:50,263 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:51,076 - options_module - INFO - Got price for index NIFTY: 24673.25
2025-05-14 12:22:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:22:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:22:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:22:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:22:58,248 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:22:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:22:58,954 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:22:59,594 - options_module - INFO - Got price for index NIFTY: 24672.8
2025-05-14 12:23:01,855 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:02,780 - options_module - INFO - Got price for index NIFTY: 24671.65
2025-05-14 12:23:10,272 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:12,267 - options_module - INFO - Got price for index NIFTY: 24672.8
2025-05-14 12:23:12,629 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:12] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:23:12,661 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:23:12,893 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:12] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:13,702 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:14,603 - options_module - INFO - Got price for index NIFTY: 24672.35
2025-05-14 12:23:16,182 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:16,183 - options_module - INFO - Using cached price for NIFTY: 24672.35
2025-05-14 12:23:17,116 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:17] "POST /api/positions/check-all HTTP/1.1" 200 -
2025-05-14 12:23:17,130 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:17] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:23,272 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:24,048 - options_module - INFO - Got price for index NIFTY: 24671.2
2025-05-14 12:23:24,601 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:24] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:23:24,617 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:24] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:23:24,679 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:24] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:25,347 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:26,257 - options_module - INFO - Got price for index NIFTY: 24671.45
2025-05-14 12:23:27,356 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:27] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:28,045 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:28,455 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:28,628 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:28,807 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:28,981 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:34,729 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:35,771 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY15MAY2524650PE', 'symboltoken': '46277', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '89.25'}
2025-05-14 12:23:35,785 - options_module - INFO - Got price for index NIFTY: 24670.35
2025-05-14 12:23:36,535 - __main__ - INFO - Raw API response: 250514000572016
2025-05-14 12:23:36,536 - __main__ - INFO - Received order ID as direct string response: 250514000572016
2025-05-14 12:23:36,536 - TradeMonitorService - INFO - Successfully exited option position NIFTY15MAY2524650PE (MANUAL_EXIT): 250514000572016
2025-05-14 12:23:37,196 - TradeMonitorService - INFO - P&L for NIFTY15MAY2524650PE: Rs.-67.50 (-0.99%)
2025-05-14 12:23:37,196 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:23:37,262 - TradeMonitorService - INFO - Recorded completed trade for NIFTY15MAY2524650PE in completed_option_trades.json
2025-05-14 12:23:37,263 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:37] "POST /api/positions/exit/7bc53235-eee3-4b10-aba3-a2fc3c3e3a98 HTTP/1.1" 200 -
2025-05-14 12:23:37,275 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:37] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:38,087 - options_module - INFO - Got price for index NIFTY: 24669.95
2025-05-14 12:23:44,685 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:44] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:23:46,541 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-14 12:23:58,245 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:23:58,501 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:23:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:24:04,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:24:04] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:24:24,921 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:24:24] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:24:44,925 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:24:44] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:24:58,339 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:24:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:24:58,587 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:24:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:25:04,936 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:25:04] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:25:57,943 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:25:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:25:57,945 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:25:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:25:58,260 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:25:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:26:18,563 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:18] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:26:21,126 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:21] "GET /accounts HTTP/1.1" 200 -
2025-05-14 12:26:21,154 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:26:22,659 - options_trade_manager - INFO - Starting reconciliation with broker positions...
2025-05-14 12:26:23,525 - options_trade_manager - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-14 12:26:24,321 - options_trade_manager - WARNING - Could not get positions for client M543167, skipping reconciliation
2025-05-14 12:26:24,322 - options_trade_manager - INFO - Reconciliation complete: all trades match broker positions
2025-05-14 12:26:25,166 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:26:26,013 - options_module - INFO - Got price for index NIFTY: 24661.15
2025-05-14 12:26:26,348 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:26] "GET /options HTTP/1.1" 200 -
2025-05-14 12:26:26,366 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:26:26,499 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-14 12:26:26,875 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-14 12:26:26,883 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:26] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-14 12:26:29,638 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:26:30,415 - __main__ - ERROR - Exception getting holdings for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-14 12:26:32,861 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:26:34,473 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:34] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:26:34,488 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:34] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:26:58,239 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:26:58,492 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:26:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:27:57,934 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:27:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:27:58,247 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:27:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:28:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:28:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:28:58,259 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:28:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:29:58,236 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:29:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:29:58,502 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:29:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:30:58,242 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:30:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:30:58,495 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:30:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:31:57,928 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:31:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:31:58,240 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:31:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:32:58,035 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:32:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:32:58,348 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:32:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:33:57,933 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:33:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:33:58,241 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:33:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:34:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:34:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:34:58,374 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:34:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:35:58,002 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:35:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:35:58,324 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:35:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:36:58,238 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:36:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:36:58,479 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:36:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:37:57,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:37:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:37:58,247 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:37:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:38:57,936 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:38:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:38:58,257 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:38:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:39:57,938 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:39:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:39:58,251 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:39:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:40:03,562 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:03] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:40:03,921 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:40:04,075 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:04] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:40:09,664 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:40:10,412 - __main__ - ERROR - Exception getting holdings for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-14 12:40:11,459 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:11] "GET /accounts HTTP/1.1" 200 -
2025-05-14 12:40:11,469 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:40:12,103 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:40:13,303 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:13] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:40:14,747 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:40:15,619 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-14 12:40:21,060 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:40:22,777 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:22] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:40:22,788 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:40:57,930 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:40:58,243 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:40:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:41:57,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:41:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:41:58,251 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:41:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:42:58,246 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:42:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:42:58,511 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:42:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:43:03,866 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:43:03] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:43:58,239 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:43:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:43:58,505 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:43:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:44:58,248 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:44:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:44:58,500 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:44:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:45:58,243 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:45:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:45:58,493 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:45:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:46:47,706 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:47] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:46:48,755 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:48] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:46:50,766 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:50] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:46:50,911 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:50] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:46:57,877 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:57] "[33mGET /api/account/V410166/positions HTTP/1.1[0m" 404 -
2025-05-14 12:46:57,939 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:46:58,251 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:46:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:47:02,398 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:02] "GET / HTTP/1.1" 200 -
2025-05-14 12:47:03,809 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:03] "GET /accounts HTTP/1.1" 200 -
2025-05-14 12:47:03,831 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:09,778 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:47:10,524 - __main__ - ERROR - Exception getting holdings for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-14 12:47:12,817 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:47:13,350 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-14 12:47:13,937 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:13] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:47:13,949 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:13] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:31,311 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:47:31,980 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:47:32,020 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:32] "[32mPOST /exit_all_positions HTTP/1.1[0m" 302 -
2025-05-14 12:47:33,176 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-14 12:47:33,691 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-14 12:47:35,894 - __main__ - INFO - No trades found for today for M543167
2025-05-14 12:47:37,459 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:37] "GET /dashboard HTTP/1.1" 200 -
2025-05-14 12:47:37,478 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:40,907 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:40] "GET /accounts HTTP/1.1" 200 -
2025-05-14 12:47:40,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:40] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:41,816 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:41] "GET /positions HTTP/1.1" 200 -
2025-05-14 12:47:41,839 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:41,952 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-14 12:47:42,922 - options_trade_manager - INFO - Starting reconciliation with broker positions...
2025-05-14 12:47:43,678 - options_trade_manager - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-14 12:47:44,336 - options_trade_manager - WARNING - Could not get positions for client M543167, skipping reconciliation
2025-05-14 12:47:44,336 - options_trade_manager - INFO - Reconciliation complete: all trades match broker positions
2025-05-14 12:47:44,889 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-14 12:47:45,459 - options_module - INFO - Got price for index NIFTY: 24629.6
2025-05-14 12:47:45,461 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:45] "GET /options HTTP/1.1" 200 -
2025-05-14 12:47:45,475 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-14 12:47:45,516 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-14 12:47:45,744 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-14 12:47:45,750 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:45] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-14 12:47:57,932 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:47:58,246 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:47:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:48:23,541 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 12:48:23,556 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 12:48:23,556 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 12:48:39,608 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 12:48:39,609 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 12:48:39,610 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 12:48:58,229 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:48:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:48:58,494 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:48:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:49:58,249 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:49:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:49:58,501 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:49:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:50:58,242 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:50:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:50:58,493 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:50:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:51:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:51:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:51:58,484 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:51:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:52:58,244 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:52:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:52:58,506 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:52:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:53:57,930 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:53:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:53:58,236 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:53:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:54:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:54:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:54:58,231 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:54:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:55:58,242 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:55:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:55:58,492 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:55:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:56:58,239 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:56:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:56:58,501 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:56:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:57:58,241 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:57:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:57:58,496 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:57:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:58:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:58:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:58:58,238 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:58:58] "GET /login HTTP/1.1" 200 -
2025-05-14 12:59:57,935 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:59:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 12:59:58,248 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 12:59:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:00:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:00:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:00:58,241 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:00:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:01:57,933 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:01:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:01:58,249 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:01:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:02:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:02:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:02:58,236 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:02:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:03:58,236 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:03:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:03:58,502 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:03:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:04:58,245 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:04:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:04:58,498 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:04:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:05:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:05:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:05:58,236 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:05:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:06:57,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:06:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:06:58,250 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:06:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:07:57,929 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:07:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:07:58,243 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:07:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:08:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:08:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:08:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:08:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:09:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:09:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:09:58,264 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:09:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:10:57,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:10:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:10:58,244 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:10:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:11:57,931 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:11:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:11:58,249 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:11:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:12:57,920 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:12:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:12:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:12:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:13:57,927 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:13:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:13:58,245 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:13:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:14:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:14:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:14:58,234 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:14:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:15:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:15:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:15:58,260 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:15:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:16:57,933 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:16:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:16:58,253 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:16:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:17:57,935 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:17:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:17:58,242 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:17:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:18:23,558 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 13:18:23,561 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 13:18:23,561 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 13:18:39,611 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 13:18:39,612 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 13:18:39,612 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 13:18:57,951 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:18:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:18:58,265 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:18:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:28:09,868 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:28:09] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:28:10,334 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:28:10] "GET /login HTTP/1.1" 200 -
2025-05-14 13:28:58,227 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:28:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:28:58,476 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:28:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:29:58,303 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:29:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:29:58,554 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:29:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:30:58,229 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:30:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:30:58,482 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:30:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:31:58,986 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:31:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:31:59,242 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:31:59] "GET /login HTTP/1.1" 200 -
2025-05-14 13:32:57,917 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:32:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:32:58,230 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:32:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:33:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:33:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:33:58,241 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:33:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:34:58,234 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:34:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:34:58,484 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:34:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:35:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:35:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:35:58,245 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:35:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:36:57,925 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:36:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:36:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:36:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:37:57,917 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:37:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:37:58,226 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:37:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:38:57,924 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:38:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:38:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:38:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:39:57,928 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:39:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:39:58,251 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:39:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:40:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:40:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:40:58,489 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:40:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:41:57,912 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:41:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:41:58,224 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:41:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:42:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:42:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:42:58,487 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:42:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:43:57,913 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:43:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:43:58,226 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:43:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:44:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:44:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:44:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:44:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:45:57,918 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:45:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:45:58,228 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:45:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:46:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:46:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:46:58,239 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:46:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:47:57,928 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:47:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:47:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:47:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:48:58,228 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:48:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:48:58,484 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:48:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:49:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:49:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:49:58,235 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:49:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:50:57,956 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:50:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:50:58,277 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:50:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:51:57,927 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:51:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:51:58,238 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:51:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:52:57,919 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:52:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:52:58,233 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:52:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:53:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:53:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:53:58,240 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:53:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:54:57,921 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:54:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:54:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:54:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:55:57,917 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:55:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:55:58,228 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:55:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:56:57,923 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:56:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:56:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:56:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:57:00,781 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 13:57:00,782 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 13:57:00,782 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 13:57:16,830 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-14 13:57:16,831 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-14 13:57:16,831 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-14 13:57:57,961 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:57:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:57:58,274 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:57:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:58:57,922 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:58:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:58:58,229 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:58:58] "GET /login HTTP/1.1" 200 -
2025-05-14 13:59:58,230 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:59:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 13:59:58,480 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 13:59:58] "GET /login HTTP/1.1" 200 -
2025-05-14 14:00:57,926 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:00:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 14:00:58,241 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:00:58] "GET /login HTTP/1.1" 200 -
2025-05-14 14:01:57,913 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:01:57] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 14:01:58,232 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:01:58] "GET /login HTTP/1.1" 200 -
2025-05-14 14:02:58,238 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:02:58] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-14 14:02:58,492 - werkzeug - INFO - 127.0.0.1 - - [14/May/2025 14:02:58] "GET /login HTTP/1.1" 200 -
2025-05-14 14:03:21,762 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 14:03:26,984 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-14 14:03:34,286 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-14 14:03:34,306 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-15 20:38:35,153 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-15 20:38:35,169 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-15 20:38:35,187 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-15 20:38:35,188 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-15 20:38:35,225 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-15 20:38:35,226 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-15 20:38:35,233 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-15 20:38:35,233 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-15 20:38:35,236 - __main__ - INFO - Initializing 2 client connections
2025-05-15 20:38:35,328 - __main__ - INFO - Attempting login for client: V410166
2025-05-15 20:38:38,137 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-15 20:38:38,137 - __main__ - INFO - Login successful for client: V410166
2025-05-15 20:38:38,137 - __main__ - INFO - Client V410166 initialized successfully
2025-05-15 20:38:38,192 - __main__ - INFO - Attempting login for client: M543167
2025-05-15 20:38:40,555 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-15 20:38:40,556 - __main__ - INFO - Login successful for client: M543167
2025-05-15 20:38:40,556 - __main__ - INFO - Client M543167 initialized successfully
2025-05-15 20:38:40,556 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-15 20:38:40,557 - options_module - INFO - Verifying client connection
2025-05-15 20:38:40,557 - options_module - INFO - Client connection verified with smart_api structure
2025-05-15 20:38:40,557 - options_module - INFO - Verifying client connection
2025-05-15 20:38:40,557 - options_module - INFO - Client connection verified with smart_api structure
2025-05-15 20:38:40,558 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-15 20:38:40,558 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-15 20:38:46,772 - options_module - INFO - Successfully loaded 125750 symbols from OpenAPI
2025-05-15 20:38:46,778 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-15 20:38:46,778 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-15 20:38:46,779 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-15 20:38:46,779 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-15 20:38:46,780 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-15 20:38:46,825 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.6:5000
2025-05-15 20:38:46,825 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-15 20:38:46,832 - werkzeug - INFO -  * Restarting with stat
2025-05-15 20:38:49,160 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-15 20:38:49,160 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-15 20:38:49,161 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-15 20:38:49,161 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-15 20:38:49,181 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-15 20:38:49,182 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-15 20:38:49,183 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-15 20:38:49,183 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-15 20:38:49,184 - __main__ - INFO - Initializing 2 client connections
2025-05-15 20:38:49,230 - __main__ - INFO - Attempting login for client: V410166
2025-05-15 20:38:51,612 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-15 20:38:51,612 - __main__ - INFO - Login successful for client: V410166
2025-05-15 20:38:51,613 - __main__ - INFO - Client V410166 initialized successfully
2025-05-15 20:38:51,709 - __main__ - INFO - Attempting login for client: M543167
2025-05-15 20:38:53,974 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-15 20:38:53,974 - __main__ - INFO - Login successful for client: M543167
2025-05-15 20:38:53,974 - __main__ - INFO - Client M543167 initialized successfully
2025-05-15 20:38:53,975 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-15 20:38:53,975 - options_module - INFO - Verifying client connection
2025-05-15 20:38:53,976 - options_module - INFO - Client connection verified with smart_api structure
2025-05-15 20:38:53,976 - options_module - INFO - Verifying client connection
2025-05-15 20:38:53,976 - options_module - INFO - Client connection verified with smart_api structure
2025-05-15 20:38:53,977 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-15 20:38:53,977 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-15 20:38:59,869 - options_module - INFO - Successfully loaded 125750 symbols from OpenAPI
2025-05-15 20:38:59,874 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-15 20:38:59,874 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-15 20:38:59,875 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-15 20:38:59,875 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-15 20:38:59,876 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-15 20:38:59,897 - werkzeug - WARNING -  * Debugger is active!
2025-05-15 20:38:59,905 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-15 20:39:10,414 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:10] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-15 20:39:10,823 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:10] "GET /login HTTP/1.1" 200 -
2025-05-15 20:39:11,028 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:11] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-15 20:39:17,383 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:17] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-15 20:39:17,432 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:17] "GET / HTTP/1.1" 200 -
2025-05-15 20:39:19,280 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:19] "GET /options HTTP/1.1" 200 -
2025-05-15 20:39:19,461 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-15 20:39:19,803 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-15 20:39:19,858 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-15 20:39:19,864 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:19] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-15 20:39:21,352 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-15 20:39:21,353 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-15 20:39:21,353 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-15 20:39:21,354 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-15 20:39:21,355 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-15 20:39:21,355 - options_module - INFO - Generated fallback expiry dates: ['22MAY2025', '29MAY2025', '05JUN2025', '12JUN2025']
2025-05-15 20:39:21,440 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-15 20:39:21,441 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-15 20:39:21,443 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:21] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-15 20:39:21,618 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-15 20:39:21,619 - __main__ - INFO - Using client V410166 for option chain API
2025-05-15 20:39:21,620 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-15 20:39:21,621 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-15 20:39:21,622 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-15 20:39:22,266 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 22MAY2025, exchange: NSE
2025-05-15 20:39:22,266 - __main__ - INFO - Using client V410166 for option chain API
2025-05-15 20:39:22,266 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-15 20:39:22,267 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-15 20:39:22,268 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-15 20:39:22,465 - options_module - INFO - Got price for index NIFTY: 25062.1
2025-05-15 20:39:22,465 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-15 20:39:22,466 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-15 20:39:22,534 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-15 20:39:22,536 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-15 20:39:22,544 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-15 20:39:24,171 - options_module - INFO - Got price for index NIFTY: 25062.1
2025-05-15 20:39:24,174 - __main__ - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-15 20:39:24,177 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-15 20:39:24,317 - options_module - INFO - Found 92 calls and 92 puts in DataFrame
2025-05-15 20:39:24,322 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-15 20:39:24,347 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-15 20:39:32,962 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-15 20:39:32,962 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-15 20:39:32,963 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:32] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-15 20:39:33,271 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 15MAY2025, exchange: NSE
2025-05-15 20:39:33,271 - __main__ - INFO - Using client V410166 for option chain API
2025-05-15 20:39:33,271 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-15 20:39:33,272 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-15 20:39:33,272 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-15 20:39:33,771 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-15 20:39:33,772 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-15 20:39:33,773 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:33] "GET /api/get-option-chain?symbol=NIFTY&expiry=22MAY2025 HTTP/1.1" 200 -
2025-05-15 20:39:34,257 - options_module - INFO - Got price for index NIFTY: 25062.1
2025-05-15 20:39:34,258 - __main__ - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-15 20:39:34,258 - options_module - INFO - Fetching options for NIFTY with expiry 15MAY2025
2025-05-15 20:39:34,305 - options_module - INFO - Found 121 calls and 121 puts in DataFrame
2025-05-15 20:39:34,306 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-15 20:39:34,310 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-15 20:39:40,531 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/15MAY2025
2025-05-15 20:39:40,532 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-15 20:39:40,533 - werkzeug - INFO - 127.0.0.1 - - [15/May/2025 20:39:40] "GET /api/get-option-chain?symbol=NIFTY&expiry=15MAY2025 HTTP/1.1" 200 -
2025-05-15 21:08:46,839 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-15 21:08:46,865 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-15 21:08:46,865 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-15 21:08:59,888 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-15 21:08:59,910 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-15 21:08:59,911 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-15 21:29:55,085 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-15 21:30:00,909 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-15 21:30:05,472 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-15 21:30:05,496 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 10:13:33,019 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 10:13:33,030 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 10:13:33,044 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 10:13:33,044 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 10:13:33,071 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 10:13:33,071 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 10:13:33,073 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-18 10:13:33,073 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 10:13:33,073 - __main__ - INFO - Initializing 2 client connections
2025-05-18 10:13:33,121 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 10:13:35,541 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 10:13:35,541 - __main__ - INFO - Login successful for client: V410166
2025-05-18 10:13:35,542 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 10:13:35,586 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 10:13:37,855 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 10:13:37,856 - __main__ - INFO - Login successful for client: M543167
2025-05-18 10:13:37,856 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 10:13:37,857 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 10:13:37,857 - options_module - INFO - Verifying client connection
2025-05-18 10:13:37,857 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 10:13:37,857 - options_module - INFO - Verifying client connection
2025-05-18 10:13:37,858 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 10:13:37,858 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 10:13:37,858 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 10:13:45,362 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 10:13:45,368 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 10:13:45,369 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 10:13:45,369 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 10:13:45,370 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 10:13:45,370 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 10:13:45,420 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-18 10:13:45,420 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 10:13:45,430 - werkzeug - INFO -  * Restarting with stat
2025-05-18 10:13:47,883 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 10:13:47,884 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 10:13:47,884 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 10:13:47,885 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 10:13:47,904 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 10:13:47,905 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 10:13:47,906 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 10 seconds
2025-05-18 10:13:47,906 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 10:13:47,907 - __main__ - INFO - Initializing 2 client connections
2025-05-18 10:13:47,955 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 10:13:50,391 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 10:13:50,391 - __main__ - INFO - Login successful for client: V410166
2025-05-18 10:13:50,391 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 10:13:50,435 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 10:13:53,410 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 10:13:53,410 - __main__ - INFO - Login successful for client: M543167
2025-05-18 10:13:53,411 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 10:13:53,411 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 10:13:53,411 - options_module - INFO - Verifying client connection
2025-05-18 10:13:53,411 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 10:13:53,412 - options_module - INFO - Verifying client connection
2025-05-18 10:13:53,412 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 10:13:53,412 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 10:13:53,413 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 10:14:00,439 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 10:14:00,448 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 10:14:00,449 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 10:14:00,450 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 10:14:00,451 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 10:14:00,451 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 10:14:00,483 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 10:14:00,490 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-18 10:14:00,521 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:00] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-18 10:14:00,706 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:00] "GET /login HTTP/1.1" 200 -
2025-05-18 10:14:00,996 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:00] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-18 10:14:06,272 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:06] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-18 10:14:06,330 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:06] "GET / HTTP/1.1" 200 -
2025-05-18 10:14:08,004 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:08] "GET /positions HTTP/1.1" 200 -
2025-05-18 10:14:08,020 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 10:14:08,152 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:08] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 10:14:10,411 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:10] "GET /options HTTP/1.1" 200 -
2025-05-18 10:14:10,427 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 10:14:10,489 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-18 10:14:10,576 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-18 10:14:10,585 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:10] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-18 10:14:12,738 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:12] "GET /accounts HTTP/1.1" 200 -
2025-05-18 10:14:12,754 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 10:14:15,592 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 10:14:16,388 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-18 10:14:18,718 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 10:14:19,471 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-18 10:14:20,265 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:20] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 10:14:20,278 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:20] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 10:14:26,486 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 10:14:27,236 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 10:14:27,238 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:27] "[32mPOST /exit_all_positions HTTP/1.1[0m" 302 -
2025-05-18 10:14:28,932 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 10:14:29,708 - __main__ - ERROR - Exception getting holdings for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-18 10:14:32,001 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 10:14:32,723 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-18 10:14:33,551 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:33] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 10:14:33,579 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 10:14:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 10:43:45,396 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 10:43:45,422 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 10:43:45,422 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 10:44:00,463 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 10:44:00,477 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 10:44:00,477 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 11:13:45,468 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 11:13:45,483 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 11:13:45,483 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 11:14:00,484 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 11:14:00,490 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 11:14:00,490 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 11:43:45,496 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 11:43:45,505 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 11:43:45,506 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 11:44:00,540 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 11:44:00,543 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 11:44:00,543 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 12:06:37,226 - werkzeug - INFO -  * Detected change in 'c:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\trade_monitor_service.py', reloading
2025-05-18 12:06:37,259 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 12:06:41,636 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-18 12:06:41,646 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 12:06:42,721 - werkzeug - INFO -  * Restarting with stat
2025-05-18 12:06:50,477 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 12:06:56,665 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-18 12:06:56,685 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 12:10:19,458 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 12:10:19,460 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 12:10:19,477 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 12:10:19,478 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 12:10:19,522 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 12:10:19,523 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 12:10:19,524 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 12:10:19,525 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 12:10:19,525 - __main__ - INFO - Initializing 2 client connections
2025-05-18 12:10:19,602 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 12:10:22,821 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 12:10:22,821 - __main__ - INFO - Login successful for client: V410166
2025-05-18 12:10:22,821 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 12:10:22,868 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 12:10:25,521 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 12:10:25,522 - __main__ - INFO - Login successful for client: M543167
2025-05-18 12:10:25,522 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 12:10:25,522 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 12:10:25,522 - options_module - INFO - Verifying client connection
2025-05-18 12:10:25,523 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 12:10:25,523 - options_module - INFO - Verifying client connection
2025-05-18 12:10:25,524 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 12:10:25,524 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 12:10:25,524 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 12:10:33,001 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 12:10:33,007 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 12:10:33,008 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 12:10:33,009 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 12:10:33,009 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 12:10:33,010 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 12:10:33,069 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-18 12:10:33,070 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 12:10:33,076 - werkzeug - INFO -  * Restarting with stat
2025-05-18 12:10:37,492 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 12:10:37,492 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 12:10:37,493 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 12:10:37,493 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 12:10:37,513 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 12:10:37,514 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 12:10:37,516 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 12:10:37,516 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 12:10:37,517 - __main__ - INFO - Initializing 2 client connections
2025-05-18 12:10:37,586 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 12:10:40,048 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 12:10:40,048 - __main__ - INFO - Login successful for client: V410166
2025-05-18 12:10:40,048 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 12:10:40,096 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 12:10:42,651 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 12:10:42,652 - __main__ - INFO - Login successful for client: M543167
2025-05-18 12:10:42,652 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 12:10:42,652 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 12:10:42,653 - options_module - INFO - Verifying client connection
2025-05-18 12:10:42,653 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 12:10:42,653 - options_module - INFO - Verifying client connection
2025-05-18 12:10:42,653 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 12:10:42,654 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 12:10:42,654 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 12:10:50,253 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 12:10:50,260 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 12:10:50,261 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 12:10:50,262 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 12:10:50,262 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 12:10:50,263 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 12:10:50,287 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 12:10:50,294 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-18 12:11:36,860 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:36] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-18 12:11:37,617 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:37] "GET /login HTTP/1.1" 200 -
2025-05-18 12:11:37,931 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 12:11:47,140 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:47] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-18 12:11:47,556 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:47] "GET / HTTP/1.1" 200 -
2025-05-18 12:11:49,147 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:49] "GET /positions HTTP/1.1" 200 -
2025-05-18 12:11:49,169 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 12:11:49,563 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:49] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 12:11:51,285 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:51] "GET /options HTTP/1.1" 200 -
2025-05-18 12:11:51,478 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:51] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 12:11:51,830 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-18 12:11:51,896 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-18 12:11:51,902 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:51] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-18 12:11:52,275 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:52] "GET /accounts HTTP/1.1" 200 -
2025-05-18 12:11:52,574 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:11:52] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 12:11:56,066 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 12:11:56,872 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-18 12:11:59,539 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 12:12:00,311 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-18 12:12:01,046 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:12:01] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 12:12:01,061 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 12:12:01] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 12:40:33,065 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 12:40:33,083 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 12:40:33,083 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 12:40:50,275 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 12:40:50,286 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 12:40:50,287 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:10:33,089 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:10:33,095 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:10:33,095 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:10:50,291 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:10:50,292 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:10:50,292 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:41:23,383 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 13:41:54,117 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 13:42:24,134 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-18 13:42:24,223 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 13:44:32,437 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 13:44:32,439 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 13:44:32,440 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 13:44:32,440 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 13:44:32,474 - __main__ - INFO - Initializing 2 client connections
2025-05-18 13:44:32,537 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 13:44:34,998 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:44:34,999 - __main__ - INFO - Login successful for client: V410166
2025-05-18 13:44:34,999 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 13:44:35,065 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 13:44:37,380 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:44:37,380 - __main__ - INFO - Login successful for client: M543167
2025-05-18 13:44:37,381 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 13:44:37,381 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:44:37,381 - __main__ - INFO - WebSocket connections initialized
2025-05-18 13:44:37,381 - options_module - INFO - Verifying client connection
2025-05-18 13:44:37,382 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:37,382 - options_module - INFO - Verifying client connection
2025-05-18 13:44:37,382 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:37,383 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:44:37,383 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 13:44:44,534 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 13:44:44,541 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:44,541 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:44:44,542 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:44,542 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 13:44:44,543 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 13:44:44,543 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 13:44:44,544 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 13:44:44,544 - options_module - INFO - Verifying client connection
2025-05-18 13:44:44,544 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:44,545 - options_module - INFO - Verifying client connection
2025-05-18 13:44:44,545 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:44,545 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:44:44,546 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:44,546 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:44:44,548 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:44:44,548 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-18 13:44:44,549 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:44:44,549 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:44:44,549 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:44:44,601 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-18 13:44:44,601 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 13:44:44,606 - werkzeug - INFO -  * Restarting with stat
2025-05-18 13:44:47,045 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 13:44:47,046 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 13:44:47,046 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 13:44:47,047 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 13:44:47,069 - __main__ - INFO - Initializing 2 client connections
2025-05-18 13:44:47,122 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 13:44:49,484 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:44:49,484 - __main__ - INFO - Login successful for client: V410166
2025-05-18 13:44:49,485 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 13:44:49,533 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 13:44:51,882 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:44:51,883 - __main__ - INFO - Login successful for client: M543167
2025-05-18 13:44:51,883 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 13:44:51,883 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:44:51,884 - __main__ - INFO - WebSocket connections initialized
2025-05-18 13:44:51,884 - options_module - INFO - Verifying client connection
2025-05-18 13:44:51,884 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:51,885 - options_module - INFO - Verifying client connection
2025-05-18 13:44:51,885 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:51,885 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:44:51,885 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 13:44:58,795 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 13:44:58,800 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:58,801 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:44:58,802 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:58,802 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 13:44:58,804 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 13:44:58,804 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 13:44:58,804 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 13:44:58,805 - options_module - INFO - Verifying client connection
2025-05-18 13:44:58,805 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:58,805 - options_module - INFO - Verifying client connection
2025-05-18 13:44:58,806 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:44:58,806 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:44:58,807 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:44:58,807 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:44:58,808 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:44:58,808 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-18 13:44:58,808 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:44:58,809 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:44:58,809 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:44:58,833 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 13:44:58,847 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-18 13:45:26,234 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:26] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-18 13:45:26,438 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:26] "GET /login HTTP/1.1" 200 -
2025-05-18 13:45:26,654 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:31,390 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:31] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-18 13:45:31,409 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:31] "GET / HTTP/1.1" 200 -
2025-05-18 13:45:32,782 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:32] "GET /positions HTTP/1.1" 200 -
2025-05-18 13:45:33,070 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:33,411 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 13:45:35,350 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:35] "GET /accounts HTTP/1.1" 200 -
2025-05-18 13:45:35,650 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:35] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:38,614 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 13:45:39,471 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-18 13:45:42,045 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 13:45:42,891 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-18 13:45:43,763 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:43] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 13:45:43,778 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:47,184 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:47] "GET /orders HTTP/1.1" 200 -
2025-05-18 13:45:47,200 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:47] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:49,114 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:49] "GET /accounts HTTP/1.1" 200 -
2025-05-18 13:45:49,254 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:49] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:45:51,756 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 13:45:52,609 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-18 13:45:55,148 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 13:45:56,113 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-18 13:45:56,978 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:56] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 13:45:57,309 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:45:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:46:09,962 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:09] "GET /accounts HTTP/1.1" 200 -
2025-05-18 13:46:10,136 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:46:11,319 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:11] "GET /positions HTTP/1.1" 200 -
2025-05-18 13:46:11,627 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:11] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:46:11,963 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:11] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 13:46:14,398 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:14] "GET /options HTTP/1.1" 200 -
2025-05-18 13:46:14,687 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:14] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:46:15,049 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-18 13:46:15,115 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-18 13:46:15,121 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:15] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-18 13:46:17,676 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:17] "GET /orders HTTP/1.1" 200 -
2025-05-18 13:46:18,006 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:18] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:46:21,811 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-18 13:46:23,058 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-18 13:46:25,909 - __main__ - ERROR - Exception getting positions for M543167: 'NoneType' object is not iterable
2025-05-18 13:46:26,779 - __main__ - ERROR - Exception getting holdings for M543167: 'NoneType' object is not iterable
2025-05-18 13:46:27,668 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:27] "GET /dashboard HTTP/1.1" 200 -
2025-05-18 13:46:27,688 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:46:27] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:49:22,708 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:49:22] "GET /orders HTTP/1.1" 200 -
2025-05-18 13:49:23,031 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:49:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:51:07,241 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:51:07] "GET /options HTTP/1.1" 200 -
2025-05-18 13:51:07,303 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:51:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:51:07,495 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-18 13:51:07,614 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-18 13:51:07,621 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:51:07] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-18 13:51:14,237 - __main__ - INFO - Fetching expiry dates for symbol: NIFTY, exchange: NSE
2025-05-18 13:51:14,238 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-18 13:51:14,238 - __main__ - INFO - Using client V410166 for expiry dates API
2025-05-18 13:51:14,238 - __main__ - INFO - Calling get_expiry_dates for NIFTY on NFO
2025-05-18 13:51:14,239 - options_module - INFO - Getting expiry dates for NIFTY on NFO
2025-05-18 13:51:14,240 - options_module - INFO - Generated fallback expiry dates: ['22MAY2025', '29MAY2025', '05JUN2025', '12JUN2025']
2025-05-18 13:51:14,522 - options_module - INFO - Found 18 expiry dates for NIFTY
2025-05-18 13:51:14,523 - __main__ - INFO - Retrieved 18 expiry dates for NIFTY
2025-05-18 13:51:14,524 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:51:14] "GET /api/get-expiry-dates?symbol=NIFTY HTTP/1.1" 200 -
2025-05-18 13:51:14,847 - __main__ - INFO - Fetching option chain for symbol: NIFTY, expiry: 22MAY2025, exchange: NSE
2025-05-18 13:51:14,848 - __main__ - INFO - Using client V410166 for option chain API
2025-05-18 13:51:14,848 - __main__ - INFO - Exchange adjusted to NFO for index: NIFTY
2025-05-18 13:51:14,849 - __main__ - INFO - Getting underlying price for NIFTY
2025-05-18 13:51:14,849 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-18 13:51:16,799 - options_module - INFO - Got price for index NIFTY: 25019.8
2025-05-18 13:51:16,800 - __main__ - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-18 13:51:16,800 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-18 13:51:16,911 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-18 13:51:16,919 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-18 13:51:16,944 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25000.0
2025-05-18 13:51:24,296 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-18 13:51:24,297 - __main__ - INFO - Retrieved option chain with 13 calls and 13 puts
2025-05-18 13:51:24,298 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:51:24] "GET /api/get-option-chain?symbol=NIFTY&expiry=22MAY2025 HTTP/1.1" 200 -
2025-05-18 13:54:42,609 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:54:42] "GET /orders HTTP/1.1" 200 -
2025-05-18 13:54:42,625 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 13:54:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 13:56:37,133 - werkzeug - INFO -  * Detected change in 'c:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\angle-one-trading-ui.py', reloading
2025-05-18 13:56:37,135 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 13:56:59,464 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 13:57:29,485 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-18 13:57:29,511 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 13:57:29,514 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-18 13:57:29,515 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-18 13:59:35,397 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 13:59:35,398 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 13:59:35,398 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 13:59:35,398 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 13:59:35,412 - __main__ - INFO - Initializing 2 client connections
2025-05-18 13:59:35,448 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 13:59:37,684 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:59:37,685 - __main__ - INFO - Login successful for client: V410166
2025-05-18 13:59:37,685 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 13:59:37,742 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 13:59:39,788 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:59:39,788 - __main__ - INFO - Login successful for client: M543167
2025-05-18 13:59:39,788 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 13:59:39,788 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:59:39,789 - __main__ - INFO - WebSocket connections initialized
2025-05-18 13:59:39,789 - options_module - INFO - Verifying client connection
2025-05-18 13:59:39,789 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:39,789 - options_module - INFO - Verifying client connection
2025-05-18 13:59:39,790 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:39,793 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:59:39,793 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 13:59:46,121 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 13:59:46,124 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:46,124 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:59:46,125 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:46,125 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 13:59:46,127 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 13:59:46,127 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 13:59:46,127 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 13:59:46,128 - options_module - INFO - Verifying client connection
2025-05-18 13:59:46,128 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:46,128 - options_module - INFO - Verifying client connection
2025-05-18 13:59:46,128 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:46,129 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:59:46,129 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:46,130 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:59:46,130 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:59:46,131 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-18 13:59:46,131 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:59:46,131 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:59:46,132 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:59:46,164 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-18 13:59:46,164 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-18 13:59:46,168 - werkzeug - INFO -  * Restarting with stat
2025-05-18 13:59:47,873 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-18 13:59:47,873 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-18 13:59:47,874 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-18 13:59:47,874 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-18 13:59:47,886 - __main__ - INFO - Initializing 2 client connections
2025-05-18 13:59:47,920 - __main__ - INFO - Attempting login for client: V410166
2025-05-18 13:59:50,230 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:59:50,230 - __main__ - INFO - Login successful for client: V410166
2025-05-18 13:59:50,231 - __main__ - INFO - Client V410166 initialized successfully
2025-05-18 13:59:50,275 - __main__ - INFO - Attempting login for client: M543167
2025-05-18 13:59:52,318 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-18 13:59:52,319 - __main__ - INFO - Login successful for client: M543167
2025-05-18 13:59:52,319 - __main__ - INFO - Client M543167 initialized successfully
2025-05-18 13:59:52,319 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:59:52,319 - __main__ - INFO - WebSocket connections initialized
2025-05-18 13:59:52,320 - options_module - INFO - Verifying client connection
2025-05-18 13:59:52,320 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:52,320 - options_module - INFO - Verifying client connection
2025-05-18 13:59:52,321 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:52,321 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:59:52,321 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-18 13:59:58,832 - options_module - INFO - Successfully loaded 127797 symbols from OpenAPI
2025-05-18 13:59:58,837 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:58,837 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:59:58,838 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:58,838 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-18 13:59:58,840 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-18 13:59:58,840 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-18 13:59:58,840 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-18 13:59:58,840 - options_module - INFO - Verifying client connection
2025-05-18 13:59:58,840 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:58,841 - options_module - INFO - Verifying client connection
2025-05-18 13:59:58,841 - options_module - INFO - Client connection verified with smart_api structure
2025-05-18 13:59:58,841 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-18 13:59:58,842 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-18 13:59:58,842 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-18 13:59:58,843 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-18 13:59:58,844 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-18 13:59:58,844 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-18 13:59:58,844 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-18 13:59:58,844 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-18 13:59:58,864 - werkzeug - WARNING -  * Debugger is active!
2025-05-18 13:59:58,869 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-18 14:04:03,659 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:03] "[32mGET /orders HTTP/1.1[0m" 302 -
2025-05-18 14:04:03,758 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:03] "GET /login HTTP/1.1" 200 -
2025-05-18 14:04:04,068 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 14:04:08,611 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:08] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-18 14:04:08,661 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:08] "GET / HTTP/1.1" 200 -
2025-05-18 14:04:09,952 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:09] "GET /options HTTP/1.1" 200 -
2025-05-18 14:04:10,221 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:10] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 14:04:10,586 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-18 14:04:10,765 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-18 14:04:10,771 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:10] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-18 14:04:11,919 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:11] "GET /positions HTTP/1.1" 200 -
2025-05-18 14:04:12,221 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 14:04:12,558 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:12] "GET /orders HTTP/1.1" 200 -
2025-05-18 14:04:12,560 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:12] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:04:15,388 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "22MAY2025", "underlying_price": "24670", "underlying_stop_loss": "24720", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-18 14:04:15,389 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-18 14:04:15,389 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-18 14:04:15,389 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-18 14:04:15,570 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-18 14:04:15,573 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-18 14:04:15,583 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-18 14:04:23,020 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-18 14:04:23,021 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-18 14:04:23,022 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-18 14:04:23,022 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-18 14:04:23,022 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 24650.0 PE
2025-05-18 14:04:23,069 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-18 14:04:23,071 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-18 14:04:23,225 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2524650PE
2025-05-18 14:04:24,159 - options_trade_manager - INFO - Placing order for NIFTY22MAY2524650PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-18 14:04:24,160 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2524650PE', 'symboltoken': '49213', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '61.95'}
2025-05-18 14:04:24,891 - __main__ - INFO - Raw API response: 0518e5e6983fAO
2025-05-18 14:04:24,891 - __main__ - INFO - Received order ID as direct string response: 0518e5e6983fAO
2025-05-18 14:04:24,891 - options_trade_manager - INFO - Option order placed successfully for client V410166: 0518e5e6983fAO
2025-05-18 14:04:25,670 - options_trade_manager - INFO - Order 0518e5e6983fAO is still in open state, waiting...
2025-05-18 14:04:32,540 - options_trade_manager - INFO - Order 0518e5e6983fAO is still in open state, waiting...
2025-05-18 14:04:33,500 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:04:38,107 - options_trade_manager - INFO - Order 0518e5e6983fAO is still in open state, waiting...
2025-05-18 14:04:43,108 - options_trade_manager - WARNING - Could not verify order 0518e5e6983fAO execution after 3 attempts
2025-05-18 14:04:43,109 - options_trade_manager - ERROR - Order 0518e5e6983fAO was not executed successfully: unknown
2025-05-18 14:04:43,109 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-18 14:04:43,144 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-18 14:04:43,145 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-18 14:04:43,147 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-18 14:04:48,898 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-18 14:04:48,898 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-18 14:04:48,899 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-18 14:04:48,899 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-18 14:04:48,899 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 24650.0 PE
2025-05-18 14:04:48,939 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-18 14:04:48,940 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-18 14:04:49,064 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2524650PE
2025-05-18 14:04:49,847 - options_trade_manager - INFO - Placing order for NIFTY22MAY2524650PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-18 14:04:49,848 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2524650PE', 'symboltoken': '49213', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '61.95'}
2025-05-18 14:04:50,678 - __main__ - INFO - Raw API response: 051866f6660dAO
2025-05-18 14:04:50,678 - __main__ - INFO - Received order ID as direct string response: 051866f6660dAO
2025-05-18 14:04:50,678 - options_trade_manager - INFO - Option order placed successfully for client M543167: 051866f6660dAO
2025-05-18 14:04:51,437 - options_trade_manager - INFO - Order 051866f6660dAO is still in open state, waiting...
2025-05-18 14:04:53,181 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:04:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:04:57,201 - options_trade_manager - INFO - Order 051866f6660dAO is still in open state, waiting...
2025-05-18 14:05:03,062 - options_trade_manager - INFO - Order 051866f6660dAO is still in open state, waiting...
2025-05-18 14:05:08,063 - options_trade_manager - WARNING - Could not verify order 051866f6660dAO execution after 3 attempts
2025-05-18 14:05:08,063 - options_trade_manager - ERROR - Order 051866f6660dAO was not executed successfully: unknown
2025-05-18 14:05:08,064 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-18 14:05:08,065 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:05:08] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-18 14:05:13,510 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:05:13] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:05:33,505 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:05:33] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:05:53,500 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:05:53] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:06:36,827 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:06:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-18 14:06:41,469 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:06:41] "GET /orders HTTP/1.1" 200 -
2025-05-18 14:06:41,509 - werkzeug - INFO - 127.0.0.1 - - [18/May/2025 14:06:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-18 15:01:08,991 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 15:01:36,059 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-18 15:01:36,080 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 15:01:36,082 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-18 15:01:36,083 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-18 15:01:37,776 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-18 15:02:07,795 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-18 15:02:07,835 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-18 15:02:07,838 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-18 15:02:07,840 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 09:23:26,599 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:23:26,611 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:23:26,624 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:23:26,625 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:23:26,649 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:23:26,704 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:23:29,177 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:23:29,178 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:23:29,178 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:23:29,232 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:23:31,548 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:23:31,549 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:23:31,549 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:23:31,550 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:23:31,550 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:23:31,551 - options_module - INFO - Verifying client connection
2025-05-19 09:23:31,551 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:31,552 - options_module - INFO - Verifying client connection
2025-05-19 09:23:31,552 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:31,553 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:23:31,553 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:23:38,951 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:23:38,957 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:38,958 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:23:38,958 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:38,959 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:23:38,961 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:23:38,962 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:23:38,963 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:23:38,963 - options_module - INFO - Verifying client connection
2025-05-19 09:23:38,964 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:38,964 - options_module - INFO - Verifying client connection
2025-05-19 09:23:38,965 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:38,965 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:23:38,966 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:38,966 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:23:38,967 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:23:38,968 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:23:38,968 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:23:38,968 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:23:38,969 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:23:39,027 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 09:23:39,028 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 09:23:39,037 - werkzeug - INFO -  * Restarting with stat
2025-05-19 09:23:41,774 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:23:41,775 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:23:41,776 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:23:41,776 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:23:41,811 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:23:41,886 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:23:44,252 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:23:44,252 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:23:44,252 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:23:44,305 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:23:46,609 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:23:46,609 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:23:46,610 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:23:46,610 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:23:46,610 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:23:46,611 - options_module - INFO - Verifying client connection
2025-05-19 09:23:46,611 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:46,611 - options_module - INFO - Verifying client connection
2025-05-19 09:23:46,611 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:46,612 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:23:46,612 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:23:53,129 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:23:53,137 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:53,137 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:23:53,138 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:53,139 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:23:53,140 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:23:53,140 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:23:53,141 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:23:53,142 - options_module - INFO - Verifying client connection
2025-05-19 09:23:53,142 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:53,143 - options_module - INFO - Verifying client connection
2025-05-19 09:23:53,143 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:23:53,144 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:23:53,144 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:23:53,145 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:23:53,146 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:23:53,147 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:23:53,147 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:23:53,147 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:23:53,148 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:23:53,168 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 09:23:53,173 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 09:27:35,548 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "SELL", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "22MAY2025", "underlying_price": "24670", "underlying_stop_loss": "24720", "underlying_target": "24640", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 09:27:35,548 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 09:27:35,549 - options_trade_manager - INFO - Processing SELL signal for NIFTY, selecting PE options with depth 20
2025-05-19 09:27:35,549 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 09:27:35,635 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 09:27:35,638 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 09:27:35,643 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-19 09:27:42,166 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 09:27:42,168 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 09:27:42,168 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-19 09:27:42,169 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-19 09:27:42,170 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 24650.0 PE
2025-05-19 09:27:42,233 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 09:27:42,234 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-19 09:27:42,352 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2524650PE
2025-05-19 09:27:43,157 - options_trade_manager - INFO - Placing order for NIFTY22MAY2524650PE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 09:27:43,158 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2524650PE', 'symboltoken': '49213', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '56.85'}
2025-05-19 09:27:43,935 - __main__ - INFO - Raw API response: 250519000105137
2025-05-19 09:27:43,936 - __main__ - INFO - Received order ID as direct string response: 250519000105137
2025-05-19 09:27:43,936 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000105137
2025-05-19 09:27:44,743 - options_trade_manager - ERROR - Order 250519000105137 was not executed successfully: rejected
2025-05-19 09:27:44,743 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 09:27:44,785 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 09:27:44,785 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 09:27:44,789 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 24650.0
2025-05-19 09:27:51,625 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 09:27:51,626 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 09:27:51,627 - options_trade_manager - INFO - Calculated ATM strike: 24650.0 for underlying price: 24670.0
2025-05-19 09:27:51,627 - options_trade_manager - INFO - Selected 0TM strike: 24650.0 (depth 20)
2025-05-19 09:27:51,628 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 24650.0 PE
2025-05-19 09:27:51,694 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 09:27:51,694 - options_module - INFO - Adjusted to nearest available strike: 24650.0 (original: 24650.0)
2025-05-19 09:27:51,806 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2524650PE
2025-05-19 09:27:52,566 - options_trade_manager - INFO - Placing order for NIFTY22MAY2524650PE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 09:27:52,566 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2524650PE', 'symboltoken': '49213', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '57.65'}
2025-05-19 09:27:53,357 - __main__ - INFO - Raw API response: 250519000108029
2025-05-19 09:27:53,357 - __main__ - INFO - Received order ID as direct string response: 250519000108029
2025-05-19 09:27:53,357 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250519000108029
2025-05-19 09:27:54,096 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-19 09:27:54,097 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:27:54] "POST /options-webhook HTTP/1.1" 200 -
2025-05-19 09:28:38,972 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-19 09:28:39,785 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 09:28:40,484 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 09:28:41,245 - options_module - INFO - Got price for index NIFTY: 25010.5
2025-05-19 09:28:41,246 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 25010.5, exiting NIFTY22MAY2524650PE
2025-05-19 09:28:41,987 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2524650PE', 'symboltoken': '49213', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '57.27'}
2025-05-19 09:28:42,729 - __main__ - INFO - Raw API response: 250519000111935
2025-05-19 09:28:42,729 - __main__ - INFO - Received order ID as direct string response: 250519000111935
2025-05-19 09:28:42,729 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2524650PE (STOP_LOSS_HIT): 250519000111935
2025-05-19 09:28:42,730 - TradeMonitorService - INFO - P&L for NIFTY22MAY2524650PE: Rs.15.00 (0.35%)
2025-05-19 09:28:42,789 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2524650PE in completed_option_trades.json
2025-05-19 09:28:42,791 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 09:28:53,145 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:29:29,979 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:29] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-19 09:29:30,423 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:30] "GET /login HTTP/1.1" 200 -
2025-05-19 09:29:30,646 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:30] "GET /static/css/main.css HTTP/1.1" 200 -
2025-05-19 09:29:34,970 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:34] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 09:29:35,011 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:35] "GET / HTTP/1.1" 200 -
2025-05-19 09:29:36,252 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:36] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:29:36,462 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:36] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:29:36,794 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:29:37,973 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:37] "GET /accounts HTTP/1.1" 200 -
2025-05-19 09:29:38,254 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:29:41,002 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 09:29:41,912 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 09:29:41,992 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:41] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:29:42,021 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:29:42,311 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:29:44,590 - __main__ - INFO - No trades found for today for M543167
2025-05-19 09:29:46,278 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:29:46] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 09:30:03,033 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:30:03] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:30:22,732 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:30:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:30:43,027 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:30:43] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:31:02,725 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:31:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:31:23,037 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:31:23] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:32:01,734 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:32:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:33:02,055 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:33:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:33:55,846 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:33:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:33:59,137 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:33:59] "GET /orders HTTP/1.1" 200 -
2025-05-19 09:33:59,151 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:33:59] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:37:50,095 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:50] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:37:50,219 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:37:50,344 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:50] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:37:52,877 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 09:37:53,624 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 09:37:53,672 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:53] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:37:53,999 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:37:54,025 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:54] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:37:56,039 - __main__ - INFO - No trades found for today for M543167
2025-05-19 09:37:57,655 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:37:57] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 09:38:14,724 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:38:14] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:38:35,028 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:38:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:38:55,032 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:38:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:39:15,030 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:39:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:39:34,721 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:39:34] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:40:02,030 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:40:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:41:02,024 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:41:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:42:02,035 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:42:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:42:02,228 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:42:33,400 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:42:42,819 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 09:42:42,836 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 09:42:42,851 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 09:42:42,852 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 09:45:30,677 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:45:30,679 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:45:30,680 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:45:30,680 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:45:30,703 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:45:30,779 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:45:33,425 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:45:33,426 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:45:33,426 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:45:33,476 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:45:36,046 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:45:36,046 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:45:36,047 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:45:36,047 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:45:36,047 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:45:36,047 - options_module - INFO - Verifying client connection
2025-05-19 09:45:36,048 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:36,048 - options_module - INFO - Verifying client connection
2025-05-19 09:45:36,048 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:36,049 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:45:36,049 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:45:42,516 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:45:42,521 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:42,522 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:45:42,523 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:42,523 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:45:42,524 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:45:42,525 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:45:42,526 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:45:42,526 - options_module - INFO - Verifying client connection
2025-05-19 09:45:42,527 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:42,527 - options_module - INFO - Verifying client connection
2025-05-19 09:45:42,527 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:42,528 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:45:42,529 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:42,530 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:45:42,531 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:45:42,532 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:45:42,532 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:45:42,533 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:45:42,534 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:45:42,584 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 09:45:42,586 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 09:45:42,591 - werkzeug - INFO -  * Restarting with stat
2025-05-19 09:45:45,491 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:45:45,492 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:45:45,493 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:45:45,493 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:45:45,524 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:45:45,589 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:45:48,965 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:45:48,965 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:45:48,965 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:45:49,029 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:45:52,079 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:45:52,080 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:45:52,080 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:45:52,081 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:45:52,082 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:45:52,082 - options_module - INFO - Verifying client connection
2025-05-19 09:45:52,083 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:52,083 - options_module - INFO - Verifying client connection
2025-05-19 09:45:52,084 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:52,085 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:45:52,085 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:45:59,024 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:45:59,033 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:59,033 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:45:59,034 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:59,035 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:45:59,036 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:45:59,036 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:45:59,037 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:45:59,038 - options_module - INFO - Verifying client connection
2025-05-19 09:45:59,038 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:59,038 - options_module - INFO - Verifying client connection
2025-05-19 09:45:59,039 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:45:59,039 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:45:59,041 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:45:59,041 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:45:59,042 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:45:59,043 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:45:59,043 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:45:59,043 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:45:59,044 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:45:59,076 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 09:45:59,091 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 09:45:59,134 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:45:59] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-19 09:45:59,138 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:45:59] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-19 09:45:59,462 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:45:59] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-19 09:45:59,527 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:45:59] "GET /login HTTP/1.1" 200 -
2025-05-19 09:45:59,836 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:45:59] "GET /login HTTP/1.1" 200 -
2025-05-19 09:46:00,312 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:46:05,222 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:05] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 09:46:05,248 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:05] "GET / HTTP/1.1" 200 -
2025-05-19 09:46:13,022 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 09:46:14,079 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 09:46:16,906 - __main__ - INFO - No trades found for today for M543167
2025-05-19 09:46:19,024 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:19] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 09:46:19,042 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:19] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:46:19,416 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:19] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:46:29,416 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:29] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:46:35,808 - angel_websocket_manager - ERROR - Cannot connect: Missing authentication parameters
2025-05-19 09:46:35,809 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:35] "POST /api/websocket/reconnect HTTP/1.1" 200 -
2025-05-19 09:46:39,129 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:39] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:46:41,442 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:41] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:46:49,122 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:46:49] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:00,036 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:00] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:09,724 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:09] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:20,024 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:20] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:29,719 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:29] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:40,029 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:40] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:50,037 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:50] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:47:59,423 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:47:59] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:09,719 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:09] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:20,031 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:20] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:30,031 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:30] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:40,032 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:40] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:50,050 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:50] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:48:59,717 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:48:59] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:50:02,061 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:50:02] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:50:38,252 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:50:59,452 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:51:29,473 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-19 09:51:29,524 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 09:51:29,526 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 09:51:29,527 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 09:56:56,332 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:56:56,333 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:56:56,334 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:56:56,334 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:56:56,364 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:56:56,435 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:57:01,051 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:57:01,052 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:57:01,053 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:57:01,142 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:57:05,933 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:57:05,933 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:57:05,934 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:57:05,934 - options_module - INFO - Verifying client connection
2025-05-19 09:57:05,934 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:05,935 - options_module - INFO - Verifying client connection
2025-05-19 09:57:05,935 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:05,935 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:57:05,935 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:57:13,925 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:57:13,933 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:13,933 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:57:13,933 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 09:57:13,935 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:57:13,936 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:57:13,941 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 09:57:13,942 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:57:13,943 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:13,943 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:57:13,944 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:57:13,944 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:57:13,945 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:57:13,946 - options_module - INFO - Verifying client connection
2025-05-19 09:57:13,946 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:13,946 - options_module - INFO - Verifying client connection
2025-05-19 09:57:13,947 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:13,947 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:57:13,948 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:13,948 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:57:13,949 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:57:13,949 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:57:13,950 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:57:13,950 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:57:13,951 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:57:13,952 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:57:13,952 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 09:57:14,269 - websocket - INFO - Websocket connected
2025-05-19 09:57:14,269 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:57:14,270 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:57:14,277 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:57:14,278 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 09:57:14,279 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 09:57:14,279 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 09:57:14,280 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 09:57:14,280 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 09:57:14,284 - websocket - INFO - Websocket connected
2025-05-19 09:57:14,285 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 09:57:14,285 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 09:57:14,285 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 09:57:14,315 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 09:57:14,315 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 09:57:14,330 - werkzeug - INFO -  * Restarting with stat
2025-05-19 09:57:14,627 - websocket - INFO - Websocket connected
2025-05-19 09:57:14,628 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:57:14,628 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:57:14,629 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:57:17,488 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:57:17,489 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:57:17,490 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:57:17,490 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:57:17,521 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:57:17,579 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:57:19,282 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 09:57:20,453 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:57:20,454 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:57:20,454 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:57:20,501 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:57:23,342 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:57:23,343 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:57:23,343 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:57:23,344 - options_module - INFO - Verifying client connection
2025-05-19 09:57:23,345 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:23,345 - options_module - INFO - Verifying client connection
2025-05-19 09:57:23,346 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:23,351 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:57:23,352 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:57:30,684 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:57:30,693 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:30,693 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:57:30,694 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 09:57:30,696 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:57:30,696 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:57:30,697 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 09:57:30,697 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:57:30,698 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:30,699 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:57:30,699 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:57:30,700 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:57:30,701 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:57:30,701 - options_module - INFO - Verifying client connection
2025-05-19 09:57:30,701 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:30,702 - options_module - INFO - Verifying client connection
2025-05-19 09:57:30,702 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:57:30,702 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:57:30,703 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:57:30,704 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:57:30,704 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:57:30,705 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:57:30,705 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:57:30,706 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:57:30,708 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:57:30,709 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:57:30,710 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 09:57:30,732 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 09:57:30,913 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 09:57:30,971 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:30] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 09:57:30,975 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:30] "[32mGET /dashboard HTTP/1.1[0m" 302 -
2025-05-19 09:57:30,981 - websocket - INFO - Websocket connected
2025-05-19 09:57:30,981 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:57:30,982 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:57:30,984 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:57:30,994 - websocket - INFO - Websocket connected
2025-05-19 09:57:30,994 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:57:30,994 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:57:30,995 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 09:57:30,996 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:57:30,996 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 09:57:30,997 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 09:57:30,997 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 09:57:30,997 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 09:57:31,011 - websocket - INFO - Websocket connected
2025-05-19 09:57:31,011 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 09:57:31,011 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 09:57:31,012 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 09:57:31,285 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:31] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 09:57:31,374 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:31] "GET /login HTTP/1.1" 200 -
2025-05-19 09:57:31,640 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:31] "GET /login HTTP/1.1" 200 -
2025-05-19 09:57:31,923 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:31] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:57:35,999 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 09:57:39,504 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:39] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 09:57:39,524 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:39] "GET / HTTP/1.1" 200 -
2025-05-19 09:57:40,817 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:40] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:57:41,129 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:41] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:57:41,487 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:41] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:57:43,381 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:43] "GET /accounts HTTP/1.1" 200 -
2025-05-19 09:57:43,479 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:43] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:57:44,719 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:44] "GET /positions HTTP/1.1" 200 -
2025-05-19 09:57:45,033 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:57:45,532 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:45] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 09:57:47,282 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 09:57:48,278 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 09:57:51,101 - __main__ - INFO - No trades found for today for M543167
2025-05-19 09:57:53,026 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:53] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 09:57:53,352 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 09:57:53,615 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:57:53] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:58:03,753 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 09:58:03] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 09:58:12,023 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:58:30,702 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 09:58:30,706 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 09:58:30,706 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 09:58:30,772 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 09:58:30,773 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 09:58:30,773 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 09:58:31,077 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 09:58:31,078 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 09:58:31,078 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 09:58:31,080 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 09:58:31,276 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 09:58:44,629 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 09:58:44,629 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 09:58:44,630 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 09:58:49,631 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 09:58:49,633 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:58:49,749 - websocket - INFO - Websocket connected
2025-05-19 09:58:49,749 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:58:49,750 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:58:49,751 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:59:01,286 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-19 09:59:01,290 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 09:59:01,291 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 09:59:01,305 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 09:59:01,306 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 09:59:01,307 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 09:59:01,319 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 09:59:01,320 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 09:59:01,320 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 09:59:01,321 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 09:59:47,030 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 09:59:47,031 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 09:59:47,031 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 09:59:47,032 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 09:59:47,054 - __main__ - INFO - Initializing 2 client connections
2025-05-19 09:59:47,102 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 09:59:49,720 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:59:49,721 - __main__ - INFO - Login successful for client: V410166
2025-05-19 09:59:49,721 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 09:59:49,764 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 09:59:52,087 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 09:59:52,087 - __main__ - INFO - Login successful for client: M543167
2025-05-19 09:59:52,087 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 09:59:52,088 - options_module - INFO - Verifying client connection
2025-05-19 09:59:52,088 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:59:52,088 - options_module - INFO - Verifying client connection
2025-05-19 09:59:52,089 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:59:52,089 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:59:52,089 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 09:59:58,491 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 09:59:58,496 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:59:58,496 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:59:58,497 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 09:59:58,498 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:59:58,499 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:59:58,500 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 09:59:58,501 - __main__ - INFO - WebSocket connections initialized
2025-05-19 09:59:58,503 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:59:58,504 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 09:59:58,505 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 09:59:58,505 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 09:59:58,506 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 09:59:58,506 - options_module - INFO - Verifying client connection
2025-05-19 09:59:58,506 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:59:58,507 - options_module - INFO - Verifying client connection
2025-05-19 09:59:58,507 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 09:59:58,507 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 09:59:58,508 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 09:59:58,508 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 09:59:58,509 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 09:59:58,509 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 09:59:58,510 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 09:59:58,510 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 09:59:58,511 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 09:59:58,512 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 09:59:58,512 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 09:59:58,626 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 09:59:58,626 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 09:59:58,630 - werkzeug - INFO -  * Restarting with stat
2025-05-19 09:59:58,685 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 09:59:58,686 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 09:59:58,686 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 09:59:58,687 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 09:59:58,687 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 09:59:58,689 - websocket - INFO - Websocket connected
2025-05-19 09:59:58,689 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 09:59:58,690 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 09:59:58,690 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 09:59:59,720 - websocket - INFO - Websocket connected
2025-05-19 09:59:59,720 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:59:59,720 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:59:59,721 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 09:59:59,722 - websocket - INFO - Websocket connected
2025-05-19 09:59:59,722 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 09:59:59,722 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 09:59:59,724 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:00:01,060 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 10:00:01,061 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 10:00:01,061 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 10:00:01,062 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 10:00:01,083 - __main__ - INFO - Initializing 2 client connections
2025-05-19 10:00:01,130 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 10:00:03,688 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:00:04,001 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:00:04,002 - __main__ - INFO - Login successful for client: V410166
2025-05-19 10:00:04,002 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 10:00:04,052 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 10:00:06,325 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:00:06,326 - __main__ - INFO - Login successful for client: M543167
2025-05-19 10:00:06,326 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 10:00:06,326 - options_module - INFO - Verifying client connection
2025-05-19 10:00:06,327 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:00:06,327 - options_module - INFO - Verifying client connection
2025-05-19 10:00:06,327 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:00:06,327 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:00:06,328 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 10:00:12,533 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 10:00:12,539 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:00:12,539 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:00:12,539 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 10:00:12,541 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:00:12,542 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:00:12,543 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 10:00:12,543 - __main__ - INFO - WebSocket connections initialized
2025-05-19 10:00:12,544 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:00:12,545 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 10:00:12,546 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 10:00:12,546 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 10:00:12,547 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 10:00:12,547 - options_module - INFO - Verifying client connection
2025-05-19 10:00:12,548 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:00:12,548 - options_module - INFO - Verifying client connection
2025-05-19 10:00:12,548 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:00:12,549 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:00:12,550 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:00:12,550 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:00:12,551 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 10:00:12,551 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 10:00:12,551 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 10:00:12,552 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 10:00:12,553 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:00:12,554 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:00:12,555 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 10:00:12,741 - websocket - INFO - Websocket connected
2025-05-19 10:00:12,741 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:00:12,741 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:00:12,743 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:00:12,744 - websocket - INFO - Websocket connected
2025-05-19 10:00:12,744 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:00:12,745 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:00:12,746 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 10:00:12,746 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:00:12,751 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 10:00:12,781 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 10:00:12,781 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 10:00:12,782 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:00:12,782 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:00:12,782 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:00:12,787 - websocket - INFO - Websocket connected
2025-05-19 10:00:12,788 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:00:12,788 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:00:12,788 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:00:17,644 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:00:17] "[32mGET /accounts HTTP/1.1[0m" 302 -
2025-05-19 10:00:17,694 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:00:17] "GET /login HTTP/1.1" 200 -
2025-05-19 10:00:17,784 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:00:17,978 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:00:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:01:19,714 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:19] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 10:01:19,733 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:19] "GET / HTTP/1.1" 200 -
2025-05-19 10:01:22,164 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:22] "GET /accounts HTTP/1.1" 200 -
2025-05-19 10:01:22,471 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:01:25,329 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 10:01:26,136 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 10:01:28,569 - __main__ - INFO - No trades found for today for M543167
2025-05-19 10:01:29,708 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:01:29,708 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:01:29,709 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:01:30,196 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:30] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 10:01:30,213 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:30] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:01:30,250 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:30] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:01:34,710 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:01:34,712 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:01:34,875 - websocket - INFO - Websocket connected
2025-05-19 10:01:34,876 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:01:34,877 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:01:34,880 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:01:41,029 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:41] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:01:42,694 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:01:42,695 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:01:42,695 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:01:47,696 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:01:47,698 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:01:48,887 - websocket - INFO - Websocket connected
2025-05-19 10:01:48,888 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:01:48,888 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:01:48,888 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:01:50,728 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:01:50] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:01:58,686 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:01:58,687 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:01:58,687 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:02:01,043 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:01] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:03,688 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:02:03,690 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:02:04,034 - websocket - INFO - Websocket connected
2025-05-19 10:02:04,034 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:02:04,034 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:02:04,034 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:02:10,725 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:10] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:21,033 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:21] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:30,722 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:30] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:43,926 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:43] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:50,266 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:50] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:02:53,661 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:53] "GET /accounts HTTP/1.1" 200 -
2025-05-19 10:02:53,811 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:02:56,085 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:56] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:02:56,380 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:56] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:02:56,797 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:02:57,387 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:57] "GET /options HTTP/1.1" 200 -
2025-05-19 10:02:57,409 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:02:57,775 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-19 10:02:57,858 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-19 10:02:57,865 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:02:57] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-19 10:02:58,518 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:02:58,519 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:02:58,520 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:03:00,312 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:03:00] "GET /orders HTTP/1.1" 200 -
2025-05-19 10:03:00,327 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:03:00] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:03:03,522 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:03:03,523 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:03:03,635 - websocket - INFO - Websocket connected
2025-05-19 10:03:03,636 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:03:03,636 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:03:03,638 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:03:12,571 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:03:12,572 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:03:12,573 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:03:17,575 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:03:17,577 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:03:17,697 - websocket - INFO - Websocket connected
2025-05-19 10:03:17,697 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:03:17,698 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:03:17,698 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:04:28,521 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:04:28,522 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:04:28,523 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:04:33,526 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:04:33,528 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:04:33,674 - websocket - INFO - Websocket connected
2025-05-19 10:04:33,675 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:04:33,675 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:04:33,677 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:04:42,571 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:04:42,572 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:04:42,573 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:04:47,575 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:04:47,577 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:04:47,708 - websocket - INFO - Websocket connected
2025-05-19 10:04:47,708 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:04:47,708 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:04:47,709 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:05:21,877 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:21] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:05:22,019 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:22] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:05:22,133 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:22] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:05:23,348 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:23] "GET /accounts HTTP/1.1" 200 -
2025-05-19 10:05:23,653 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:23] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:05:27,194 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 10:05:28,041 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 10:05:30,564 - __main__ - INFO - No trades found for today for M543167
2025-05-19 10:05:32,262 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:32] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 10:05:32,278 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:05:32,356 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:32] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:05:43,031 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:43] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:05:45,875 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:45] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:05:46,182 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:05:46,546 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:05:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:05:58,525 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:05:58,525 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:05:58,526 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:06:03,529 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:06:03,535 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:06:03,657 - websocket - INFO - Websocket connected
2025-05-19 10:06:03,657 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:06:03,658 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:06:03,658 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:06:07,033 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:07] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:06:12,576 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:06:12,576 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:06:12,576 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:06:15,022 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 10:06:15,818 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 10:06:17,581 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:06:17,589 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:06:17,702 - websocket - INFO - Websocket connected
2025-05-19 10:06:17,702 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:06:17,703 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:06:17,704 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:06:19,267 - __main__ - INFO - No trades found for today for M543167
2025-05-19 10:06:21,077 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:21] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 10:06:21,103 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:21] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:06:21,145 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:21] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:06:31,479 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:31] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:06:41,468 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:41] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:06:51,475 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:06:51] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:07:01,827 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:01] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:07:03,322 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:03] "GET /accounts HTTP/1.1" 200 -
2025-05-19 10:07:03,355 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:07:04,627 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:04] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:07:04,943 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:07:05,286 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:05] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:07:26,026 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:07:28,531 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:07:28,532 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:07:28,532 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:07:33,536 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:07:33,563 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:07:33,822 - websocket - INFO - Websocket connected
2025-05-19 10:07:33,824 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:07:33,824 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:07:33,826 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:07:42,586 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:07:42,587 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:07:42,587 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:07:46,036 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:07:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:07:47,588 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:07:47,590 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:07:47,724 - websocket - INFO - Websocket connected
2025-05-19 10:07:47,724 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:07:47,725 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:07:47,725 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:08:06,034 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:08:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:08:26,025 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:08:26] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:08:46,075 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:08:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:08:58,541 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:08:58,563 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:08:58,602 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:09:03,911 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:09:03,918 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:09:04,069 - websocket - INFO - Websocket connected
2025-05-19 10:09:04,069 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:09:04,070 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:09:04,071 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:09:12,591 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:09:12,592 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:09:12,592 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:09:17,594 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:09:17,595 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:09:17,716 - websocket - INFO - Websocket connected
2025-05-19 10:09:17,716 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:09:17,716 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:09:17,717 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:10:02,083 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:10:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:10:28,567 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:10:28,568 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:10:28,568 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:10:33,569 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:10:33,605 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:10:33,716 - websocket - INFO - Websocket connected
2025-05-19 10:10:33,717 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:10:33,717 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:10:33,718 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:10:42,596 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:10:42,597 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:10:42,598 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:10:47,599 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:10:47,601 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:10:47,714 - websocket - INFO - Websocket connected
2025-05-19 10:10:47,715 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:10:47,715 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:10:47,717 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:11:01,724 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:11:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:11:28,608 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:11:28,608 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:11:28,609 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:11:33,651 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:11:33,944 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:11:34,654 - websocket - INFO - Websocket connected
2025-05-19 10:11:34,655 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:11:34,655 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:11:34,656 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:12:02,037 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:12:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:12:12,596 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:12:12,597 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:12:12,598 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:12:17,599 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:12:17,600 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:12:17,744 - websocket - INFO - Websocket connected
2025-05-19 10:12:17,744 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:12:17,745 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:12:17,745 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:12:28,635 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:12:28,636 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:12:28,637 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:12:33,638 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:12:33,639 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:12:33,765 - websocket - INFO - Websocket connected
2025-05-19 10:12:33,766 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:12:33,766 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:12:33,767 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:13:01,752 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:13:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:13:42,599 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:13:42,600 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:13:42,600 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:13:47,602 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:13:47,604 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:13:47,779 - websocket - INFO - Websocket connected
2025-05-19 10:13:47,779 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:13:47,780 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:13:47,781 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:13:58,640 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:13:58,642 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:13:58,642 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:14:02,121 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:14:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:14:03,644 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:14:03,650 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:14:04,003 - websocket - INFO - Websocket connected
2025-05-19 10:14:04,003 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:14:04,003 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:14:04,004 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:15:01,728 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:15:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:15:12,614 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:15:12,615 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:15:12,615 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:15:17,617 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:15:17,618 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:15:17,782 - websocket - INFO - Websocket connected
2025-05-19 10:15:17,783 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:15:17,783 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:15:17,784 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:15:28,644 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:15:28,678 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:15:28,679 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:15:33,681 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:15:33,683 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:15:33,934 - websocket - INFO - Websocket connected
2025-05-19 10:15:33,935 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:15:33,935 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:15:33,936 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:16:02,041 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:16:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:16:28,695 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:16:28,695 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:16:28,695 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:16:33,697 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:16:33,698 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:16:33,871 - websocket - INFO - Websocket connected
2025-05-19 10:16:33,871 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:16:33,872 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:16:33,872 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:16:42,617 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:16:42,618 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:16:42,618 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:16:47,619 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:16:47,620 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:16:47,820 - websocket - INFO - Websocket connected
2025-05-19 10:16:47,821 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:16:47,822 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:16:47,824 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:17:01,722 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:17:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:17:23,859 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\options_trade_manager.py', reloading
2025-05-19 10:17:23,873 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 10:17:28,751 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:17:28,751 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:17:28,752 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:17:33,753 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:17:33,756 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:17:33,932 - websocket - INFO - Websocket connected
2025-05-19 10:17:33,932 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:17:33,932 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:17:33,933 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:17:54,900 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 10:17:58,735 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 10:17:58,747 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 10:17:58,748 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 10:17:58,762 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:17:58,768 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:17:58,768 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 10:17:58,800 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 10:17:58,801 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:17:58,801 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 10:17:58,801 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 10:23:05,759 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 10:23:05,760 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 10:23:05,761 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 10:23:05,762 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 10:23:05,792 - __main__ - INFO - Initializing 2 client connections
2025-05-19 10:23:05,851 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 10:23:09,639 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:23:09,640 - __main__ - INFO - Login successful for client: V410166
2025-05-19 10:23:09,640 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 10:23:09,699 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 10:23:12,348 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:23:12,349 - __main__ - INFO - Login successful for client: M543167
2025-05-19 10:23:12,349 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 10:23:12,349 - options_module - INFO - Verifying client connection
2025-05-19 10:23:12,350 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:12,350 - options_module - INFO - Verifying client connection
2025-05-19 10:23:12,350 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:12,351 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:23:12,351 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 10:23:18,655 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 10:23:18,661 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:18,662 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:23:18,662 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 10:23:18,664 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:18,665 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:23:18,665 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 10:23:18,666 - __main__ - INFO - WebSocket connections initialized
2025-05-19 10:23:18,667 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:18,667 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 10:23:18,668 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 10:23:18,668 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 10:23:18,669 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 10:23:18,669 - options_module - INFO - Verifying client connection
2025-05-19 10:23:18,669 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:18,670 - options_module - INFO - Verifying client connection
2025-05-19 10:23:18,670 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:18,670 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:23:18,671 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:18,671 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:23:18,672 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 10:23:18,672 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 10:23:18,673 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 10:23:18,673 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 10:23:18,675 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:18,676 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:23:18,676 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 10:23:18,886 - websocket - INFO - Websocket connected
2025-05-19 10:23:18,886 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:23:18,887 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:23:18,887 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:23:18,891 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 10:23:18,892 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 10:23:18,898 - werkzeug - INFO -  * Restarting with stat
2025-05-19 10:23:18,902 - websocket - INFO - Websocket connected
2025-05-19 10:23:18,902 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:23:18,903 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:23:18,904 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:23:18,941 - websocket - INFO - Websocket connected
2025-05-19 10:23:18,941 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:23:18,942 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:23:18,942 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:23:19,111 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 10:23:19,112 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 10:23:19,112 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:23:19,112 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:23:19,113 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:23:21,243 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 10:23:21,244 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 10:23:21,244 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 10:23:21,245 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 10:23:21,267 - __main__ - INFO - Initializing 2 client connections
2025-05-19 10:23:21,312 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 10:23:23,676 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:23:23,676 - __main__ - INFO - Login successful for client: V410166
2025-05-19 10:23:23,676 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 10:23:23,720 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 10:23:24,113 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:23:24,115 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:24,210 - websocket - INFO - Websocket connected
2025-05-19 10:23:24,210 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:23:24,211 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:23:24,211 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:23:25,933 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:23:25,933 - __main__ - INFO - Login successful for client: M543167
2025-05-19 10:23:25,934 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 10:23:25,934 - options_module - INFO - Verifying client connection
2025-05-19 10:23:25,934 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:25,935 - options_module - INFO - Verifying client connection
2025-05-19 10:23:25,935 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:25,935 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:23:25,935 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 10:23:32,188 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 10:23:32,195 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:32,195 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:23:32,196 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 10:23:32,197 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:32,198 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:23:32,199 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 10:23:32,199 - __main__ - INFO - WebSocket connections initialized
2025-05-19 10:23:32,200 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:32,200 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 10:23:32,201 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 10:23:32,201 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 10:23:32,202 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 10:23:32,203 - options_module - INFO - Verifying client connection
2025-05-19 10:23:32,203 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:32,203 - options_module - INFO - Verifying client connection
2025-05-19 10:23:32,203 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:23:32,204 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:23:32,205 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:23:32,205 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:23:32,205 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 10:23:32,206 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 10:23:32,206 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 10:23:32,207 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 10:23:32,208 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:32,209 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:23:32,209 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 10:23:32,421 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 10:23:32,431 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 10:23:32,446 - websocket - INFO - Websocket connected
2025-05-19 10:23:32,447 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:23:32,447 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:23:32,448 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:23:32,451 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 10:23:32,452 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 10:23:32,452 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:23:32,452 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:23:32,453 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:23:32,467 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:32] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-19 10:23:32,483 - websocket - INFO - Websocket connected
2025-05-19 10:23:32,483 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:23:32,484 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:23:32,485 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:23:32,503 - websocket - INFO - Websocket connected
2025-05-19 10:23:32,503 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:23:32,504 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:23:32,505 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:23:32,822 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:32] "GET /login HTTP/1.1" 200 -
2025-05-19 10:23:33,178 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:33] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:23:37,454 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:23:37,455 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:23:43,901 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:43] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 10:23:44,222 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:44] "GET / HTTP/1.1" 200 -
2025-05-19 10:23:44,617 - websocket - INFO - Websocket connected
2025-05-19 10:23:44,618 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:23:44,618 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:23:44,619 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:23:46,273 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:46] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:23:46,292 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:46] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:23:46,667 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:46] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:23:49,551 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 10:23:50,281 - __main__ - ERROR - Exception getting holdings for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-19 10:23:52,763 - __main__ - INFO - No trades found for today for M543167
2025-05-19 10:23:54,288 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:54] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 10:23:54,304 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:23:54,653 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:23:54] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:04,352 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:04] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:15,025 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:15] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:24,732 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:24] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:35,032 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:35] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:44,723 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:44] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:24:48,902 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:24:48,903 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:24:48,903 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:24:53,904 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:24:53,905 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:24:54,230 - websocket - INFO - Websocket connected
2025-05-19 10:24:54,231 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:24:54,231 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:24:54,233 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:24:55,028 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:24:55] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:25:02,742 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:25:02,743 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:25:02,743 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:25:04,722 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:25:04] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:25:07,744 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:25:07,745 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:25:07,906 - websocket - INFO - Websocket connected
2025-05-19 10:25:07,906 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:25:07,907 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:25:07,907 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:25:18,894 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:25:18,895 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:25:18,896 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:25:23,897 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:25:23,899 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:25:25,422 - websocket - INFO - Websocket connected
2025-05-19 10:25:25,423 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:25:25,423 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:25:25,423 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:25:31,828 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "22MAY2025", "underlying_price": "25051", "underlying_stop_loss": "25000", "underlying_target": "26000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 10:25:31,829 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 10:25:31,829 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 20
2025-05-19 10:25:31,830 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:25:31,958 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:25:31,962 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:25:31,970 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 10:25:32,443 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:25:32,445 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:25:32,447 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:25:37,492 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:25:37,531 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:25:37,832 - websocket - INFO - Websocket connected
2025-05-19 10:25:37,843 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:25:37,850 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:25:37,866 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:25:39,451 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:25:39,451 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:25:39,452 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25051.0
2025-05-19 10:25:39,452 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 20)
2025-05-19 10:25:39,452 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 10:25:39,506 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:25:39,508 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 10:25:39,657 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 10:25:40,612 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:25:40,613 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '169.2'}
2025-05-19 10:25:41,746 - __main__ - INFO - Raw API response: 250519000308530
2025-05-19 10:25:41,747 - __main__ - INFO - Received order ID as direct string response: 250519000308530
2025-05-19 10:25:41,747 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000308530
2025-05-19 10:25:42,711 - options_trade_manager - ERROR - Order 250519000308530 was not executed successfully: rejected
2025-05-19 10:25:42,711 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:25:42,755 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:25:42,756 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:25:42,760 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 10:25:49,605 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:25:49,606 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:25:49,607 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25051.0
2025-05-19 10:25:49,607 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 20)
2025-05-19 10:25:49,607 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 10:25:49,650 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:25:49,651 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 10:25:49,774 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 10:25:50,523 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:25:50,523 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '167.9'}
2025-05-19 10:25:51,274 - __main__ - INFO - Raw API response: 250519000320335
2025-05-19 10:25:51,274 - __main__ - INFO - Received order ID as direct string response: 250519000320335
2025-05-19 10:25:51,274 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250519000320335
2025-05-19 10:25:52,025 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-19 10:25:52,026 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:25:52] "POST /options-webhook HTTP/1.1" 200 -
2025-05-19 10:26:02,045 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:26:02] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:26:18,678 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-19 10:26:18,679 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:26:18,680 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:26:19,694 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:26:20,457 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:26:21,365 - options_module - INFO - Got price for index NIFTY: 25038.0
2025-05-19 10:26:21,366 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:26:32,211 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-19 10:26:32,213 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:26:32,214 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:26:33,093 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:26:33,862 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:26:34,641 - options_module - INFO - Got price for index NIFTY: 25031.0
2025-05-19 10:26:34,642 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:27:02,037 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:27:02] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:27:11,884 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:27:11,885 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:27:11,885 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:27:12,015 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:27:12,016 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:27:12,016 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:27:16,886 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:27:16,887 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:27:17,018 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:27:17,019 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:27:17,059 - websocket - INFO - Websocket connected
2025-05-19 10:27:17,060 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:27:17,060 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:27:17,061 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:27:17,176 - websocket - INFO - Websocket connected
2025-05-19 10:27:17,177 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:27:17,177 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:27:17,178 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:27:18,684 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:27:18,684 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:27:18,685 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:27:22,092 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:27:22,915 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:27:23,686 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:27:23,687 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:27:23,721 - options_module - INFO - Got price for index NIFTY: 25019.9
2025-05-19 10:27:23,721 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:27:23,931 - websocket - INFO - Websocket connected
2025-05-19 10:27:23,931 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:27:23,932 - angel_websocket_manager - INFO - Restoring 1 subscription requests
2025-05-19 10:27:24,033 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:27:24,033 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:27:24,034 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:27:32,222 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:27:32,222 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:27:32,223 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:27:35,364 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:27:36,073 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:27:36,831 - options_module - INFO - Got price for index NIFTY: 25018.6
2025-05-19 10:27:36,831 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:27:37,225 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:27:37,226 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:27:37,342 - websocket - INFO - Websocket connected
2025-05-19 10:27:37,342 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:27:37,342 - angel_websocket_manager - INFO - Restoring 1 subscription requests
2025-05-19 10:27:37,443 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:27:37,446 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:27:37,446 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:28:01,735 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:01] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:28:14,627 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:14] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 10:28:15,352 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:15] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:28:15,672 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:28:15,728 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:28:18,717 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:28:18,718 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:28:18,719 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:28:23,720 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:28:23,722 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:28:24,912 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:28:25,051 - websocket - INFO - Websocket connected
2025-05-19 10:28:25,052 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:28:25,052 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:28:25,053 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:28:25,701 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:28:26,491 - options_module - INFO - Got price for index NIFTY: 25021.4
2025-05-19 10:28:26,492 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:28:32,243 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:28:32,244 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:28:32,244 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:28:35,731 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:28:37,245 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:28:37,246 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:28:37,467 - websocket - INFO - Websocket connected
2025-05-19 10:28:37,468 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:28:37,468 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:28:37,469 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:28:38,080 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:28:38,824 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:28:39,629 - options_module - INFO - Got price for index NIFTY: 25018.45
2025-05-19 10:28:39,630 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:28:56,041 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:28:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:29:15,741 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:29:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:29:27,197 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:29:27,908 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:29:28,683 - options_module - INFO - Got price for index NIFTY: 25025.15
2025-05-19 10:29:28,684 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:29:36,044 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:29:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:29:40,363 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:29:41,105 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:29:42,041 - options_module - INFO - Got price for index NIFTY: 25025.05
2025-05-19 10:29:42,042 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:29:48,724 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:29:48,725 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:29:48,725 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:29:53,726 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:29:53,728 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:29:53,900 - websocket - INFO - Websocket connected
2025-05-19 10:29:53,901 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:29:53,901 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:29:53,902 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:29:55,744 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:29:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:30:02,257 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:30:02,257 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:30:02,257 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:30:07,259 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:30:07,260 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:30:07,455 - websocket - INFO - Websocket connected
2025-05-19 10:30:07,456 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:30:07,456 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:30:07,458 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:30:16,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:30:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:30:29,402 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:30:30,190 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:30:30,963 - options_module - INFO - Got price for index NIFTY: 25018.85
2025-05-19 10:30:30,964 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:30:35,743 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:30:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:30:43,907 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:30:45,029 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:30:45,849 - options_module - INFO - Got price for index NIFTY: 25017.35
2025-05-19 10:30:45,849 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:30:56,054 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:30:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:31:16,057 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:31:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:31:18,725 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:31:18,726 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:31:18,726 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:31:23,728 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:31:23,729 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:31:23,916 - websocket - INFO - Websocket connected
2025-05-19 10:31:23,917 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:31:23,918 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:31:23,921 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:31:32,069 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:31:32,256 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:31:32,256 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:31:32,257 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:31:32,818 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:31:33,600 - options_module - INFO - Got price for index NIFTY: 25023.05
2025-05-19 10:31:33,601 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:31:35,748 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:31:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:31:37,258 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:31:37,260 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:31:38,471 - websocket - INFO - Websocket connected
2025-05-19 10:31:38,472 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:31:38,472 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:31:38,474 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:31:46,570 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:31:47,310 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:31:48,096 - options_module - INFO - Got price for index NIFTY: 25024.65
2025-05-19 10:31:48,097 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:31:56,057 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:31:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:32:15,735 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:32:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:32:34,335 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:32:35,062 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:32:35,855 - options_module - INFO - Got price for index NIFTY: 25025.5
2025-05-19 10:32:36,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:32:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:32:37,067 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:32:48,727 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:32:48,728 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:32:48,728 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:32:48,901 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:32:50,060 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:32:50,880 - options_module - INFO - Got price for index NIFTY: 25026.15
2025-05-19 10:32:50,881 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:32:53,730 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:32:53,731 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:32:53,914 - websocket - INFO - Websocket connected
2025-05-19 10:32:53,915 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:32:53,916 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:32:53,918 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:32:55,740 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:32:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:33:02,264 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:33:02,264 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:33:02,264 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:33:07,265 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:33:07,268 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:33:07,374 - websocket - INFO - Websocket connected
2025-05-19 10:33:07,374 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:33:07,375 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:33:07,375 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:33:16,052 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:33:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:33:35,733 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:33:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:33:37,805 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:33:38,547 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:33:39,329 - options_module - INFO - Got price for index NIFTY: 25031.4
2025-05-19 10:33:39,330 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:33:51,662 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:33:52,572 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:33:53,428 - options_module - INFO - Got price for index NIFTY: 25034.3
2025-05-19 10:33:53,429 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:33:56,059 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:33:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:34:15,743 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:34:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:34:18,729 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:34:18,729 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:34:18,729 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:34:23,731 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:34:23,732 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:34:23,855 - websocket - INFO - Websocket connected
2025-05-19 10:34:23,855 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:34:23,856 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:34:23,857 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:34:32,259 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:34:32,260 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:34:32,260 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:34:36,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:34:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:34:37,263 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:34:37,264 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:34:37,392 - websocket - INFO - Websocket connected
2025-05-19 10:34:37,393 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:34:37,393 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:34:37,394 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:34:40,535 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:34:41,296 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:34:42,137 - options_module - INFO - Got price for index NIFTY: 25027.15
2025-05-19 10:34:42,138 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:34:54,158 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:34:54,914 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:34:55,737 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:34:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:34:55,782 - options_module - INFO - Got price for index NIFTY: 25025.45
2025-05-19 10:34:55,782 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:35:16,044 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:35:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:35:35,736 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:35:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:35:42,874 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:35:43,614 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:35:44,409 - options_module - INFO - Got price for index NIFTY: 25019.65
2025-05-19 10:35:45,659 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:35:48,712 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:35:48,713 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:35:48,714 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:35:53,716 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:35:53,719 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:35:53,864 - websocket - INFO - Websocket connected
2025-05-19 10:35:53,864 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:35:53,865 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:35:53,866 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:35:56,046 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:35:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:35:56,548 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:35:57,306 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:35:58,550 - options_module - INFO - Got price for index NIFTY: 25020.9
2025-05-19 10:35:58,557 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:36:02,242 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:36:02,242 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:36:02,242 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:36:07,244 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:36:07,245 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:36:07,353 - websocket - INFO - Websocket connected
2025-05-19 10:36:07,354 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:36:07,354 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:36:07,355 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:36:15,734 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:36:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:36:36,056 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:36:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:36:47,212 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:36:48,012 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:36:48,844 - options_module - INFO - Got price for index NIFTY: 25024.6
2025-05-19 10:36:48,844 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:36:55,744 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:36:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:36:59,601 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:37:00,549 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:37:01,361 - options_module - INFO - Got price for index NIFTY: 25025.7
2025-05-19 10:37:01,361 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:37:16,061 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:37:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:37:18,714 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:37:18,714 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:37:18,715 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:37:23,716 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:37:23,717 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:37:24,124 - websocket - INFO - Websocket connected
2025-05-19 10:37:24,124 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:37:24,125 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:37:24,127 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:37:32,246 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:37:32,246 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:37:32,247 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:37:35,740 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:37:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:37:37,249 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:37:37,251 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:37:37,424 - websocket - INFO - Websocket connected
2025-05-19 10:37:37,425 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:37:37,425 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:37:37,426 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:37:50,867 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:37:51,782 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:37:52,583 - options_module - INFO - Got price for index NIFTY: 25021.45
2025-05-19 10:37:52,618 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:37:56,061 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:37:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:38:02,126 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:38:02,830 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:38:03,689 - options_module - INFO - Got price for index NIFTY: 25022.85
2025-05-19 10:38:04,698 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:38:15,735 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:38:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:38:36,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:38:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:38:48,718 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:38:48,719 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:38:48,720 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:38:53,366 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:38:53,722 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:38:53,726 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:38:54,101 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:38:54,877 - options_module - INFO - Got price for index NIFTY: 25020.85
2025-05-19 10:38:54,878 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:38:55,170 - websocket - INFO - Websocket connected
2025-05-19 10:38:55,171 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:38:55,172 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:38:55,173 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:38:55,738 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:38:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:39:02,246 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:39:02,247 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:39:02,248 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:39:05,492 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:39:06,296 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:39:07,102 - options_module - INFO - Got price for index NIFTY: 25017.05
2025-05-19 10:39:07,103 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:39:07,250 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:39:07,252 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:39:08,462 - websocket - INFO - Websocket connected
2025-05-19 10:39:08,463 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:39:08,463 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:39:08,463 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:39:16,040 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:39:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:39:35,748 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:39:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:39:55,594 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:39:56,060 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:39:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:39:56,336 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:39:57,193 - options_module - INFO - Got price for index NIFTY: 25011.2
2025-05-19 10:39:58,452 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:40:07,827 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:40:08,537 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:40:10,731 - options_module - INFO - Got price for index NIFTY: 25011.55
2025-05-19 10:40:10,731 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:40:15,735 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:40:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:40:18,746 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:40:18,746 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:40:18,747 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:40:23,749 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:40:23,750 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:40:24,342 - websocket - INFO - Websocket connected
2025-05-19 10:40:24,343 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:40:24,343 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:40:24,345 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:40:32,271 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:40:32,271 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:40:32,272 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:40:36,035 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:40:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:40:37,274 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:40:37,276 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:40:37,449 - websocket - INFO - Websocket connected
2025-05-19 10:40:37,450 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:40:37,451 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:40:37,453 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:40:55,750 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:40:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:40:59,159 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:40:59,894 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:41:00,801 - options_module - INFO - Got price for index NIFTY: 25016.8
2025-05-19 10:41:01,752 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:41:11,453 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:41:12,184 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:41:12,975 - options_module - INFO - Got price for index NIFTY: 25016.1
2025-05-19 10:41:13,872 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:41:16,045 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:41:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:41:35,740 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:41:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:41:48,751 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:41:48,751 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:41:48,752 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:41:53,753 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:41:53,754 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:41:53,945 - websocket - INFO - Websocket connected
2025-05-19 10:41:53,945 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:41:53,946 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:41:53,946 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:41:56,049 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:41:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:42:02,274 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:42:02,274 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:42:02,275 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:42:02,698 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:42:03,556 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:42:04,339 - options_module - INFO - Got price for index NIFTY: 25013.7
2025-05-19 10:42:04,339 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:42:07,276 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:42:07,278 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:42:07,449 - websocket - INFO - Websocket connected
2025-05-19 10:42:07,474 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:42:07,476 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:42:07,477 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:42:14,843 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:42:15,736 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:42:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:42:15,876 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:42:16,650 - options_module - INFO - Got price for index NIFTY: 25013.3
2025-05-19 10:42:16,652 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:42:37,032 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:42:37] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:42:57,037 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:42:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:43:05,085 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:43:05,820 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:43:06,662 - options_module - INFO - Got price for index NIFTY: 25006.8
2025-05-19 10:43:07,863 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:43:16,060 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:43:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:43:17,401 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:43:18,128 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:43:18,750 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:43:18,750 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:43:18,750 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:43:18,937 - options_module - INFO - Got price for index NIFTY: 25006.5
2025-05-19 10:43:18,938 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:43:23,752 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:43:23,754 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:43:23,943 - websocket - INFO - Websocket connected
2025-05-19 10:43:23,943 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:43:23,944 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:43:23,945 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:43:32,277 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:43:32,277 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:43:32,278 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:43:36,050 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:43:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:43:37,279 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:43:37,281 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:43:37,455 - websocket - INFO - Websocket connected
2025-05-19 10:43:37,456 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:43:37,457 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:43:37,458 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:43:55,746 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:43:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:44:08,754 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:44:09,585 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:44:10,495 - options_module - INFO - Got price for index NIFTY: 25007.55
2025-05-19 10:44:10,496 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:44:16,038 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:44:16] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:44:20,035 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:44:20,857 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:44:21,687 - options_module - INFO - Got price for index NIFTY: 25008.0
2025-05-19 10:44:21,688 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:44:35,748 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:44:35] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:44:48,747 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:44:48,749 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:44:48,749 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:44:53,752 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:44:53,753 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:44:53,989 - websocket - INFO - Websocket connected
2025-05-19 10:44:53,989 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:44:53,990 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:44:53,990 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:44:56,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:44:56] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:45:02,275 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:45:02,276 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:45:02,277 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:45:07,279 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:45:07,281 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:45:07,584 - websocket - INFO - Websocket connected
2025-05-19 10:45:07,585 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:45:07,585 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:45:07,586 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:45:11,591 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:45:12,360 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:45:13,153 - options_module - INFO - Got price for index NIFTY: 25002.0
2025-05-19 10:45:13,155 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:45:15,740 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:45:15] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:45:22,438 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:45:23,168 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:45:24,296 - options_module - INFO - Got price for index NIFTY: 25001.85
2025-05-19 10:45:25,113 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:45:28,824 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 24999.45, exiting NIFTY22MAY2525050CE
2025-05-19 10:45:28,824 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 24999.45, exiting NIFTY22MAY2525050CE
2025-05-19 10:45:28,827 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.19'}
2025-05-19 10:45:28,832 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.19'}
2025-05-19 10:45:28,863 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 24999.45, exiting NIFTY22MAY2525050CE
2025-05-19 10:45:28,864 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.19'}
2025-05-19 10:45:28,872 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 24999.45, exiting NIFTY22MAY2525050CE
2025-05-19 10:45:28,873 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '149.19'}
2025-05-19 10:45:29,941 - __main__ - INFO - Raw API response: 250519000364838
2025-05-19 10:45:29,941 - __main__ - INFO - Received order ID as direct string response: 250519000364838
2025-05-19 10:45:29,942 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (STOP_LOSS_HIT): 250519000364838
2025-05-19 10:45:29,951 - __main__ - INFO - Raw API response: 250519000364839
2025-05-19 10:45:29,951 - __main__ - INFO - Received order ID as direct string response: 250519000364839
2025-05-19 10:45:29,952 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (STOP_LOSS_HIT): 250519000364839
2025-05-19 10:45:29,960 - __main__ - INFO - Raw API response: 250519000364841
2025-05-19 10:45:29,960 - __main__ - INFO - Received order ID as direct string response: 250519000364841
2025-05-19 10:45:29,961 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (STOP_LOSS_HIT): 250519000364841
2025-05-19 10:45:29,961 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.-1053.75 (-8.53%)
2025-05-19 10:45:29,985 - __main__ - INFO - Raw API response: 250519000364842
2025-05-19 10:45:29,986 - __main__ - INFO - Received order ID as direct string response: 250519000364842
2025-05-19 10:45:29,986 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (STOP_LOSS_HIT): 250519000364842
2025-05-19 10:45:29,986 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.-1053.75 (-8.53%)
2025-05-19 10:45:30,026 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:45:30,026 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:45:30,029 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:45:30,030 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:45:30,030 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:45:30,031 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:45:30,850 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.-1008.75 (-8.16%)
2025-05-19 10:45:30,852 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.-1008.75 (-8.16%)
2025-05-19 10:45:30,937 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:45:30,937 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:45:30,941 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:45:30,943 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:45:30,943 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:45:30,943 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:45:36,054 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:45:36] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:45:55,737 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:45:55] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:46:06,651 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:06] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:46:06,681 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:06] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:46:06,866 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:06] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:46:08,937 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:08] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:46:08,962 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:08] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:46:09,187 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:46:13,252 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 10:46:14,010 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 10:46:15,621 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:15] "GET /accounts HTTP/1.1" 200 -
2025-05-19 10:46:15,637 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:15] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:46:16,336 - __main__ - INFO - No trades found for today for M543167
2025-05-19 10:46:17,096 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-19 10:46:17,610 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:17] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:46:17,760 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:46:17,865 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:17] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:46:17,964 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:17] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 10:46:18,754 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:46:18,754 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:46:18,755 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:46:23,756 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:46:23,757 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:46:25,010 - websocket - INFO - Websocket connected
2025-05-19 10:46:25,010 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:46:25,011 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:46:25,012 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:46:25,115 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:46:32,284 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:46:32,285 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:46:32,285 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:46:37,287 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:46:37,288 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:46:37,513 - websocket - INFO - Websocket connected
2025-05-19 10:46:37,513 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:46:37,513 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:46:37,514 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:46:37,795 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:37] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:46:58,118 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:46:58] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:47:17,793 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:47:17] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:47:38,122 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:47:38] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:47:48,758 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:47:48,759 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:47:48,760 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:47:53,762 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:47:53,763 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:47:54,046 - websocket - INFO - Websocket connected
2025-05-19 10:47:54,046 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:47:54,046 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:47:54,047 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:47:57,795 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:47:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:48:02,283 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:48:02,283 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:48:02,283 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:48:04,292 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:48:04] "GET /orders HTTP/1.1" 200 -
2025-05-19 10:48:04,309 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:48:04] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:48:07,284 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:48:07,287 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:48:07,447 - websocket - INFO - Websocket connected
2025-05-19 10:48:07,447 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:48:07,448 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:48:07,449 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:49:18,760 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:49:18,762 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:49:18,762 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:49:23,765 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:49:23,769 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:49:23,944 - websocket - INFO - Websocket connected
2025-05-19 10:49:23,945 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:49:23,945 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:49:23,948 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:49:32,288 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:49:32,289 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:49:32,290 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:49:37,292 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:49:37,293 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:49:37,417 - websocket - INFO - Websocket connected
2025-05-19 10:49:37,417 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:49:37,418 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:49:37,419 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:50:48,760 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:50:48,760 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:50:48,760 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:50:53,762 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:50:53,764 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:50:53,882 - websocket - INFO - Websocket connected
2025-05-19 10:50:53,882 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:50:53,882 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:50:53,883 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:51:02,291 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:51:02,292 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:51:02,292 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:51:07,294 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:51:07,297 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:51:07,410 - websocket - INFO - Websocket connected
2025-05-19 10:51:07,411 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:51:07,411 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:51:07,412 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:52:18,746 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:52:18,747 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:52:18,747 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:52:23,749 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:52:23,751 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:52:24,012 - websocket - INFO - Websocket connected
2025-05-19 10:52:24,013 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:52:24,014 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:52:24,015 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:52:32,277 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:52:32,277 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:52:32,278 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:52:37,279 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:52:37,280 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:52:37,478 - websocket - INFO - Websocket connected
2025-05-19 10:52:37,479 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:52:37,479 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:52:37,480 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:53:16,170 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\options_trade_manager.py', reloading
2025-05-19 10:53:16,175 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 10:53:18,679 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 10:53:18,680 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 10:53:18,681 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 10:53:25,122 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 10:53:25,125 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 10:53:25,126 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 10:53:25,141 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:53:25,142 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:53:25,143 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 10:53:25,172 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 10:53:25,172 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:53:25,173 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 10:53:25,173 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 10:53:25,991 - werkzeug - INFO -  * Restarting with stat
2025-05-19 10:53:29,403 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 10:53:29,404 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 10:53:29,405 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 10:53:29,405 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 10:53:29,427 - __main__ - INFO - Initializing 2 client connections
2025-05-19 10:53:29,510 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 10:53:32,944 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:53:32,945 - __main__ - INFO - Login successful for client: V410166
2025-05-19 10:53:32,945 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 10:53:32,993 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 10:53:35,323 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 10:53:35,324 - __main__ - INFO - Login successful for client: M543167
2025-05-19 10:53:35,324 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 10:53:35,324 - options_module - INFO - Verifying client connection
2025-05-19 10:53:35,324 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:53:35,325 - options_module - INFO - Verifying client connection
2025-05-19 10:53:35,325 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:53:35,325 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:53:35,326 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 10:53:42,704 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 10:53:42,712 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:53:42,713 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:53:42,713 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 10:53:42,715 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:53:42,716 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:53:42,716 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 10:53:42,716 - __main__ - INFO - WebSocket connections initialized
2025-05-19 10:53:42,717 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:53:42,718 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 10:53:42,718 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 10:53:42,719 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 10:53:42,719 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 10:53:42,720 - options_module - INFO - Verifying client connection
2025-05-19 10:53:42,720 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:53:42,720 - options_module - INFO - Verifying client connection
2025-05-19 10:53:42,721 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 10:53:42,721 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 10:53:42,721 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:53:42,722 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 10:53:42,722 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 10:53:42,723 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 10:53:42,723 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 10:53:42,723 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 10:53:42,724 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:53:42,725 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:53:42,726 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 10:53:42,755 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 10:53:42,890 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 10:53:42,943 - websocket - INFO - Websocket connected
2025-05-19 10:53:42,944 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:53:42,944 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:53:42,945 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:53:42,975 - websocket - INFO - Websocket connected
2025-05-19 10:53:42,976 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:53:42,977 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 10:53:42,977 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:53:42,978 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 10:53:42,979 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:53:42,979 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 10:53:42,980 - websocket - INFO - Websocket connected
2025-05-19 10:53:42,980 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:53:42,980 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:53:42,980 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:53:42,981 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:53:42,982 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:53:47,982 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:53:47,984 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:53:48,750 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:53:48,751 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:53:48,752 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:53:49,168 - websocket - INFO - Websocket connected
2025-05-19 10:53:49,168 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:53:49,169 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:53:49,169 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:53:53,754 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:53:53,756 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:53:53,912 - websocket - INFO - Websocket connected
2025-05-19 10:53:53,912 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:53:53,913 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:53:53,914 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:54:13,165 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:54:16,388 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "20", "expiry_preference": "22MAY2025", "underlying_price": "25025", "underlying_stop_loss": "25020", "underlying_target": "25035", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 10:54:16,389 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 10:54:16,389 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 20
2025-05-19 10:54:16,390 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:54:16,466 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:54:16,470 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:54:16,477 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25000.0
2025-05-19 10:54:23,168 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:54:23,169 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:54:23,170 - options_trade_manager - INFO - Calculated ATM strike: 25000.0 for underlying price: 25025.0
2025-05-19 10:54:23,170 - options_trade_manager - INFO - Selected 0TM strike: 25000.0 (depth 20)
2025-05-19 10:54:23,171 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25000.0 CE
2025-05-19 10:54:23,238 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:54:23,239 - options_module - INFO - Adjusted to nearest available strike: 25000.0 (original: 25000.0)
2025-05-19 10:54:23,380 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525000CE
2025-05-19 10:54:24,204 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525000CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:54:24,204 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525000CE', 'symboltoken': '49245', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '193.05'}
2025-05-19 10:54:25,015 - __main__ - INFO - Raw API response: 250519000369032
2025-05-19 10:54:25,015 - __main__ - INFO - Received order ID as direct string response: 250519000369032
2025-05-19 10:54:25,016 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000369032
2025-05-19 10:54:25,817 - options_trade_manager - ERROR - Order 250519000369032 was not executed successfully: rejected
2025-05-19 10:54:25,817 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:54:25,857 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:54:25,858 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:54:25,863 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25000.0
2025-05-19 10:54:33,168 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:54:33,169 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:54:33,169 - options_trade_manager - INFO - Calculated ATM strike: 25000.0 for underlying price: 25025.0
2025-05-19 10:54:33,170 - options_trade_manager - INFO - Selected 0TM strike: 25000.0 (depth 20)
2025-05-19 10:54:33,170 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25000.0 CE
2025-05-19 10:54:33,215 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:54:33,215 - options_module - INFO - Adjusted to nearest available strike: 25000.0 (original: 25000.0)
2025-05-19 10:54:33,349 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525000CE
2025-05-19 10:54:34,245 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525000CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:54:34,246 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525000CE', 'symboltoken': '49245', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '191.05'}
2025-05-19 10:54:35,159 - __main__ - INFO - Raw API response: 250519000382186
2025-05-19 10:54:35,159 - __main__ - INFO - Received order ID as direct string response: 250519000382186
2025-05-19 10:54:35,160 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250519000382186
2025-05-19 10:54:36,046 - options_trade_manager - ERROR - Order 250519000382186 was not executed successfully: rejected
2025-05-19 10:54:36,047 - options_trade_manager - INFO - Option order placement complete: 0/2 successful
2025-05-19 10:54:36,048 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:54:36] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-19 10:54:37,381 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:54:37] "[32mGET /orders HTTP/1.1[0m" 302 -
2025-05-19 10:54:37,451 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:54:37] "GET /login HTTP/1.1" 200 -
2025-05-19 10:54:37,796 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:54:37] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:55:23,272 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:55:23] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 10:55:23,293 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:55:23] "GET / HTTP/1.1" 200 -
2025-05-19 10:55:42,937 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:55:42,938 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:55:42,939 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:55:47,941 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:55:47,942 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:55:48,048 - websocket - INFO - Websocket connected
2025-05-19 10:55:48,048 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:55:48,048 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 10:55:48,049 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:55:55,115 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:55:55,115 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:55:55,116 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:55:55,238 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:55:55,239 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:55:55,239 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:56:00,117 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:56:00,118 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:56:00,240 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:56:00,241 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:56:00,287 - websocket - INFO - Websocket connected
2025-05-19 10:56:00,288 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:56:00,289 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:56:00,290 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:56:00,399 - websocket - INFO - Websocket connected
2025-05-19 10:56:00,399 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:56:00,399 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:56:00,400 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:57:12,752 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:57:12,753 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:57:12,754 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:57:17,478 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "5", "expiry_preference": "22MAY2025", "underlying_price": "25034", "underlying_stop_loss": "25030", "underlying_target": "25038", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 10:57:17,478 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 10:57:17,479 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 5
2025-05-19 10:57:17,479 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:57:17,542 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:57:17,543 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:57:17,546 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 10:57:17,760 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:57:17,772 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:57:18,069 - websocket - INFO - Websocket connected
2025-05-19 10:57:18,073 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:57:18,074 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:57:18,080 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:57:18,771 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:57:18,777 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:57:18,781 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:57:23,796 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:57:23,797 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:57:23,992 - websocket - INFO - Websocket connected
2025-05-19 10:57:23,995 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:57:23,997 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:57:24,000 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:57:24,610 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:57:24,611 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:57:24,612 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25034.0
2025-05-19 10:57:24,612 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 5)
2025-05-19 10:57:24,613 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 10:57:24,700 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:57:24,706 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 10:57:24,836 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 10:57:25,636 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:57:25,636 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '164.6'}
2025-05-19 10:57:26,440 - __main__ - INFO - Raw API response: 250519000375324
2025-05-19 10:57:26,441 - __main__ - INFO - Received order ID as direct string response: 250519000375324
2025-05-19 10:57:26,441 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000375324
2025-05-19 10:57:27,222 - options_trade_manager - ERROR - Order 250519000375324 was not executed successfully: rejected
2025-05-19 10:57:27,223 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 10:57:27,280 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 10:57:27,281 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 10:57:27,287 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 10:57:34,130 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 10:57:34,135 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:57:34,136 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25034.0
2025-05-19 10:57:34,136 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 5)
2025-05-19 10:57:34,137 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 10:57:34,187 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 10:57:34,187 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 10:57:34,295 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 10:57:35,064 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 10:57:35,064 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '165.0'}
2025-05-19 10:57:36,899 - __main__ - INFO - Raw API response: 250519000388454
2025-05-19 10:57:36,900 - __main__ - INFO - Received order ID as direct string response: 250519000388454
2025-05-19 10:57:36,900 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250519000388454
2025-05-19 10:57:37,758 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-19 10:57:37,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:57:37] "POST /options-webhook HTTP/1.1" 200 -
2025-05-19 10:57:42,728 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-19 10:57:42,729 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:57:42,730 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:57:42,735 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:57:42,736 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 10:57:42,736 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:57:43,632 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 10:57:44,393 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 10:57:45,206 - options_module - INFO - Got price for index NIFTY: 25036.1
2025-05-19 10:57:45,206 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 10:57:47,738 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 10:57:47,740 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 10:57:47,984 - websocket - INFO - Websocket connected
2025-05-19 10:57:47,985 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 10:57:47,985 - angel_websocket_manager - INFO - Restoring 1 subscription requests
2025-05-19 10:57:48,082 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:57:48] "GET /positions HTTP/1.1" 200 -
2025-05-19 10:57:48,086 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 10:57:48,086 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 10:57:48,087 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 10:57:48,104 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:57:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 10:57:48,359 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:57:48] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:58:04,332 - TradeMonitorService - INFO - Target hit for NIFTY at 25038.05, exiting NIFTY22MAY2525050CE
2025-05-19 10:58:04,333 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '164.98'}
2025-05-19 10:58:04,376 - TradeMonitorService - INFO - Target hit for NIFTY at 25038.05, exiting NIFTY22MAY2525050CE
2025-05-19 10:58:04,376 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '164.98'}
2025-05-19 10:58:05,242 - __main__ - INFO - Raw API response: 250519000389256
2025-05-19 10:58:05,242 - __main__ - INFO - Received order ID as direct string response: 250519000389256
2025-05-19 10:58:05,242 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (TARGET_HIT): 250519000389256
2025-05-19 10:58:05,243 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.236.25 (1.93%)
2025-05-19 10:58:05,263 - __main__ - INFO - Raw API response: 250519000389257
2025-05-19 10:58:05,264 - __main__ - INFO - Received order ID as direct string response: 250519000389257
2025-05-19 10:58:05,264 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525050CE (TARGET_HIT): 250519000389257
2025-05-19 10:58:05,264 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525050CE: Rs.236.25 (1.93%)
2025-05-19 10:58:05,303 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:58:05,304 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525050CE in completed_option_trades.json
2025-05-19 10:58:05,305 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:58:05,306 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:58:05,307 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 10:58:05,307 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 10:58:08,475 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:58:08] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:58:13,204 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 10:58:28,470 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:58:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:58:48,725 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:58:48] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:58:56,592 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:58:56,593 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:58:56,594 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:58:56,698 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 10:58:56,698 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 10:58:56,698 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 10:59:01,596 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:59:01,597 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:59:01,700 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 10:59:01,701 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 10:59:01,879 - websocket - INFO - Websocket connected
2025-05-19 10:59:01,879 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:59:01,880 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:59:01,880 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:59:01,937 - websocket - INFO - Websocket connected
2025-05-19 10:59:01,938 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 10:59:01,938 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 10:59:01,939 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 10:59:09,039 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:59:09] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 10:59:28,722 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 10:59:28] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 11:00:02,041 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:00:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 11:00:12,777 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:00:12,777 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:00:12,778 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:00:17,779 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:00:17,780 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:00:17,962 - websocket - INFO - Websocket connected
2025-05-19 11:00:17,962 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:00:17,962 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:00:17,963 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:00:18,791 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:00:18,792 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:00:18,792 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:00:23,793 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:00:23,798 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:00:23,969 - websocket - INFO - Websocket connected
2025-05-19 11:00:23,969 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:00:23,970 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:00:23,970 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:01:02,041 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:01:02] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 11:01:42,773 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:01:42,774 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:01:42,775 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:01:47,777 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:01:47,779 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:01:47,950 - websocket - INFO - Websocket connected
2025-05-19 11:01:47,951 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:01:47,953 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:01:47,955 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:01:48,801 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:01:48,802 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:01:48,803 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:01:53,805 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:01:53,806 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:01:54,005 - websocket - INFO - Websocket connected
2025-05-19 11:01:54,021 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:01:54,024 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:01:54,040 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:02:01,724 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:02:01] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 11:02:32,736 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 11:02:45,497 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 11:03:13,227 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 11:03:13,232 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 11:03:13,233 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 11:03:13,303 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 11:03:13,306 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:03:13,308 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 11:03:13,341 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 11:03:13,342 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 11:03:13,342 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:03:13,378 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 11:37:48,880 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-19 11:37:48,882 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 11:37:48,886 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 11:37:48,887 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 11:37:48,958 - __main__ - INFO - Initializing 1 client connections
2025-05-19 11:37:49,090 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 11:37:54,010 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 11:37:54,011 - __main__ - INFO - Login successful for client: V410166
2025-05-19 11:37:54,011 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 11:37:54,012 - options_module - INFO - Verifying client connection
2025-05-19 11:37:54,012 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 11:37:54,013 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 11:37:54,013 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 11:38:01,585 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 11:38:01,591 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:01,592 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 11:38:01,592 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 11:38:01,593 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:38:01,594 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:38:01,595 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 11:38:01,595 - __main__ - INFO - WebSocket connections initialized
2025-05-19 11:38:01,595 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:01,596 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 11:38:01,596 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 11:38:01,597 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 11:38:01,597 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-19 11:38:01,597 - options_module - INFO - Verifying client connection
2025-05-19 11:38:01,598 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 11:38:01,598 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 11:38:01,598 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:01,599 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 11:38:01,599 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 11:38:01,599 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 11:38:01,600 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 11:38:01,600 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:38:01,601 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:38:01,601 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 11:38:01,795 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 11:38:01,795 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 11:38:01,799 - websocket - INFO - Websocket connected
2025-05-19 11:38:01,800 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:38:01,800 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:38:01,801 - websocket - INFO - Websocket connected
2025-05-19 11:38:01,802 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:38:01,802 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:38:01,803 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:38:01,804 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:38:01,806 - werkzeug - INFO -  * Restarting with stat
2025-05-19 11:38:01,864 - websocket - INFO - Websocket connected
2025-05-19 11:38:01,865 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:38:01,865 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:38:01,865 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:38:02,064 - websocket - INFO - Websocket connected
2025-05-19 11:38:02,064 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:38:02,065 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:38:02,065 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:38:05,805 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-19 11:38:05,806 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 11:38:05,807 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 11:38:05,808 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 11:38:05,833 - __main__ - INFO - Initializing 1 client connections
2025-05-19 11:38:05,877 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 11:38:10,529 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 11:38:10,529 - __main__ - INFO - Login successful for client: V410166
2025-05-19 11:38:10,530 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 11:38:10,531 - options_module - INFO - Verifying client connection
2025-05-19 11:38:10,531 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 11:38:10,532 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 11:38:10,533 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 11:38:19,531 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 11:38:19,547 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:19,548 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 11:38:19,549 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 11:38:19,554 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:38:19,560 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:38:19,561 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 11:38:19,562 - __main__ - INFO - WebSocket connections initialized
2025-05-19 11:38:19,564 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:19,565 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 11:38:19,566 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 11:38:19,567 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 11:38:19,569 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-19 11:38:19,570 - options_module - INFO - Verifying client connection
2025-05-19 11:38:19,571 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 11:38:19,572 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 11:38:19,574 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 11:38:19,575 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 11:38:19,582 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 11:38:19,585 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 11:38:19,586 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 11:38:19,729 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:38:19,830 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:38:19,837 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 11:38:20,057 - websocket - INFO - Websocket connected
2025-05-19 11:38:20,057 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:38:20,058 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:38:20,059 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:38:20,060 - websocket - INFO - Websocket connected
2025-05-19 11:38:20,061 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:38:20,061 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:38:20,065 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:38:20,086 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 11:38:20,087 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 11:38:20,087 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 11:38:20,088 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:38:20,088 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:38:20,090 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 11:38:20,095 - websocket - INFO - Websocket connected
2025-05-19 11:38:20,096 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:38:20,096 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:38:20,097 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:38:20,107 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 11:38:20,151 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:20] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-19 11:38:20,201 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:20] "GET /login HTTP/1.1" 200 -
2025-05-19 11:38:25,093 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:38:25,095 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:38:25,265 - websocket - INFO - Websocket connected
2025-05-19 11:38:25,265 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:38:25,266 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:38:25,266 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:38:47,901 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:47] "[32mGET /api/positions HTTP/1.1[0m" 302 -
2025-05-19 11:38:48,164 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:48] "GET /login HTTP/1.1" 200 -
2025-05-19 11:38:50,132 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:50] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-19 11:38:50,491 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:50] "GET /login HTTP/1.1" 200 -
2025-05-19 11:38:50,686 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:50] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 11:38:55,230 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:55] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 11:38:55,547 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:55] "GET / HTTP/1.1" 200 -
2025-05-19 11:38:56,915 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:56] "GET /positions HTTP/1.1" 200 -
2025-05-19 11:38:57,095 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:57] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 11:38:57,477 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:57] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 11:38:58,823 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:58] "GET /options HTTP/1.1" 200 -
2025-05-19 11:38:58,979 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:58] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 11:38:59,384 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-19 11:38:59,540 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-19 11:38:59,572 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:38:59] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-19 11:39:04,370 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 11:39:05,876 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 11:39:07,311 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:07] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 11:39:07,673 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:07] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 11:39:07,927 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:07] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:39:17,017 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "5", "expiry_preference": "22MAY2025", "underlying_price": "25034", "underlying_stop_loss": "25030", "underlying_target": "25038", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 11:39:17,018 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-19 11:39:17,018 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 5
2025-05-19 11:39:17,018 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 11:39:17,102 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 11:39:17,104 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 11:39:17,111 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 11:39:19,803 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:19] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:39:22,248 - options_module - WARNING - Error getting price for NIFTY22MAY2525350PE (attempt 1): Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-19 11:39:23,111 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 11:39:23,111 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 11:39:23,112 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25034.0
2025-05-19 11:39:23,112 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 5)
2025-05-19 11:39:23,112 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 11:39:23,173 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 11:39:23,175 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 11:39:23,321 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 11:39:23,986 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 11:39:23,989 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '155.75'}
2025-05-19 11:39:24,824 - __main__ - INFO - Raw API response: 250519000436131
2025-05-19 11:39:24,825 - __main__ - INFO - Received order ID as direct string response: 250519000436131
2025-05-19 11:39:24,826 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000436131
2025-05-19 11:39:25,631 - options_trade_manager - ERROR - Order 250519000436131 was not executed successfully: rejected
2025-05-19 11:39:25,632 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-19 11:39:25,633 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:25] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-19 11:39:29,026 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:29] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:39:38,722 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:38] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:39:49,027 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:49] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:39:58,724 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:39:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:40:01,856 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:40:01,863 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:40:01,864 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:40:06,871 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:40:06,875 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:40:07,265 - websocket - INFO - Websocket connected
2025-05-19 11:40:07,265 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:40:07,266 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:40:07,266 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:40:09,033 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:40:09] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:40:19,912 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:40:19,913 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:40:19,914 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:40:24,916 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:40:24,918 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:40:25,096 - websocket - INFO - Websocket connected
2025-05-19 11:40:25,097 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:40:25,097 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:40:25,097 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:40:55,016 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:40:55,017 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:40:55,018 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:40:55,028 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:40:55,029 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:40:55,030 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:41:00,021 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:41:00,026 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:41:00,033 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:41:00,040 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:41:00,237 - websocket - INFO - Websocket connected
2025-05-19 11:41:00,237 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:41:00,238 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:41:00,239 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:41:00,240 - websocket - INFO - Websocket connected
2025-05-19 11:41:00,240 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:41:00,241 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:41:00,242 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:41:01,728 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:41:01] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:42:01,620 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:42:01,620 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:42:01,621 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:42:01,622 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:42:01,623 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:42:01,623 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 11:42:02,046 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:42:02] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:42:06,626 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:42:06,628 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:42:06,831 - websocket - INFO - Websocket connected
2025-05-19 11:42:06,832 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:42:06,833 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:42:06,833 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:42:11,626 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:42:11,629 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:42:11,799 - websocket - INFO - Websocket connected
2025-05-19 11:42:11,800 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:42:11,800 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:42:11,801 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:42:19,580 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:42:19,580 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:42:19,581 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:42:19,583 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:42:19,584 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:42:19,584 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 11:42:19,585 - angel_websocket_manager - INFO - Reconnect thread already running, not starting another
2025-05-19 11:42:24,584 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:42:24,590 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:42:24,778 - websocket - INFO - Websocket connected
2025-05-19 11:42:24,778 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:42:24,779 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:42:24,779 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:43:01,741 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 11:43:01] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 11:43:31,622 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:43:31,623 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:43:31,624 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:43:36,626 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:43:36,628 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:43:36,881 - websocket - INFO - Websocket connected
2025-05-19 11:43:36,882 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:43:36,882 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:43:36,884 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:43:42,337 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 11:43:49,589 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:43:49,590 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:43:49,591 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:43:54,593 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 11:43:54,596 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 11:43:54,775 - websocket - INFO - Websocket connected
2025-05-19 11:43:54,775 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 11:43:54,776 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 11:43:54,777 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 11:44:01,619 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 11:44:01,619 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:44:01,620 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 11:44:06,622 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:44:06,623 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:44:12,953 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 11:44:27,664 - angel_websocket_manager - ERROR - Market data WebSocket error: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
2025-05-19 11:44:27,665 - websocket - ERROR - [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond - goodbye
2025-05-19 11:44:27,666 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 11:44:27,667 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:44:27,668 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 11:44:37,679 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 11:44:37,753 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 11:44:37,899 - websocket - INFO - Websocket connected
2025-05-19 11:44:37,899 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 11:44:37,900 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 11:44:37,900 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 11:44:42,961 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-19 11:44:42,975 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 11:44:42,976 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 11:44:42,992 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 11:44:42,995 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 11:44:42,999 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 11:44:43,009 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 11:44:43,010 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 11:44:43,012 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 11:44:43,014 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 13:28:03,771 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-19 13:28:03,795 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 13:28:03,797 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 13:28:03,797 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 13:28:03,821 - __main__ - INFO - Initializing 1 client connections
2025-05-19 13:28:03,880 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 13:28:06,418 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:28:06,418 - __main__ - INFO - Login successful for client: V410166
2025-05-19 13:28:06,418 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 13:28:06,419 - options_module - INFO - Verifying client connection
2025-05-19 13:28:06,419 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:28:06,419 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 13:28:06,420 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 13:28:16,538 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 13:28:16,542 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:16,543 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:28:16,543 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 13:28:16,545 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:28:16,546 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:28:16,546 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 13:28:16,546 - __main__ - INFO - WebSocket connections initialized
2025-05-19 13:28:16,547 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:16,547 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 13:28:16,548 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 13:28:16,548 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 13:28:16,550 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-19 13:28:16,550 - options_module - INFO - Verifying client connection
2025-05-19 13:28:16,551 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:28:16,551 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 13:28:16,552 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:16,552 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:28:16,553 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 13:28:16,554 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 13:28:16,554 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 13:28:16,555 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:28:16,556 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:28:16,557 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 13:28:16,592 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 13:28:16,592 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 13:28:16,600 - werkzeug - INFO -  * Restarting with stat
2025-05-19 13:28:17,886 - websocket - INFO - Websocket connected
2025-05-19 13:28:17,886 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:28:17,886 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:28:17,887 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:28:17,894 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 13:28:17,894 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 13:28:17,894 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:28:17,895 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:28:17,895 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:28:17,938 - websocket - INFO - Websocket connected
2025-05-19 13:28:17,938 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:28:17,938 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:28:17,940 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:28:17,951 - websocket - INFO - Websocket connected
2025-05-19 13:28:17,952 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:28:17,952 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:28:17,953 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:28:18,860 - account_manager - INFO - Successfully loaded 1 active accounts from accounts.json
2025-05-19 13:28:18,861 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 13:28:18,861 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 13:28:18,862 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 13:28:18,883 - __main__ - INFO - Initializing 1 client connections
2025-05-19 13:28:18,939 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 13:28:22,419 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:28:22,419 - __main__ - INFO - Login successful for client: V410166
2025-05-19 13:28:22,420 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 13:28:22,420 - options_module - INFO - Verifying client connection
2025-05-19 13:28:22,420 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:28:22,421 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 13:28:22,421 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 13:28:22,896 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:28:22,898 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:28:23,076 - websocket - INFO - Websocket connected
2025-05-19 13:28:23,077 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:28:23,077 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:28:23,078 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:28:29,468 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 13:28:29,474 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:29,474 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:28:29,474 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 13:28:29,477 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:28:29,478 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:28:29,479 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 13:28:29,479 - __main__ - INFO - WebSocket connections initialized
2025-05-19 13:28:29,480 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:29,481 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 13:28:29,482 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 13:28:29,482 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 13:28:29,485 - __main__ - INFO - Client initialization complete. 1/1 clients active
2025-05-19 13:28:29,485 - options_module - INFO - Verifying client connection
2025-05-19 13:28:29,486 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:28:29,486 - options_module - INFO - Options processor initialized with 1 verified clients
2025-05-19 13:28:29,487 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:28:29,487 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:28:29,488 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 13:28:29,488 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 13:28:29,488 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 13:28:29,489 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:28:29,490 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:28:29,491 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 13:28:29,601 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 13:28:29,606 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 13:28:29,713 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 13:28:29,714 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 13:28:29,714 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:28:29,715 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:28:29,715 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:28:29,718 - websocket - INFO - Websocket connected
2025-05-19 13:28:29,718 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:28:29,719 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:28:29,720 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:28:29,748 - websocket - INFO - Websocket connected
2025-05-19 13:28:29,749 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:28:29,749 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:28:29,750 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:28:29,751 - websocket - INFO - Websocket connected
2025-05-19 13:28:29,751 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:28:29,752 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:28:29,753 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:28:34,716 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:28:58,761 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:28:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:28:59,045 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:28:59] "GET /login HTTP/1.1" 200 -
2025-05-19 13:29:47,938 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:29:47,939 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:29:47,939 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:29:52,940 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:29:52,941 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:29:53,030 - websocket - INFO - Websocket connected
2025-05-19 13:29:53,030 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:29:53,030 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:29:53,031 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:29:58,447 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:29:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:29:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:29:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:29:59,749 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:29:59,749 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:29:59,749 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:30:04,750 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:30:04,752 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:30:04,864 - websocket - INFO - Websocket connected
2025-05-19 13:30:04,865 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:30:04,865 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:30:04,866 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:30:17,871 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:30:17,871 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:30:17,871 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:30:22,872 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:30:22,874 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:30:24,011 - websocket - INFO - Websocket connected
2025-05-19 13:30:24,011 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:30:24,011 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:30:24,011 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:30:29,637 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:30:29,638 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:30:29,638 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:30:34,639 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:30:34,641 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:30:34,791 - websocket - INFO - Websocket connected
2025-05-19 13:30:34,791 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:30:34,792 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:30:34,792 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:30:58,762 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:30:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:30:59,013 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:30:59] "GET /login HTTP/1.1" 200 -
2025-05-19 13:31:16,566 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:31:16,566 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:31:16,566 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:31:21,568 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:31:21,569 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:31:21,676 - websocket - INFO - Websocket connected
2025-05-19 13:31:21,676 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:31:21,677 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:31:21,678 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:31:26,225 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:26] "[32mGET / HTTP/1.1[0m" 302 -
2025-05-19 13:31:26,650 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:26] "GET /login HTTP/1.1" 200 -
2025-05-19 13:31:26,918 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:26] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:31:29,499 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:31:29,500 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:31:29,500 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:31:32,848 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:32] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 13:31:33,319 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:33] "GET / HTTP/1.1" 200 -
2025-05-19 13:31:34,501 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:31:34,502 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:31:34,631 - websocket - INFO - Websocket connected
2025-05-19 13:31:34,631 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:31:34,631 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:31:34,632 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:31:42,418 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:42] "GET /positions HTTP/1.1" 200 -
2025-05-19 13:31:42,434 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:31:42,557 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:42] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 13:31:44,945 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:44] "GET /accounts HTTP/1.1" 200 -
2025-05-19 13:31:45,043 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:31:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:31:57,023 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "0TM", "moneyness_depth": "5", "expiry_preference": "22MAY2025", "underlying_price": "25034", "underlying_stop_loss": "25030", "underlying_target": "25038", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 13:31:57,024 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-19 13:31:57,025 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 5
2025-05-19 13:31:57,025 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 13:31:57,203 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 13:31:57,210 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 13:31:57,224 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 13:32:00,386 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:32:00] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:32:04,914 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 13:32:04,915 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:32:04,916 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25034.0
2025-05-19 13:32:04,916 - options_trade_manager - INFO - Selected 0TM strike: 25050.0 (depth 5)
2025-05-19 13:32:04,917 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25050.0 CE
2025-05-19 13:32:04,979 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:32:04,981 - options_module - INFO - Adjusted to nearest available strike: 25050.0 (original: 25050.0)
2025-05-19 13:32:05,134 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525050CE
2025-05-19 13:32:06,045 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525050CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 13:32:06,045 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525050CE', 'symboltoken': '49255', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '131.6'}
2025-05-19 13:32:06,896 - __main__ - INFO - Raw API response: 250519000594041
2025-05-19 13:32:06,896 - __main__ - INFO - Received order ID as direct string response: 250519000594041
2025-05-19 13:32:06,897 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000594041
2025-05-19 13:32:07,725 - options_trade_manager - ERROR - Order 250519000594041 was not executed successfully: rejected
2025-05-19 13:32:07,726 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-19 13:32:07,727 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:32:07] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-19 13:32:16,568 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:32:16,569 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:32:16,569 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:32:21,570 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:32:21,571 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:32:21,867 - websocket - INFO - Websocket connected
2025-05-19 13:32:21,868 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:32:21,868 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:32:21,868 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:32:59,445 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:32:59] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:33:37,008 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:33:37,009 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:33:37,009 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:33:37,061 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:33:37,061 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:33:37,062 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:33:42,010 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:33:42,013 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:33:42,063 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:33:42,069 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:33:42,219 - websocket - INFO - Websocket connected
2025-05-19 13:33:42,220 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:33:42,220 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:33:42,221 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:33:42,230 - websocket - INFO - Websocket connected
2025-05-19 13:33:42,230 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:33:42,231 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:33:42,233 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:33:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:33:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:34:16,573 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:34:16,573 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:34:16,574 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:34:21,575 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:34:21,576 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:34:21,878 - websocket - INFO - Websocket connected
2025-05-19 13:34:21,879 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:34:21,879 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:34:21,880 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:34:46,573 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:34:46,573 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:34:46,574 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:34:51,575 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:34:51,577 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:34:51,935 - websocket - INFO - Websocket connected
2025-05-19 13:34:51,936 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:34:51,936 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:34:51,938 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:34:58,760 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:34:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:34:59,507 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:34:59,508 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:34:59,508 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:35:04,509 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:35:04,511 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:35:04,694 - websocket - INFO - Websocket connected
2025-05-19 13:35:04,695 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:35:04,695 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:35:04,697 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:35:58,760 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:35:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:35:59,539 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:35:59,539 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:35:59,539 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:36:04,540 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:36:04,542 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:36:04,725 - websocket - INFO - Websocket connected
2025-05-19 13:36:04,726 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:36:04,726 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:36:04,726 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:36:16,573 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:36:16,574 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:36:16,574 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:36:16,634 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:36:16,634 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:36:16,635 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 13:36:16,635 - angel_websocket_manager - INFO - Reconnect thread already running, not starting another
2025-05-19 13:36:21,575 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:36:21,576 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:36:21,779 - websocket - INFO - Websocket connected
2025-05-19 13:36:21,779 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:36:21,779 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:36:21,780 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:36:58,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:36:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:37:23,825 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "15", "expiry_preference": "22MAY2025", "underlying_price": "25034", "underlying_stop_loss": "25030", "underlying_target": "25038", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 13:37:23,828 - __main__ - INFO - Processing options webhook with 1 active clients
2025-05-19 13:37:23,831 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 15
2025-05-19 13:37:23,833 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 13:37:23,838 - options_module - INFO - Cleaned 26 expired entries from price cache
2025-05-19 13:37:24,324 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 13:37:24,330 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 13:37:24,342 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25050.0
2025-05-19 13:37:29,559 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:37:29,563 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:37:29,563 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:37:32,633 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 13:37:32,634 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:37:32,634 - options_trade_manager - INFO - Calculated ATM strike: 25050.0 for underlying price: 25034.0
2025-05-19 13:37:32,634 - options_trade_manager - INFO - Selected OTM strike: 25800.0 (depth 15)
2025-05-19 13:37:32,635 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25800.0 CE
2025-05-19 13:37:32,681 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:37:32,682 - options_module - INFO - Adjusted to nearest available strike: 25800.0 (original: 25800.0)
2025-05-19 13:37:32,833 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525800CE
2025-05-19 13:37:33,673 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525800CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 13:37:33,673 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525800CE', 'symboltoken': '49316', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '7.45'}
2025-05-19 13:37:34,540 - __main__ - INFO - Raw API response: 250519000601738
2025-05-19 13:37:34,540 - __main__ - INFO - Received order ID as direct string response: 250519000601738
2025-05-19 13:37:34,540 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000601738
2025-05-19 13:37:34,567 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:37:34,569 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:37:34,737 - websocket - INFO - Websocket connected
2025-05-19 13:37:34,738 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:37:34,738 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:37:34,739 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:37:35,426 - options_trade_manager - ERROR - Order 250519000601738 was not executed successfully: rejected
2025-05-19 13:37:35,428 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-19 13:37:35,429 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:37:35] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-19 13:37:58,752 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:37:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:38:16,628 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:38:16,628 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:38:16,628 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:38:21,629 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:38:21,630 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:38:21,756 - websocket - INFO - Websocket connected
2025-05-19 13:38:21,757 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:38:21,758 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:38:21,758 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:38:58,450 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:38:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:39:04,700 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:39:04,700 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:39:04,701 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:39:04,863 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:39:04,864 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:39:04,864 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:39:09,701 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:39:09,703 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:39:09,865 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:39:09,866 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:39:09,883 - websocket - INFO - Websocket connected
2025-05-19 13:39:09,884 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:39:09,884 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:39:09,885 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:39:10,028 - websocket - INFO - Websocket connected
2025-05-19 13:39:10,028 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:39:10,029 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:39:10,030 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:39:29,858 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:39:30,907 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 13:39:32,181 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:32] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 13:39:32,208 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:32] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:39:32,269 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:32] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:39:39,786 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:39:39,793 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:39] "[32mPOST /exit_all_positions HTTP/1.1[0m" 302 -
2025-05-19 13:39:40,287 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:40] "GET /positions HTTP/1.1" 200 -
2025-05-19 13:39:40,617 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:40] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:39:40,685 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:40] "GET /api/positions HTTP/1.1" 200 -
2025-05-19 13:39:41,792 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:39:42,176 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:42] "GET /options HTTP/1.1" 200 -
2025-05-19 13:39:42,199 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:42] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:39:42,267 - __main__ - INFO - Using client V410166 for F&O symbols API
2025-05-19 13:39:42,550 - options_module - INFO - Prepared list of 221 F&O symbols
2025-05-19 13:39:42,559 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:42] "GET /api/get-fno-symbols HTTP/1.1" 200 -
2025-05-19 13:39:42,863 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 13:39:44,067 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:44] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 13:39:44,307 - __main__ - ERROR - Exception getting order book for V410166: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-19 13:39:44,399 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:44] "GET /orders HTTP/1.1" 200 -
2025-05-19 13:39:44,418 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:44] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:39:48,403 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:48] "GET /orders HTTP/1.1" 200 -
2025-05-19 13:39:48,418 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:48] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:39:58,752 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:39:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:40:11,106 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:40:12,113 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 13:40:12,177 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:12] "GET /accounts HTTP/1.1" 200 -
2025-05-19 13:40:12,204 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:12] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:40:13,104 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:13] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 13:40:13,752 - account_manager - INFO - Successfully saved 2 accounts to accounts.json
2025-05-19 13:40:13,830 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 13:40:16,598 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:40:16,598 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:40:16,599 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:40:16,724 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:40:16,725 - __main__ - INFO - Login successful for client: M543167
2025-05-19 13:40:16,726 - __main__ - INFO - Client M543167 (manas) activated and initialized successfully
2025-05-19 13:40:16,727 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:16] "[32mPOST /toggle_account/M543167 HTTP/1.1[0m" 302 -
2025-05-19 13:40:16,737 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:16] "GET /accounts HTTP/1.1" 200 -
2025-05-19 13:40:17,073 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:17] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:40:21,600 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:40:21,601 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:40:21,842 - websocket - INFO - Websocket connected
2025-05-19 13:40:21,843 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:40:21,843 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:40:21,845 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:40:29,562 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:40:29,563 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:40:29,563 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:40:34,564 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:40:34,566 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:40:34,708 - websocket - INFO - Websocket connected
2025-05-19 13:40:34,709 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:40:34,709 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:40:34,710 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:40:58,753 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:40:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:41:07,089 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "15", "expiry_preference": "22MAY2025", "underlying_price": "24991", "underlying_stop_loss": "24985", "underlying_target": "25000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 13:41:07,090 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 13:41:07,091 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 15
2025-05-19 13:41:07,091 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 13:41:07,316 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 13:41:07,324 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 13:41:07,337 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25000.0
2025-05-19 13:41:14,139 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 13:41:14,139 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:41:14,140 - options_trade_manager - INFO - Calculated ATM strike: 25000.0 for underlying price: 24991.0
2025-05-19 13:41:14,140 - options_trade_manager - INFO - Selected OTM strike: 25750.0 (depth 15)
2025-05-19 13:41:14,140 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25750.0 CE
2025-05-19 13:41:14,190 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:41:14,190 - options_module - INFO - Adjusted to nearest available strike: 25750.0 (original: 25750.0)
2025-05-19 13:41:14,331 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525750CE
2025-05-19 13:41:15,151 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525750CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 13:41:15,151 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525750CE', 'symboltoken': '49313', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '9.0'}
2025-05-19 13:41:15,985 - __main__ - INFO - Raw API response: 250519000606228
2025-05-19 13:41:15,986 - __main__ - INFO - Received order ID as direct string response: 250519000606228
2025-05-19 13:41:15,987 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000606228
2025-05-19 13:41:16,960 - options_trade_manager - ERROR - Order 250519000606228 was not executed successfully: rejected
2025-05-19 13:41:16,961 - options_trade_manager - INFO - Option order placement complete: 0/1 successful
2025-05-19 13:41:16,962 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:41:16] "[35m[1mPOST /options-webhook HTTP/1.1[0m" 500 -
2025-05-19 13:41:37,950 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 13:42:07,964 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-19 13:42:08,000 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 13:42:08,001 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 13:42:08,014 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:42:08,017 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:42:08,017 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 13:42:08,031 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 13:42:08,032 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:42:08,032 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 13:42:08,032 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 13:42:08,577 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 13:42:16,568 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 13:42:16,578 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 13:42:16,579 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 13:42:16,597 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:42:16,598 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:42:16,600 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 13:42:16,612 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 13:42:16,612 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:42:16,613 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 13:42:16,613 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 13:42:25,207 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 13:42:25,208 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 13:42:25,208 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 13:42:25,209 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 13:42:25,221 - __main__ - INFO - Initializing 2 client connections
2025-05-19 13:42:25,255 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 13:42:27,476 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:42:27,477 - __main__ - INFO - Login successful for client: V410166
2025-05-19 13:42:27,477 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 13:42:27,538 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 13:42:29,789 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:42:29,789 - __main__ - INFO - Login successful for client: M543167
2025-05-19 13:42:29,790 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 13:42:29,790 - options_module - INFO - Verifying client connection
2025-05-19 13:42:29,790 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:29,790 - options_module - INFO - Verifying client connection
2025-05-19 13:42:29,791 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:29,791 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 13:42:29,791 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 13:42:35,943 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 13:42:35,948 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:35,948 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:42:35,949 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 13:42:35,950 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:35,951 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:42:35,952 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 13:42:35,952 - __main__ - INFO - WebSocket connections initialized
2025-05-19 13:42:35,953 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:35,953 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 13:42:35,953 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 13:42:35,953 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 13:42:35,955 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 13:42:35,955 - options_module - INFO - Verifying client connection
2025-05-19 13:42:35,955 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:35,955 - options_module - INFO - Verifying client connection
2025-05-19 13:42:35,955 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:35,956 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 13:42:35,956 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:35,956 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:42:35,957 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 13:42:35,957 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 13:42:35,957 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 13:42:35,958 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 13:42:35,959 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:35,959 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:42:35,960 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 13:42:36,083 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.5:5000
2025-05-19 13:42:36,116 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-19 13:42:36,121 - werkzeug - INFO -  * Restarting with stat
2025-05-19 13:42:36,128 - websocket - INFO - Websocket connected
2025-05-19 13:42:36,129 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:42:36,130 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:42:36,131 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:42:36,141 - websocket - INFO - Websocket connected
2025-05-19 13:42:36,141 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:42:36,141 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:42:36,142 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:42:36,154 - websocket - INFO - Websocket connected
2025-05-19 13:42:36,154 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:42:36,155 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:42:36,156 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:42:36,240 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 13:42:36,240 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 13:42:36,240 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:42:36,240 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:42:36,241 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:42:38,516 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 13:42:38,516 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 13:42:38,517 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 13:42:38,517 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 13:42:38,556 - __main__ - INFO - Initializing 2 client connections
2025-05-19 13:42:38,628 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 13:42:41,055 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:42:41,056 - __main__ - INFO - Login successful for client: V410166
2025-05-19 13:42:41,056 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 13:42:41,101 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 13:42:41,242 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:42:41,243 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:43,436 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 13:42:43,436 - __main__ - INFO - Login successful for client: M543167
2025-05-19 13:42:43,437 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 13:42:43,437 - options_module - INFO - Verifying client connection
2025-05-19 13:42:43,437 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:43,437 - options_module - INFO - Verifying client connection
2025-05-19 13:42:43,438 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:43,438 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 13:42:43,439 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 13:42:49,650 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 13:42:49,655 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:49,656 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:42:49,656 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 13:42:49,657 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:49,658 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:42:49,659 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 13:42:49,659 - __main__ - INFO - WebSocket connections initialized
2025-05-19 13:42:49,660 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:49,660 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 13:42:49,661 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 13:42:49,661 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 13:42:49,662 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 13:42:49,663 - options_module - INFO - Verifying client connection
2025-05-19 13:42:49,663 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:49,663 - options_module - INFO - Verifying client connection
2025-05-19 13:42:49,663 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 13:42:49,663 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 13:42:49,664 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:42:49,664 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 13:42:49,665 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 13:42:49,665 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 13:42:49,666 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 13:42:49,666 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 13:42:49,667 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:49,668 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:42:49,668 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 13:42:49,682 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 13:42:49,787 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 13:42:49,807 - websocket - INFO - Websocket connected
2025-05-19 13:42:49,808 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:42:49,808 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:42:49,810 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:42:49,826 - websocket - INFO - Websocket connected
2025-05-19 13:42:49,827 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:42:49,827 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:42:49,827 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:42:50,604 - websocket - INFO - Websocket connected
2025-05-19 13:42:50,604 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:42:50,604 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:42:50,604 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:42:50,606 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 13:42:50,606 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 13:42:50,607 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:42:50,607 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:42:50,607 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:42:55,608 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:42:55,609 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:42:55,711 - websocket - INFO - Websocket connected
2025-05-19 13:42:55,711 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:42:55,711 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:42:55,711 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:42:58,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:42:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:42:59,017 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:42:59] "GET /login HTTP/1.1" 200 -
2025-05-19 13:43:02,342 - angel_websocket_manager - ERROR - Market data WebSocket error: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
2025-05-19 13:43:02,342 - websocket - ERROR - [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond - goodbye
2025-05-19 13:43:02,343 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:43:02,343 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:43:02,343 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 13:43:12,344 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:43:12,345 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:43:13,747 - websocket - INFO - Websocket connected
2025-05-19 13:43:13,748 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:43:13,748 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:43:13,748 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:43:17,834 - __main__ - INFO - Received options webhook: {"webhook_key": "6COBEMA242B2RHLIX52KTSYI5Q", "options_mode": true, "action": "BUY", "symbol": "NIFTY", "exchange": "NSE", "quantity": "1", "option_moneyness": "OTM", "moneyness_depth": "15", "expiry_preference": "22MAY2025", "underlying_price": "24991", "underlying_stop_loss": "24985", "underlying_target": "25000", "ordertype": "LIMIT", "producttype": "CARRYFORWARD", "exit_ordertype": "LIMIT"}
2025-05-19 13:43:17,835 - __main__ - INFO - Processing options webhook with 2 active clients
2025-05-19 13:43:17,836 - options_trade_manager - INFO - Processing BUY signal for NIFTY, selecting CE options with depth 15
2025-05-19 13:43:17,837 - options_module - INFO - Fetching options for NIFTY with expiry 22MAY2025
2025-05-19 13:43:17,950 - options_module - INFO - Found 95 calls and 95 puts in DataFrame
2025-05-19 13:43:17,952 - options_module - INFO - Dynamically determined step size: 50.0 from strike price data
2025-05-19 13:43:17,958 - options_module - INFO - Filtered to 13 calls and 13 puts around ATM strike 25000.0
2025-05-19 13:43:24,767 - options_module - INFO - Prepared 13 calls and 13 puts for NIFTY/22MAY2025
2025-05-19 13:43:24,767 - options_trade_manager - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:43:24,768 - options_trade_manager - INFO - Calculated ATM strike: 25000.0 for underlying price: 24991.0
2025-05-19 13:43:24,768 - options_trade_manager - INFO - Selected OTM strike: 25750.0 (depth 15)
2025-05-19 13:43:24,769 - options_module - INFO - Looking for option contract: NIFTY 22MAY2025 25750.0 CE
2025-05-19 13:43:24,813 - options_module - INFO - Dynamically determined step size: 50.0 for NIFTY
2025-05-19 13:43:24,813 - options_module - INFO - Adjusted to nearest available strike: 25750.0 (original: 25750.0)
2025-05-19 13:43:24,942 - options_trade_manager - INFO - Found option contract: NIFTY22MAY2525750CE
2025-05-19 13:43:25,750 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525750CE with client V410166, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 13:43:25,750 - __main__ - INFO - Placing order for client V410166 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525750CE', 'symboltoken': '49313', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '8.85'}
2025-05-19 13:43:26,590 - __main__ - INFO - Raw API response: 250519000608863
2025-05-19 13:43:26,591 - __main__ - INFO - Received order ID as direct string response: 250519000608863
2025-05-19 13:43:26,591 - options_trade_manager - INFO - Option order placed successfully for client V410166: 250519000608863
2025-05-19 13:43:27,417 - options_trade_manager - ERROR - Order 250519000608863 was not executed successfully: rejected
2025-05-19 13:43:28,063 - options_trade_manager - INFO - Placing order for NIFTY22MAY2525750CE with client M543167, quantity: 75, producttype: CARRYFORWARD, ordertype: LIMIT
2025-05-19 13:43:28,064 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525750CE', 'symboltoken': '49313', 'transactiontype': 'BUY', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '8.85'}
2025-05-19 13:43:28,585 - __main__ - INFO - Raw API response: 250519000626354
2025-05-19 13:43:28,585 - __main__ - INFO - Received order ID as direct string response: 250519000626354
2025-05-19 13:43:28,586 - options_trade_manager - INFO - Option order placed successfully for client M543167: 250519000626354
2025-05-19 13:43:29,158 - options_trade_manager - INFO - Option order placement complete: 1/2 successful
2025-05-19 13:43:29,158 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:43:29] "POST /options-webhook HTTP/1.1" 200 -
2025-05-19 13:43:35,973 - TradeMonitorService - INFO - Successfully loaded 1 trades from option_trades.json
2025-05-19 13:43:35,974 - TradeMonitorService - INFO - Subscribing to 1 underlying tokens for active trades
2025-05-19 13:43:35,974 - angel_websocket_manager - INFO - Subscribed to 1 tokens in mode 1
2025-05-19 13:43:36,877 - TradeMonitorService - WARNING - Error getting orderBook: '>' not supported between instances of 'str' and 'int'
2025-05-19 13:43:36,909 - TradeMonitorService - INFO - Stop loss hit for NIFTY at 24984.1, exiting NIFTY22MAY2525750CE
2025-05-19 13:43:36,911 - __main__ - INFO - Placing order for client M543167 with params: {'variety': 'NORMAL', 'tradingsymbol': 'NIFTY22MAY2525750CE', 'symboltoken': '49313', 'transactiontype': 'SELL', 'exchange': 'NFO', 'ordertype': 'LIMIT', 'producttype': 'CARRYFORWARD', 'duration': 'DAY', 'quantity': '75', 'price': '8.65'}
2025-05-19 13:43:37,826 - options_module - INFO - Getting price for NIFTY on NSE
2025-05-19 13:43:37,881 - __main__ - INFO - Raw API response: 250519000626545
2025-05-19 13:43:37,881 - __main__ - INFO - Received order ID as direct string response: 250519000626545
2025-05-19 13:43:37,881 - TradeMonitorService - INFO - Successfully exited option position NIFTY22MAY2525750CE (STOP_LOSS_HIT): 250519000626545
2025-05-19 13:43:37,882 - TradeMonitorService - INFO - P&L for NIFTY22MAY2525750CE: Rs.-3.75 (-0.57%)
2025-05-19 13:43:37,920 - TradeMonitorService - INFO - Recorded completed trade for NIFTY22MAY2525750CE in completed_option_trades.json
2025-05-19 13:43:37,923 - TradeMonitorService - INFO - Unsubscribing from NIFTY as all trades for it are closed
2025-05-19 13:43:37,924 - angel_websocket_manager - INFO - Unsubscribed from 1 tokens in mode 1
2025-05-19 13:43:38,617 - options_module - INFO - Got price for index NIFTY: 24984.45
2025-05-19 13:43:38,618 - TradeMonitorService - INFO - Completed polling-based trade check
2025-05-19 13:43:49,664 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 13:43:58,452 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:43:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:43:58,774 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:43:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:44:36,141 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:44:36,142 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:44:36,142 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:44:41,143 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:44:41,144 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:44:41,232 - websocket - INFO - Websocket connected
2025-05-19 13:44:41,233 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:44:41,233 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:44:41,233 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:44:50,616 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:44:50,616 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:44:50,616 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:44:55,618 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:44:55,619 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:44:55,756 - websocket - INFO - Websocket connected
2025-05-19 13:44:55,756 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:44:55,756 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:44:55,756 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:44:56,735 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:44:56,735 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:44:56,735 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:44:56,747 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:44:56,748 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:44:56,748 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:44:58,445 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:44:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:44:58,752 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:44:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:45:01,736 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:45:01,737 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:45:01,749 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:45:01,751 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:45:03,177 - websocket - INFO - Websocket connected
2025-05-19 13:45:03,177 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:45:03,178 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:45:03,178 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:45:03,200 - websocket - INFO - Websocket connected
2025-05-19 13:45:03,200 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:45:03,200 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:45:03,201 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:45:58,747 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:45:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:45:59,012 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:45:59] "GET /login HTTP/1.1" 200 -
2025-05-19 13:46:05,972 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:46:05,972 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:46:05,973 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:46:10,974 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:46:10,975 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:46:11,135 - websocket - INFO - Websocket connected
2025-05-19 13:46:11,136 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:46:11,136 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:46:11,137 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:46:19,681 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:46:19,681 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:46:19,681 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:46:24,685 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:46:24,686 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:46:25,890 - websocket - INFO - Websocket connected
2025-05-19 13:46:25,890 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:46:25,890 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:46:25,891 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:46:35,970 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:46:35,970 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:46:35,971 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:46:40,972 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:46:40,973 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:46:41,235 - websocket - INFO - Websocket connected
2025-05-19 13:46:41,236 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:46:41,236 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:46:41,236 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:46:49,679 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:46:49,680 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:46:49,680 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:46:54,682 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:46:54,683 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:46:55,889 - websocket - INFO - Websocket connected
2025-05-19 13:46:55,901 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:46:55,902 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:46:55,902 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:46:58,438 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:46:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:46:58,773 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:46:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:47:35,994 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:47:35,995 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:47:35,995 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:47:40,996 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:47:40,997 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:47:42,191 - websocket - INFO - Websocket connected
2025-05-19 13:47:42,191 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:47:42,192 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:47:42,192 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:47:49,704 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:47:49,705 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:47:49,705 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:47:54,706 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:47:54,707 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:47:54,928 - websocket - INFO - Websocket connected
2025-05-19 13:47:54,929 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:47:54,929 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:47:54,930 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:47:58,444 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:47:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:47:58,761 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:47:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:48:35,984 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:48:35,984 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:48:35,984 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:48:40,985 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:48:40,989 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:48:42,139 - websocket - INFO - Websocket connected
2025-05-19 13:48:42,139 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:48:42,139 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:48:42,140 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:48:49,684 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:48:49,684 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:48:49,685 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:48:54,686 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:48:54,687 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:48:54,815 - websocket - INFO - Websocket connected
2025-05-19 13:48:54,816 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:48:54,816 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:48:54,816 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:48:58,450 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:48:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:48:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:48:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:49:05,995 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:49:05,996 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:49:05,996 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:49:10,997 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:49:10,998 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:49:11,147 - websocket - INFO - Websocket connected
2025-05-19 13:49:11,148 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:49:11,148 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:49:11,149 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:49:19,701 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:49:19,702 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:49:19,702 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:49:24,703 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:49:24,704 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:49:25,905 - websocket - INFO - Websocket connected
2025-05-19 13:49:25,905 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:49:25,905 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:49:25,906 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:49:58,445 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:49:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:49:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:49:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:50:35,999 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:50:35,999 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:50:35,999 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:50:36,002 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:50:36,003 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:50:36,003 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 13:50:36,003 - angel_websocket_manager - INFO - Reconnect thread already running, not starting another
2025-05-19 13:50:41,000 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:50:41,001 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:50:41,145 - websocket - INFO - Websocket connected
2025-05-19 13:50:41,145 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:50:41,145 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:50:41,146 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:50:49,688 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:50:49,688 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:50:49,688 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:50:49,712 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:50:49,712 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:50:49,713 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 13:50:49,713 - angel_websocket_manager - INFO - Reconnect thread already running, not starting another
2025-05-19 13:50:54,690 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:50:54,691 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:50:54,797 - websocket - INFO - Websocket connected
2025-05-19 13:50:54,798 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:50:54,798 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:50:54,798 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:50:58,479 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:50:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 13:50:58,800 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:50:58] "GET /login HTTP/1.1" 200 -
2025-05-19 13:51:37,742 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:37] "[32mGET /orders HTTP/1.1[0m" 302 -
2025-05-19 13:51:38,066 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:38] "GET /login HTTP/1.1" 200 -
2025-05-19 13:51:38,257 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:38] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:51:49,030 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:49] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-19 13:51:49,361 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:49] "GET / HTTP/1.1" 200 -
2025-05-19 13:51:53,741 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:53] "GET /orders HTTP/1.1" 200 -
2025-05-19 13:51:53,754 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:53] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:51:58,746 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:51:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:52:06,003 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:52:06,004 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:52:06,004 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:52:11,005 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:52:11,006 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:52:12,195 - websocket - INFO - Websocket connected
2025-05-19 13:52:12,195 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:52:12,195 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:52:12,196 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:52:19,709 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:52:19,709 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:52:19,709 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:52:24,712 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:52:24,713 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:52:24,916 - websocket - INFO - Websocket connected
2025-05-19 13:52:24,917 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:52:24,917 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:52:24,918 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:52:35,995 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:52:35,995 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:52:35,995 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:52:40,996 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:52:40,999 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:52:41,165 - websocket - INFO - Websocket connected
2025-05-19 13:52:41,167 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:52:41,168 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:52:41,169 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:52:49,692 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:52:49,692 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:52:49,692 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:52:54,693 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:52:54,695 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:52:54,824 - websocket - INFO - Websocket connected
2025-05-19 13:52:54,824 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:52:54,825 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:52:54,825 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:52:58,454 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:52:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:53:36,007 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:53:36,007 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:53:36,007 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:53:41,009 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:53:41,010 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:53:41,176 - websocket - INFO - Websocket connected
2025-05-19 13:53:41,176 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:53:41,176 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:53:41,177 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:53:58,785 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:53:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:54:40,552 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:54:41,390 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 13:54:44,155 - __main__ - INFO - No trades found for today for M543167
2025-05-19 13:54:44,881 - __main__ - ERROR - Exception getting holdings for M543167: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-19 13:54:45,502 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:54:45] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 13:54:45,521 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:54:45] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:54:45,857 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:54:45] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:54:49,695 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:54:49,695 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:54:49,695 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:54:54,699 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:54:54,700 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:54:55,549 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:54:55] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:54:58,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:54:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:05,552 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:05] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:06,014 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:55:06,014 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:55:06,014 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:55:11,015 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:55:11,017 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:55:11,318 - websocket - INFO - Websocket connected
2025-05-19 13:55:11,318 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:55:11,318 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:55:11,319 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:55:15,787 - angel_websocket_manager - ERROR - Market data WebSocket error: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
2025-05-19 13:55:15,787 - websocket - ERROR - [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond - goodbye
2025-05-19 13:55:15,787 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 13:55:15,787 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:55:15,788 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 13:55:15,866 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:15] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:25,789 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:55:25,790 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:55:26,067 - websocket - INFO - Websocket connected
2025-05-19 13:55:26,068 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:55:26,068 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:55:26,068 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:55:26,449 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:26] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:36,763 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:36] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:46,746 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:46] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:55:54,803 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:54] "GET /accounts HTTP/1.1" 200 -
2025-05-19 13:55:54,824 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:54] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:55:57,113 - __main__ - ERROR - Exception getting positions for V410166: 'NoneType' object is not iterable
2025-05-19 13:55:58,218 - __main__ - ERROR - Exception getting holdings for V410166: 'NoneType' object is not iterable
2025-05-19 13:55:58,455 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:55:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:01,240 - __main__ - INFO - No trades found for today for M543167
2025-05-19 13:56:03,088 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:03] "GET /dashboard HTTP/1.1" 200 -
2025-05-19 13:56:03,419 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 13:56:03,680 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:03] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:14,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:14] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:24,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:24] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:34,490 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:34] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:36,014 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:56:36,017 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:56:36,017 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:56:41,021 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:56:41,027 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:56:41,256 - websocket - INFO - Websocket connected
2025-05-19 13:56:41,257 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:56:41,257 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:56:41,258 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:56:44,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:44] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:49,698 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:56:49,699 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:56:49,699 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:56:54,700 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:56:54,702 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:56:54,796 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:54] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:56:54,834 - websocket - INFO - Websocket connected
2025-05-19 13:56:54,835 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:56:54,835 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:56:54,835 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:56:58,794 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:56:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:57:04,443 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:57:04] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:57:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:57:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:57:59,022 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:57:59] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:58:06,270 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:58:06,270 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:58:06,271 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:58:11,292 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:58:11,301 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:58:12,513 - websocket - INFO - Websocket connected
2025-05-19 13:58:12,514 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:58:12,514 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:58:12,515 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:58:49,744 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:58:49,745 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 13:58:49,746 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:58:54,748 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 13:58:54,750 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 13:58:55,906 - websocket - INFO - Websocket connected
2025-05-19 13:58:55,907 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 13:58:55,907 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 13:58:55,907 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 13:58:58,438 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:58:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:58:58,743 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:58:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:59:36,024 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 13:59:36,024 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 13:59:36,024 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 13:59:41,026 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 13:59:41,028 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 13:59:42,238 - websocket - INFO - Websocket connected
2025-05-19 13:59:42,238 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 13:59:42,239 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 13:59:42,240 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 13:59:58,444 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:59:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 13:59:58,763 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 13:59:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 14:00:49,708 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:00:49,708 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:00:49,708 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:00:54,710 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:00:54,711 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:00:54,819 - websocket - INFO - Websocket connected
2025-05-19 14:00:54,819 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:00:54,819 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:00:54,819 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:00:58,449 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:00:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 14:00:58,760 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:00:58] "GET /api/websocket/status HTTP/1.1" 200 -
2025-05-19 14:01:06,024 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:01:06,024 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:01:06,025 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:01:11,026 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:01:11,027 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:01:12,161 - websocket - INFO - Websocket connected
2025-05-19 14:01:12,161 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:01:12,162 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:01:12,163 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:01:35,033 - werkzeug - INFO -  * Detected change in 'C:\\Users\\ADMIN\\Downloads\\pythonangleone-20250502T071740Z-001\\pythonangleoneactivemonitoring\\angle-one-trading-ui.py', reloading
2025-05-19 14:01:35,036 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 14:01:49,682 - TradeMonitorService - INFO - Monitoring thread stopped
2025-05-19 14:01:49,694 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 14:01:49,694 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 14:01:49,720 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 14:01:49,723 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:01:49,723 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 14:01:49,753 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 14:01:49,757 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:01:49,757 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 14:01:49,757 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
2025-05-19 14:01:50,650 - werkzeug - INFO -  * Restarting with stat
2025-05-19 14:01:54,388 - account_manager - INFO - Successfully loaded 2 active accounts from accounts.json
2025-05-19 14:01:54,389 - account_manager - INFO - Successfully loaded 2 total accounts from allaccounts.json
2025-05-19 14:01:54,389 - __main__ - INFO - Successfully loaded configuration from config.json
2025-05-19 14:01:54,390 - __main__ - WARNING - symbols.json not found. Will fetch from API when needed.
2025-05-19 14:01:54,403 - __main__ - INFO - Initializing 2 client connections
2025-05-19 14:01:54,437 - __main__ - INFO - Attempting login for client: V410166
2025-05-19 14:01:57,078 - __main__ - INFO - User profile retrieved for V410166. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 14:01:57,078 - __main__ - INFO - Login successful for client: V410166
2025-05-19 14:01:57,078 - __main__ - INFO - Client V410166 initialized successfully
2025-05-19 14:01:57,106 - __main__ - INFO - Attempting login for client: M543167
2025-05-19 14:01:58,712 - __main__ - INFO - User profile retrieved for M543167. Available exchanges: ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo']
2025-05-19 14:01:58,712 - __main__ - INFO - Login successful for client: M543167
2025-05-19 14:01:58,713 - __main__ - INFO - Client M543167 initialized successfully
2025-05-19 14:01:58,713 - options_module - INFO - Verifying client connection
2025-05-19 14:01:58,713 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 14:01:58,713 - options_module - INFO - Verifying client connection
2025-05-19 14:01:58,714 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 14:01:58,714 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 14:01:58,714 - options_module - INFO - Initializing symbol token map from Angel One OpenAPI
2025-05-19 14:02:05,142 - options_module - INFO - Successfully loaded 127932 symbols from OpenAPI
2025-05-19 14:02:05,146 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 14:02:05,146 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 14:02:05,147 - __main__ - INFO - Initializing WebSocket with client V410166
2025-05-19 14:02:05,148 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:02:05,149 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:02:05,149 - angel_websocket_manager - INFO - Heartbeat thread started
2025-05-19 14:02:05,150 - __main__ - INFO - WebSocket connections initialized
2025-05-19 14:02:05,150 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 14:02:05,151 - TradeMonitorService - INFO - TradeMonitorService initialized with 0 active trades
2025-05-19 14:02:05,151 - TradeMonitorService - INFO - Starting trade monitoring loop with interval of 60 seconds
2025-05-19 14:02:05,151 - TradeMonitorService - INFO - Trade monitoring thread started
2025-05-19 14:02:05,152 - __main__ - INFO - Client initialization complete. 2/2 clients active
2025-05-19 14:02:05,153 - options_module - INFO - Verifying client connection
2025-05-19 14:02:05,153 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 14:02:05,153 - options_module - INFO - Verifying client connection
2025-05-19 14:02:05,153 - options_module - INFO - Client connection verified with smart_api structure
2025-05-19 14:02:05,154 - options_module - INFO - Options processor initialized with 2 verified clients
2025-05-19 14:02:05,154 - options_trade_manager - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 14:02:05,155 - options_trade_manager - INFO - OptionsTradeManager initialized with 0 active trades
2025-05-19 14:02:05,155 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 14:02:05,155 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 14:02:05,156 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 14:02:05,156 - __main__ - WARNING - WebSocket connection lost, attempting to reconnect
2025-05-19 14:02:05,157 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:02:05,158 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:02:05,158 - __main__ - INFO - WebSocket connection reestablished
2025-05-19 14:02:05,182 - werkzeug - WARNING -  * Debugger is active!
2025-05-19 14:02:05,245 - werkzeug - INFO -  * Debugger PIN: 140-552-662
2025-05-19 14:02:05,271 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:05,277 - websocket - INFO - Websocket connected
2025-05-19 14:02:05,278 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:02:05,278 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:02:05,278 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:02:05,279 - angel_websocket_manager - ERROR - Market data WebSocket error: Connection to remote host was lost.
2025-05-19 14:02:05,279 - websocket - ERROR - Connection to remote host was lost. - goodbye
2025-05-19 14:02:05,279 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 14:02:05,279 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:02:05,280 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:02:05,582 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:05,609 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:05,848 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:05,893 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:05,925 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:05] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:06,153 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:06] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:06,201 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:06] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:06,313 - websocket - INFO - Websocket connected
2025-05-19 14:02:06,313 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:02:06,314 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:02:06,314 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:02:06,317 - websocket - INFO - Websocket connected
2025-05-19 14:02:06,317 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:02:06,318 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:02:06,318 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:02:10,281 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:02:10,282 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:02:11,163 - websocket - INFO - Websocket connected
2025-05-19 14:02:11,163 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:02:11,164 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:02:11,164 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:02:14,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:14] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:15,022 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:15] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:23,804 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:23] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:24,071 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:24] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:34,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:34] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:35,029 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:35] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:36,009 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:02:36,009 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:02:36,009 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:02:38,671 - TradeMonitorService - INFO - Successfully loaded 0 trades from option_trades.json
2025-05-19 14:02:41,051 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:02:41,085 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:02:42,298 - websocket - INFO - Websocket connected
2025-05-19 14:02:42,298 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:02:42,298 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:02:42,300 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:02:44,753 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:44] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:45,021 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:45] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:58,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:59,024 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:02:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:02:59,075 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:02:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:03:36,314 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:03:36,315 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:03:36,315 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:03:41,316 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:03:41,318 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:03:41,660 - websocket - INFO - Websocket connected
2025-05-19 14:03:41,661 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:03:41,662 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:03:41,664 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:03:58,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:03:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:03:59,014 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:03:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:03:59,065 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:03:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:03:59,068 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:03:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:04:05,278 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:04:05,279 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:04:05,280 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:04:06,007 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:04:06,008 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:04:06,008 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:04:10,282 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:04:10,287 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:04:11,011 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:04:11,046 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:04:11,308 - websocket - INFO - Websocket connected
2025-05-19 14:04:11,309 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:04:11,310 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:04:11,310 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:04:12,235 - websocket - INFO - Websocket connected
2025-05-19 14:04:12,236 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:04:12,236 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:04:12,237 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:04:25,739 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:25] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:04:26,002 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:26] "GET /login HTTP/1.1" 200 -
2025-05-19 14:04:35,438 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:35] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:04:35,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:35] "GET /login HTTP/1.1" 200 -
2025-05-19 14:04:45,447 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:45] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:04:45,761 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:45] "GET /login HTTP/1.1" 200 -
2025-05-19 14:04:55,443 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:55] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:04:55,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:55] "GET /login HTTP/1.1" 200 -
2025-05-19 14:04:58,463 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:04:58,787 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:04:58] "GET /login HTTP/1.1" 200 -
2025-05-19 14:05:05,169 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:05:05,169 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:05:05,170 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:05:05,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:05] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:05:06,027 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:06] "GET /login HTTP/1.1" 200 -
2025-05-19 14:05:10,172 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:05:10,174 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:05:10,360 - websocket - INFO - Websocket connected
2025-05-19 14:05:10,361 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:05:10,362 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:05:10,364 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:05:15,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:15] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:05:16,028 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:16] "GET /login HTTP/1.1" 200 -
2025-05-19 14:05:25,761 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:25] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:05:26,010 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:26] "GET /login HTTP/1.1" 200 -
2025-05-19 14:05:36,014 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:05:36,014 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:05:36,014 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:05:41,017 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:05:41,018 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:05:41,304 - websocket - INFO - Websocket connected
2025-05-19 14:05:41,304 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:05:41,305 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:05:41,305 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:05:58,757 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:05:59,019 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:05:59,079 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:05:59,083 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:05:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:06:05,167 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:06:05,168 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:06:05,169 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:06:10,171 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:06:10,172 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:06:10,259 - websocket - INFO - Websocket connected
2025-05-19 14:06:10,259 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:06:10,260 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:06:10,260 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:06:35,173 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:06:35,173 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:06:35,173 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:06:40,174 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:06:40,175 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:06:40,383 - websocket - INFO - Websocket connected
2025-05-19 14:06:40,384 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:06:40,384 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:06:40,384 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:06:58,772 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:06:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:06:59,027 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:06:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:06:59,090 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:06:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:06:59,098 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:06:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:07:06,014 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:07:06,015 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:07:06,015 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:07:11,015 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:07:11,017 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:07:11,176 - websocket - INFO - Websocket connected
2025-05-19 14:07:11,176 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:07:11,176 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:07:11,177 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:07:58,757 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:07:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:07:59,023 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:07:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:07:59,070 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:07:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:07:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:07:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:08:05,173 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:08:05,173 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:08:05,173 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:08:05,195 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:08:05,195 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:08:05,196 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 14:08:05,196 - angel_websocket_manager - INFO - Reconnect thread already running, not starting another
2025-05-19 14:08:10,174 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:08:10,177 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:08:10,299 - websocket - INFO - Websocket connected
2025-05-19 14:08:10,300 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:08:10,300 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:08:10,300 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:08:36,037 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:08:36,037 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:08:36,038 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:08:41,039 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:08:41,042 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:08:41,211 - websocket - INFO - Websocket connected
2025-05-19 14:08:41,211 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:08:41,212 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:08:41,215 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:08:58,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:08:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:08:59,019 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:08:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:08:59,066 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:08:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:08:59,069 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:08:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:09:35,200 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:09:35,201 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:09:35,202 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:09:40,204 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:09:40,205 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:09:40,360 - websocket - INFO - Websocket connected
2025-05-19 14:09:40,361 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:09:40,361 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:09:40,361 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:09:58,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:09:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:09:59,014 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:09:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:09:59,085 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:09:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:09:59,093 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:09:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:10:05,176 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:10:05,176 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:10:05,176 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:10:06,039 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:10:06,040 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:10:06,040 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:10:10,177 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:10:10,178 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:10:10,307 - websocket - INFO - Websocket connected
2025-05-19 14:10:10,308 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:10:10,309 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:10:10,309 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:10:11,041 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:10:11,046 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:10:11,215 - websocket - INFO - Websocket connected
2025-05-19 14:10:11,215 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:10:11,215 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:10:11,216 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:10:58,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:10:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:10:59,013 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:10:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:10:59,060 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:10:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:10:59,063 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:10:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:11:36,046 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:11:36,047 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:11:36,047 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:11:41,049 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:11:41,050 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:11:41,327 - websocket - INFO - Websocket connected
2025-05-19 14:11:41,327 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:11:41,327 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:11:41,328 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:11:58,750 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:11:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:11:59,012 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:11:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:11:59,058 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:11:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:11:59,061 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:11:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:12:05,183 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:12:05,183 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:12:05,184 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:12:10,184 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:12:10,185 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:12:10,298 - websocket - INFO - Websocket connected
2025-05-19 14:12:10,298 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:12:10,298 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:12:10,299 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:12:35,966 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 14:12:35,970 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 14:12:35,971 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 14:12:58,757 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:12:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:12:59,020 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:12:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:12:59,068 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:12:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:12:59,071 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:12:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:13:06,047 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:13:06,048 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:13:06,049 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:13:11,051 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:13:11,054 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:13:11,233 - websocket - INFO - Websocket connected
2025-05-19 14:13:11,234 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:13:11,234 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:13:11,235 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:13:58,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:13:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:13:59,016 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:13:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:13:59,068 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:13:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:13:59,075 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:13:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:14:05,196 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:14:05,197 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:14:05,198 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:14:10,201 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:14:10,203 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:14:10,320 - websocket - INFO - Websocket connected
2025-05-19 14:14:10,320 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:14:10,321 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:14:10,321 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:14:36,050 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:14:36,051 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:14:36,052 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:14:41,054 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:14:41,056 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:14:41,231 - websocket - INFO - Websocket connected
2025-05-19 14:14:41,231 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:14:41,231 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:14:41,232 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:14:58,757 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:14:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:14:59,018 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:14:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:14:59,065 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:14:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:14:59,069 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:14:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:15:58,748 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:15:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:15:59,015 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:15:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:15:59,062 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:15:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:15:59,065 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:15:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:16:05,206 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:16:05,207 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:16:05,207 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:16:06,051 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:16:06,051 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:16:06,051 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:16:10,211 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:16:10,212 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:16:10,327 - websocket - INFO - Websocket connected
2025-05-19 14:16:10,327 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:16:10,327 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:16:10,327 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:16:11,055 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:16:11,057 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:16:11,166 - websocket - INFO - Websocket connected
2025-05-19 14:16:11,167 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:16:11,167 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:16:11,167 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:16:58,757 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:16:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:16:59,024 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:16:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:16:59,073 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:16:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:16:59,078 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:16:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:17:36,037 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:17:36,037 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:17:36,038 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:17:41,041 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:17:41,043 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:17:41,147 - websocket - INFO - Websocket connected
2025-05-19 14:17:41,147 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:17:41,148 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:17:41,148 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:17:58,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:17:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:17:59,015 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:17:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:17:59,087 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:17:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:17:59,096 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:17:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:18:05,271 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:18:05,272 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:18:05,273 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:18:10,274 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:18:10,276 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:18:10,384 - websocket - INFO - Websocket connected
2025-05-19 14:18:10,385 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:18:10,385 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:18:10,385 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:18:58,759 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:18:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:18:59,022 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:18:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:18:59,070 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:18:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:18:59,074 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:18:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:19:06,041 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:19:06,042 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:19:06,042 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:19:11,043 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:19:11,044 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:19:12,358 - websocket - INFO - Websocket connected
2025-05-19 14:19:12,358 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:19:12,358 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:19:12,359 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:19:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:19:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:19:59,014 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:19:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:19:59,074 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:19:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:19:59,078 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:19:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:20:05,428 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:20:05,429 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:20:05,430 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:20:10,432 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:20:10,432 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:20:11,610 - websocket - INFO - Websocket connected
2025-05-19 14:20:11,610 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:20:11,610 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:20:11,610 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:20:36,042 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:20:36,043 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:20:36,043 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:20:41,044 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:20:41,045 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:20:41,198 - websocket - INFO - Websocket connected
2025-05-19 14:20:41,199 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:20:41,199 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:20:41,199 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:20:58,759 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:20:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:20:59,025 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:20:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:20:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:20:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:20:59,075 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:20:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:21:58,759 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:21:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:21:59,009 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:21:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:21:59,073 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:21:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:21:59,076 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:21:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:22:05,226 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:22:05,226 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:22:05,226 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:22:06,068 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:22:06,068 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:22:06,069 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:22:10,227 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:22:10,230 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:22:11,071 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:22:11,072 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:22:11,271 - websocket - INFO - Websocket connected
2025-05-19 14:22:11,272 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:22:11,273 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:22:11,274 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:22:11,396 - websocket - INFO - Websocket connected
2025-05-19 14:22:11,396 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:22:11,396 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:22:11,397 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:22:58,754 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:22:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:22:59,017 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:22:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:22:59,064 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:22:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:22:59,068 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:22:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:23:36,099 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:23:36,099 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:23:36,100 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:23:41,101 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:23:41,146 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:23:41,323 - websocket - INFO - Websocket connected
2025-05-19 14:23:41,324 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:23:41,325 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:23:41,327 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:23:58,759 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:23:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:23:59,013 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:23:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:23:59,074 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:23:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:23:59,078 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:23:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:24:05,253 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:24:05,253 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:24:05,254 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:24:10,254 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:24:10,255 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:24:10,343 - websocket - INFO - Websocket connected
2025-05-19 14:24:10,343 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:24:10,343 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:24:10,344 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:24:58,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:24:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:24:59,006 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:24:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:24:59,067 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:24:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:24:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:24:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:25:06,070 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:25:06,070 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:25:06,071 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:25:11,072 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:25:11,107 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:25:11,278 - websocket - INFO - Websocket connected
2025-05-19 14:25:11,278 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:25:11,279 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:25:11,281 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:25:58,746 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:25:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:25:59,002 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:25:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:25:59,067 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:25:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:25:59,070 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:25:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:26:05,211 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:26:05,211 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:26:05,211 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:26:10,213 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:26:10,213 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:26:11,403 - websocket - INFO - Websocket connected
2025-05-19 14:26:11,404 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:26:11,404 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:26:11,404 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:26:36,082 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:26:36,083 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:26:36,084 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:26:41,087 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:26:41,090 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:26:41,191 - websocket - INFO - Websocket connected
2025-05-19 14:26:41,192 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:26:41,192 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:26:41,192 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:26:58,753 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:26:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:26:59,005 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:26:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:26:59,069 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:26:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:26:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:26:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:27:58,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:27:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:27:59,017 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:27:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:27:59,064 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:27:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:27:59,067 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:27:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:28:05,217 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:28:05,218 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:28:05,219 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:28:06,060 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:28:06,061 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:28:06,062 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:28:10,221 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:28:10,224 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:28:11,063 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:28:11,064 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:28:11,236 - websocket - INFO - Websocket connected
2025-05-19 14:28:11,237 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:28:11,237 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:28:11,237 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:28:11,435 - websocket - INFO - Websocket connected
2025-05-19 14:28:11,435 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:28:11,436 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:28:11,436 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:28:58,760 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:28:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:28:59,077 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:28:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:28:59,079 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:28:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:28:59,086 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:28:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:29:36,063 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:29:36,063 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:29:36,064 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:29:41,065 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:29:41,068 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:29:42,277 - websocket - INFO - Websocket connected
2025-05-19 14:29:42,277 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:29:42,277 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:29:42,278 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:29:58,749 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:29:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:29:59,012 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:29:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:29:59,061 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:29:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:29:59,065 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:29:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:30:05,222 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:30:05,223 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:30:05,226 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:30:10,227 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:30:10,228 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:30:11,546 - websocket - INFO - Websocket connected
2025-05-19 14:30:11,547 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:30:11,548 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:30:11,549 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:30:58,756 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:30:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:30:59,015 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:30:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:30:59,069 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:30:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:30:59,079 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:30:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:31:06,068 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:31:06,069 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:31:06,070 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:31:11,073 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:31:11,076 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:31:11,274 - websocket - INFO - Websocket connected
2025-05-19 14:31:11,275 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:31:11,276 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:31:11,279 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:31:58,754 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:31:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:31:59,010 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:31:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:31:59,102 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:31:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:31:59,114 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:31:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:32:05,166 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 14:32:05,169 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 14:32:05,170 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 14:32:05,224 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:32:05,225 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:32:05,226 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:32:10,228 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:32:10,230 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:32:10,454 - websocket - INFO - Websocket connected
2025-05-19 14:32:10,455 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:32:10,456 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:32:10,456 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:32:36,332 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:32:36,333 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:32:36,334 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:32:41,336 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:32:41,338 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:32:41,540 - websocket - INFO - Websocket connected
2025-05-19 14:32:41,541 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:32:41,542 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:32:41,544 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:32:58,762 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:32:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:32:59,014 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:32:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:32:59,072 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:32:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:32:59,081 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:32:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:33:58,762 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:33:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:33:59,018 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:33:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:33:59,075 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:33:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:33:59,084 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:33:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:34:05,229 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:34:05,230 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:34:05,230 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:34:06,094 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:34:06,096 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:34:06,097 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:34:10,233 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:34:10,235 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:34:10,397 - websocket - INFO - Websocket connected
2025-05-19 14:34:10,397 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:34:10,397 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:34:10,398 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:34:11,100 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:34:11,103 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:34:11,283 - websocket - INFO - Websocket connected
2025-05-19 14:34:11,284 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:34:11,285 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:34:11,287 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:34:58,750 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:34:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:34:59,012 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:34:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:34:59,110 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:34:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:34:59,114 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:34:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:35:36,079 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:35:36,080 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:35:36,081 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:35:41,085 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:35:41,150 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:35:41,461 - websocket - INFO - Websocket connected
2025-05-19 14:35:41,462 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:35:41,463 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:35:41,466 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:35:58,798 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:35:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:35:59,010 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:35:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:35:59,125 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:35:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:35:59,128 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:35:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:36:05,234 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:36:05,235 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:36:05,236 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:36:10,239 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:36:10,243 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:36:10,421 - websocket - INFO - Websocket connected
2025-05-19 14:36:10,421 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:36:10,422 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:36:10,422 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:36:58,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:36:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:36:59,007 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:36:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:36:59,067 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:36:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:36:59,076 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:36:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:37:06,083 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:37:06,084 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:37:06,085 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:37:11,088 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:37:11,091 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:37:11,367 - websocket - INFO - Websocket connected
2025-05-19 14:37:11,368 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:37:11,368 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:37:11,371 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:37:58,752 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:37:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:37:59,009 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:37:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:37:59,064 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:37:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:37:59,070 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:37:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:38:05,238 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:38:05,238 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:38:05,238 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:38:10,239 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:38:10,242 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:38:11,685 - websocket - INFO - Websocket connected
2025-05-19 14:38:11,686 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:38:11,687 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:38:11,688 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:38:36,089 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:38:36,090 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:38:36,091 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:38:41,096 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:38:41,133 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:38:41,370 - websocket - INFO - Websocket connected
2025-05-19 14:38:41,371 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:38:41,372 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:38:41,375 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:38:58,748 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:38:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:38:59,020 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:38:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:38:59,062 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:38:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:38:59,074 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:38:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:39:58,751 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:39:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:39:59,017 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:39:59] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:39:59,065 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:39:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:39:59,074 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:39:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:40:05,241 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:40:05,242 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:40:05,243 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:40:06,102 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:40:06,103 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:40:06,104 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:40:10,245 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:40:10,248 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:40:11,107 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:40:11,178 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:40:11,621 - websocket - INFO - Websocket connected
2025-05-19 14:40:11,622 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:40:11,623 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:40:11,626 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:40:31,289 - angel_websocket_manager - ERROR - Market data WebSocket error: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
2025-05-19 14:40:31,291 - websocket - ERROR - [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond - goodbye
2025-05-19 14:40:31,293 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 14:40:31,294 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:40:31,295 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 10 seconds (attempt 2)
2025-05-19 14:40:41,297 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:40:41,299 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:40:49,440 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:49] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:40:49,711 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:49] "GET /login HTTP/1.1" 200 -
2025-05-19 14:40:54,457 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:54] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:40:54,770 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:54] "GET /login HTTP/1.1" 200 -
2025-05-19 14:40:58,451 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:40:58,778 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:40:58] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:03,458 - angel_websocket_manager - ERROR - Market data WebSocket error: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
2025-05-19 14:41:03,459 - websocket - ERROR - [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond - goodbye
2025-05-19 14:41:03,460 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 14:41:03,461 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:41:03,462 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 20 seconds (attempt 3)
2025-05-19 14:41:04,449 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:04] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:04,810 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:04] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:14,481 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:14] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:14,792 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:14] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:23,464 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:41:23,466 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:41:23,929 - websocket - INFO - Websocket connected
2025-05-19 14:41:23,930 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:41:23,930 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:41:23,931 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:41:24,758 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:24] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:25,016 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:25] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:34,439 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:34] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:34,755 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:34] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:36,130 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:41:36,131 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:41:36,132 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:41:41,135 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:41:41,138 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:41:41,414 - websocket - INFO - Websocket connected
2025-05-19 14:41:41,415 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:41:41,416 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:41:41,418 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:41:44,450 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:44] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:44,762 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:44] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:58,444 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:58,763 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:58] "GET /login HTTP/1.1" 200 -
2025-05-19 14:41:58,778 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:41:59,021 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:41:59] "GET /login HTTP/1.1" 200 -
2025-05-19 14:42:05,292 - angel_websocket_manager - INFO - Market data WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:42:05,293 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:42:05,294 - angel_websocket_manager - INFO - Scheduling stream WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:42:10,296 - angel_websocket_manager - INFO - Attempting to reconnect stream WebSocket
2025-05-19 14:42:10,298 - angel_websocket_manager - INFO - Market data WebSocket connection initiated
2025-05-19 14:42:10,538 - websocket - INFO - Websocket connected
2025-05-19 14:42:10,539 - angel_websocket_manager - INFO - Market data WebSocket connection established
2025-05-19 14:42:10,540 - angel_websocket_manager - INFO - No subscriptions to restore
2025-05-19 14:42:10,540 - TradeMonitorService - INFO - Market data WebSocket connected, subscribing to active trades
2025-05-19 14:42:35,997 - __main__ - INFO - Performing periodic session refresh for all clients
2025-05-19 14:42:35,999 - __main__ - INFO - Session refreshed successfully for client: V410166
2025-05-19 14:42:36,000 - __main__ - INFO - Session refreshed successfully for client: M543167
2025-05-19 14:42:43,353 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:43] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:42:43,685 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:43] "GET /login HTTP/1.1" 200 -
2025-05-19 14:42:53,457 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:53] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:42:53,769 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:53] "GET /login HTTP/1.1" 200 -
2025-05-19 14:42:58,464 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:58] "[32mGET /api/websocket/status HTTP/1.1[0m" 302 -
2025-05-19 14:42:58,782 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:42:58] "GET /login HTTP/1.1" 200 -
2025-05-19 14:43:02,038 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:43:02] "[32mGET /positions HTTP/1.1[0m" 302 -
2025-05-19 14:43:02,366 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:43:02] "GET /login HTTP/1.1" 200 -
2025-05-19 14:43:03,130 - werkzeug - INFO - 127.0.0.1 - - [19/May/2025 14:43:03] "[36mGET /static/css/main.css HTTP/1.1[0m" 304 -
2025-05-19 14:43:06,124 - angel_websocket_manager - INFO - Order status WebSocket closed: 1001 - Connection Idle Timeout
2025-05-19 14:43:06,125 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:43:06,125 - angel_websocket_manager - INFO - Scheduling order WebSocket reconnection in 5 seconds (attempt 1)
2025-05-19 14:43:11,127 - angel_websocket_manager - INFO - Attempting to reconnect order WebSocket
2025-05-19 14:43:11,131 - angel_websocket_manager - INFO - Order status WebSocket connection initiated
2025-05-19 14:43:11,430 - websocket - INFO - Websocket connected
2025-05-19 14:43:11,431 - angel_websocket_manager - INFO - Order status WebSocket connection established
2025-05-19 14:43:11,432 - TradeMonitorService - INFO - Order status WebSocket connected
2025-05-19 14:43:11,434 - TradeMonitorService - INFO - WebSocket order status connected, received initial message
2025-05-19 14:43:14,190 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 14:43:45,450 - TradeMonitorService - INFO - Shutting down TradeMonitorService...
2025-05-19 14:44:15,459 - TradeMonitorService - WARNING - Monitoring thread did not terminate within timeout
2025-05-19 14:44:15,512 - TradeMonitorService - INFO - TradeMonitorService shutdown complete
2025-05-19 14:44:15,514 - angel_websocket_manager - INFO - Closing WebSocket connections
2025-05-19 14:44:15,545 - angel_websocket_manager - INFO - Market data WebSocket closed: None - None
2025-05-19 14:44:15,552 - TradeMonitorService - WARNING - Market data WebSocket disconnected, falling back to polling
2025-05-19 14:44:15,552 - angel_websocket_manager - INFO - Not scheduling reconnect for stream as manager is shutting down
2025-05-19 14:44:15,582 - angel_websocket_manager - INFO - Order status WebSocket closed: None - None
2025-05-19 14:44:15,582 - TradeMonitorService - WARNING - Order status WebSocket disconnected
2025-05-19 14:44:15,583 - angel_websocket_manager - INFO - WebSocket connections closed
2025-05-19 14:44:15,583 - angel_websocket_manager - INFO - Not scheduling reconnect for order as manager is shutting down
